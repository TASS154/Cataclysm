(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var wf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function cT(){if(yy)return Ll;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var _ in u)_!=="key"&&(h[_]=u[_])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var _y;function hT(){return _y||(_y=1,wf.exports=cT()),wf.exports}var R=hT(),Nf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function fT(){if(vy)return Tt;vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.iterator;function U(O){return O===null||typeof O!="object"?null:(O=z&&O[z]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function nt(O,K,it){this.props=O,this.context=K,this.refs=J,this.updater=it||$}nt.prototype.isReactComponent={},nt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},nt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ot(){}ot.prototype=nt.prototype;function ht(O,K,it){this.props=O,this.context=K,this.refs=J,this.updater=it||$}var Et=ht.prototype=new ot;Et.constructor=ht,tt(Et,nt.prototype),Et.isPureReactComponent=!0;var zt=Array.isArray;function _t(){}var w={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function S(O,K,it){var lt=it.ref;return{$$typeof:r,type:O,key:K,ref:lt!==void 0?lt:null,props:it}}function D(O,K){return S(O.type,K,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var T=/\/+/g;function ft(O,K){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):K.toString(36)}function wt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(_t,_t):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function k(O,K,it,lt,yt){var Nt=typeof O;(Nt==="undefined"||Nt==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(Nt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case r:case e:Lt=!0;break;case b:return Lt=O._init,k(Lt(O._payload),K,it,lt,yt)}}if(Lt)return yt=yt(O),Lt=lt===""?"."+ft(O,0):lt,zt(yt)?(it="",Lt!=null&&(it=Lt.replace(T,"$&/")+"/"),k(yt,K,it,"",function(za){return za})):yt!=null&&(V(yt)&&(yt=D(yt,it+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(T,"$&/")+"/")+Lt)),K.push(yt)),1;Lt=0;var De=lt===""?".":lt+":";if(zt(O))for(var se=0;se<O.length;se++)lt=O[se],Nt=De+ft(lt,se),Lt+=k(lt,K,it,Nt,yt);else if(se=U(O),typeof se=="function")for(O=se.call(O),se=0;!(lt=O.next()).done;)lt=lt.value,Nt=De+ft(lt,se++),Lt+=k(lt,K,it,Nt,yt);else if(Nt==="object"){if(typeof O.then=="function")return k(wt(O),K,it,lt,yt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function W(O,K,it){if(O==null)return O;var lt=[],yt=0;return k(O,lt,"","",function(Nt){return K.call(it,Nt,yt++)}),lt}function at(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var St=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:W,forEach:function(O,K,it){W(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=N,Tt.Children=Ht,Tt.Component=nt,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=ht,Tt.StrictMode=s,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=tt({},O.props),yt=O.key;if(K!=null)for(Nt in K.key!==void 0&&(yt=""+K.key),K)!C.call(K,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&K.ref===void 0||(lt[Nt]=K[Nt]);var Nt=arguments.length-2;if(Nt===1)lt.children=it;else if(1<Nt){for(var Lt=Array(Nt),De=0;De<Nt;De++)Lt[De]=arguments[De+2];lt.children=Lt}return S(O.type,yt,lt)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Tt.createElement=function(O,K,it){var lt,yt={},Nt=null;if(K!=null)for(lt in K.key!==void 0&&(Nt=""+K.key),K)C.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(yt[lt]=K[lt]);var Lt=arguments.length-2;if(Lt===1)yt.children=it;else if(1<Lt){for(var De=Array(Lt),se=0;se<Lt;se++)De[se]=arguments[se+2];yt.children=De}if(O&&O.defaultProps)for(lt in Lt=O.defaultProps,Lt)yt[lt]===void 0&&(yt[lt]=Lt[lt]);return S(O,Nt,yt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:_,render:O}},Tt.isValidElement=V,Tt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:at}},Tt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=w.T,it={};w.T=it;try{var lt=O(),yt=w.S;yt!==null&&yt(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(_t,St)}catch(Nt){St(Nt)}finally{K!==null&&it.types!==null&&(K.types=it.types),w.T=K}},Tt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Tt.use=function(O){return w.H.use(O)},Tt.useActionState=function(O,K,it){return w.H.useActionState(O,K,it)},Tt.useCallback=function(O,K){return w.H.useCallback(O,K)},Tt.useContext=function(O){return w.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return w.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return w.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return w.H.useEffectEvent(O)},Tt.useId=function(){return w.H.useId()},Tt.useImperativeHandle=function(O,K,it){return w.H.useImperativeHandle(O,K,it)},Tt.useInsertionEffect=function(O,K){return w.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return w.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return w.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return w.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,it){return w.H.useReducer(O,K,it)},Tt.useRef=function(O){return w.H.useRef(O)},Tt.useState=function(O){return w.H.useState(O)},Tt.useSyncExternalStore=function(O,K,it){return w.H.useSyncExternalStore(O,K,it)},Tt.useTransition=function(){return w.H.useTransition()},Tt.version="19.2.0",Tt}var Ey;function dd(){return Ey||(Ey=1,Nf.exports=fT()),Nf.exports}var bt=dd(),Df={exports:{}},Bl={},Vf={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function dT(){return Ty||(Ty=1,(function(r){function e(k,W){var at=k.length;k.push(W);t:for(;0<at;){var St=at-1>>>1,Ht=k[St];if(0<u(Ht,W))k[St]=W,k[at]=Ht,at=St;else break t}}function i(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var W=k[0],at=k.pop();if(at!==W){k[0]=at;t:for(var St=0,Ht=k.length,O=Ht>>>1;St<O;){var K=2*(St+1)-1,it=k[K],lt=K+1,yt=k[lt];if(0>u(it,at))lt<Ht&&0>u(yt,it)?(k[St]=yt,k[lt]=at,St=lt):(k[St]=it,k[K]=at,St=K);else if(lt<Ht&&0>u(yt,at))k[St]=yt,k[lt]=at,St=lt;else break t}}return W}function u(k,W){var at=k.sortIndex-W.sortIndex;return at!==0?at:k.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();r.unstable_now=function(){return d.now()-_}}var v=[],y=[],b=1,N=null,z=3,U=!1,$=!1,tt=!1,J=!1,nt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Et(k){for(var W=i(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=k)s(y),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(y)}}function zt(k){if(tt=!1,Et(k),!$)if(i(v)!==null)$=!0,_t||(_t=!0,x());else{var W=i(y);W!==null&&wt(zt,W.startTime-k)}}var _t=!1,w=-1,C=5,S=-1;function D(){return J?!0:!(r.unstable_now()-S<C)}function V(){if(J=!1,_t){var k=r.unstable_now();S=k;var W=!0;try{t:{$=!1,tt&&(tt=!1,ot(w),w=-1),U=!0;var at=z;try{e:{for(Et(k),N=i(v);N!==null&&!(N.expirationTime>k&&D());){var St=N.callback;if(typeof St=="function"){N.callback=null,z=N.priorityLevel;var Ht=St(N.expirationTime<=k);if(k=r.unstable_now(),typeof Ht=="function"){N.callback=Ht,Et(k),W=!0;break e}N===i(v)&&s(v),Et(k)}else s(v);N=i(v)}if(N!==null)W=!0;else{var O=i(y);O!==null&&wt(zt,O.startTime-k),W=!1}}break t}finally{N=null,z=at,U=!1}W=void 0}}finally{W?x():_t=!1}}}var x;if(typeof ht=="function")x=function(){ht(V)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,ft=T.port2;T.port1.onmessage=V,x=function(){ft.postMessage(null)}}else x=function(){nt(V,0)};function wt(k,W){w=nt(function(){k(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_next=function(k){switch(z){case 1:case 2:case 3:var W=3;break;default:W=z}var at=z;z=W;try{return k()}finally{z=at}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var at=z;z=k;try{return W()}finally{z=at}},r.unstable_scheduleCallback=function(k,W,at){var St=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?St+at:St):at=St,k){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=at+Ht,k={id:b++,callback:W,priorityLevel:k,startTime:at,expirationTime:Ht,sortIndex:-1},at>St?(k.sortIndex=at,e(y,k),i(v)===null&&k===i(y)&&(tt?(ot(w),w=-1):tt=!0,wt(zt,at-St))):(k.sortIndex=Ht,e(v,k),$||U||($=!0,_t||(_t=!0,x()))),k},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(k){var W=z;return function(){var at=z;z=W;try{return k.apply(this,arguments)}finally{z=at}}}})(If)),If}var Ay;function mT(){return Ay||(Ay=1,Vf.exports=dT()),Vf.exports}var xf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function gT(){if(Sy)return Fe;Sy=1;var r=dd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,y,b){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,b)},Fe.flushSync=function(v){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=y,s.p=b,s.d.f()}},Fe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Fe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Fe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,N=_(b,y.crossOrigin),z=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:z,fetchPriority:U}):b==="script"&&s.d.X(v,{crossOrigin:N,integrity:z,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=_(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Fe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,N=_(b,y.crossOrigin);s.d.L(v,b,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=_(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Fe.requestFormReset=function(v){s.d.r(v)},Fe.unstable_batchedUpdates=function(v,y){return v(y)},Fe.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.0",Fe}var by;function pT(){if(by)return xf.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xf.exports=gT(),xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function yT(){if(Ry)return Bl;Ry=1;var r=mT(),e=dd(),i=pT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var N=Object.assign,z=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),ot=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var T=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===T?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case nt:return"Profiler";case J:return"StrictMode";case zt:return"Suspense";case _t:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ht:return t.displayName||"Context";case ot:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var wt=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},St=[],Ht=-1;function O(t){return{current:t}}function K(t){0>Ht||(t.current=St[Ht],St[Ht]=null,Ht--)}function it(t,n){Ht++,St[Ht]=t.current,t.current=n}var lt=O(null),yt=O(null),Nt=O(null),Lt=O(null);function De(t,n){switch(it(Nt,n),it(yt,t),it(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=Pp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(lt),it(lt,t)}function se(){K(lt),K(yt),K(Nt)}function za(t){t.memoizedState!==null&&it(Lt,t);var n=lt.current,a=Pp(n,t.type);n!==a&&(it(yt,t),it(lt,a))}function bs(t){yt.current===t&&(K(lt),K(yt)),Lt.current===t&&(K(Lt),Ol._currentValue=at)}var Rs,Cs;function Yn(t){if(Rs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Rs=n&&n[1]||"",Cs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+t+Cs}var Or=!1;function Ua(t,n){if(!t||Or)return"";Or=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(G){var P=G}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(G){P=G}t.call(Y.prototype)}}else{try{throw Error()}catch(G){P=G}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(G){if(G&&P&&typeof G.stack=="string")return[G.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),q=E.split(`
`);for(c=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===I.length||c===q.length)for(l=I.length-1,c=q.length-1;1<=l&&0<=c&&I[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(I[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||I[l]!==q[c]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Or=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function jr(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ua(t.type,!1);case 11:return Ua(t.type.render,!1);case 1:return Ua(t.type,!0);case 31:return Yn("Activity");default:return""}}function zr(t){try{var n="",a=null;do n+=jr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Qi=r.unstable_cancelCallback,Nc=r.unstable_shouldYield,ou=r.unstable_requestPaint,Ze=r.unstable_now,La=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,Lr=r.unstable_UserBlockingPriority,Fi=r.unstable_NormalPriority,Dc=r.unstable_LowPriority,cu=r.unstable_IdlePriority,hu=r.log,fu=r.unstable_setDisableYieldValue,xn=null,Ue=null;function yn(t){if(typeof hu=="function"&&fu(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(xn,t)}catch{}}var he=Math.clz32?Math.clz32:mu,du=Math.log,ws=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(du(t)/ws|0)|0}var Kn=256,Ba=262144,_e=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ic(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-he(a),Y=1<<Q;E[Q]=0,I[Q]=-1;var P=q[Q];if(P!==null)for(q[Q]=null,Q=0;Q<P.length;Q++){var G=P[Q];G!==null&&(G.lane&=-536870913)}a&=~Y}l!==0&&Pa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Pa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Br(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function qr(t,n){var a=n&-n;return a=(a&42)!==0?1:ka(a),(a&(t.suspendedLanes|n))!==0?0:a}function ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:cy(t.type))}function On(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,Me="__reactProps$"+jn,$n="__reactContainer$"+jn,Ns="__reactEvents$"+jn,xc="__reactListeners$"+jn,yu="__reactHandles$"+jn,_u="__reactResources$"+jn,Wn="__reactMarker$"+jn;function Ds(t){delete t[ve],delete t[Me],delete t[Ns],delete t[xc],delete t[yu]}function ti(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Kp(t);t!==null;){if(a=t[ve])return a;t=Kp(t)}return n}t=a,a=t.parentNode}return null}function _n(t){if(t=t[ve]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ei(t){var n=t[_u];return n||(n=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[Wn]=!0}var Pr=new Set,kr={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(kr[t]=n,t=0;t<n.length;t++)Pr.add(n[t])}var Hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gr={},Qr={};function vu(t){return ye.call(Qr,t)?!0:ye.call(Gr,t)?!1:Hr.test(t)?Qr[t]=!0:(Gr[t]=!0,!1)}function Vs(t,n,a){if(vu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function on(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=Yi(t)?"checked":"value";t._valueTracker=Fr(t,n,""+t[n])}}function Ha(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ga=/[\n"\\]/g;function We(t){return t.replace(Ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Is(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Yr(t,g,Oe(n)):a!=null?Yr(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function Eu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function Yr(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ki(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Tu(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Yt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Kr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Kr(t,f,n[f])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return Zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var Zr=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,si=null;function Qa(t){var n=_n(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Is(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(s(90));Is(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ha(l)}break t;case"textarea":Tu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ki(t,!!a.multiple,n,!1)}}}var Os=!1;function $i(t,n,a){if(Os)return t(n,a);Os=!0;try{var l=t(n);return l}finally{if(Os=!1,(Ji!==null||si!==null)&&(yo(),Ji&&(n=Ji,t=si,si=Ji=null,Qa(n),t)))for(n=0;n<t.length;n++)Qa(t[n])}}function Un(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(En)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Fa=!1}var ri=null,Jr=null,Ya=null;function $r(){if(Ya)return Ya;var t,n=Jr,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ya=c.slice(t,1<l?1-l:void 0)}function Ka(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Ln(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Si:Ln,this.isPropagationStopped=Ln,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Le(bi),Wi=N({},bi,{view:0,detail:0}),Wr=Le(Wi),ta,js,ui,zs=N({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(ta=t.screenX-ui.screenX,js=t.screenY-ui.screenY):js=ta=0,ui=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:js}}),tl=Le(zs),Xa=N({},zs,{dataTransfer:0}),bu=Le(Xa),Ru=N({},Wi,{relatedTarget:0}),Za=Le(Ru),el=N({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Le(el),Us=N({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=Le(Us),Nu=N({},bi,{data:0}),oi=Le(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function ea(){return xu}var Je=N({},Wi,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=Le(Je),Ou=N({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=Le(Ou),o=N({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),m=Le(o),p=N({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Le(p),L=N({},zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Le(L),et=N({},bi,{newState:0,oldState:0}),Rt=Le(et),fe=[9,13,27,32],Gt=En&&"CompositionEvent"in window,re=null;En&&"documentMode"in document&&(re=document.documentMode);var Tn=En&&"TextEvent"in window&&!re,ci=En&&(!Gt||re&&8<re&&11>=re),Bn=" ",qn=!1;function Ja(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ls(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function O0(t,n){switch(t){case"compositionend":return Ls(n);case"keypress":return n.which!==32?null:(qn=!0,Bn);case"textInput":return t=n.data,t===Bn&&qn?null:t;default:return null}}function j0(t,n){if(Bs)return t==="compositionend"||!Gt&&Ja(t,n)?(t=$r(),Ya=Jr=ri=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!z0[t.type]:n==="textarea"}function $d(t,n,a,l){Ji?si?si.push(l):si=[l]:Ji=l,n=bo(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var nl=null,il=null;function U0(t){Op(t,0)}function ju(t){var n=un(t);if(Ha(n))return t}function Wd(t,n){if(t==="change")return n}var tm=!1;if(En){var Mc;if(En){var Oc="oninput"in document;if(!Oc){var em=document.createElement("div");em.setAttribute("oninput","return;"),Oc=typeof em.oninput=="function"}Mc=Oc}else Mc=!1;tm=Mc&&(!document.documentMode||9<document.documentMode)}function nm(){nl&&(nl.detachEvent("onpropertychange",im),il=nl=null)}function im(t){if(t.propertyName==="value"&&ju(il)){var n=[];$d(n,il,t,vn(t)),$i(U0,n)}}function L0(t,n,a){t==="focusin"?(nm(),nl=n,il=a,nl.attachEvent("onpropertychange",im)):t==="focusout"&&nm()}function B0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(il)}function q0(t,n){if(t==="click")return ju(n)}function P0(t,n){if(t==="input"||t==="change")return ju(n)}function k0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:k0;function al(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,n){var a=am(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=am(a)}}function rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var H0=En&&"documentMode"in document&&11>=document.documentMode,qs=null,zc=null,sl=null,Uc=!1;function um(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uc||qs==null||qs!==ai(l)||(l=qs,"selectionStart"in l&&jc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&al(sl,l)||(sl=l,l=bo(zc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qs)))}function $a(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ps={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Lc={},om={};En&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Wa(t){if(Lc[t])return Lc[t];if(!Ps[t])return t;var n=Ps[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in om)return Lc[t]=n[a];return t}var cm=Wa("animationend"),hm=Wa("animationiteration"),fm=Wa("animationstart"),G0=Wa("transitionrun"),Q0=Wa("transitionstart"),F0=Wa("transitioncancel"),dm=Wa("transitionend"),mm=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function Pn(t,n){mm.set(t,n),ni(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],ks=0,qc=0;function Uu(){for(var t=ks,n=qc=ks=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&gm(a,c,f)}}function Lu(t,n,a,l){An[ks++]=t,An[ks++]=n,An[ks++]=a,An[ks++]=l,qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pc(t,n,a,l){return Lu(t,n,a,l),Bu(t)}function ts(t,n){return Lu(t,null,null,n),Bu(t)}function gm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bu(t){if(50<wl)throw wl=0,Zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Hs={};function Y0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new Y0(t,n,a,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qu(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")kc(t)&&(g=1);else if(typeof t=="string")g=$E(t,a,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case S:return t=hn(31,a,n,c),t.elementType=S,t.lanes=f,t;case tt:return es(a.children,c,f,n);case J:g=8,c|=24;break;case nt:return t=hn(12,a,n,c|2),t.elementType=nt,t.lanes=f,t;case zt:return t=hn(13,a,n,c),t.elementType=zt,t.lanes=f,t;case _t:return t=hn(19,a,n,c),t.elementType=_t,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ht:g=10;break t;case ot:g=9;break t;case Et:g=11;break t;case w:g=14;break t;case C:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=hn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function es(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Hc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function ym(t){var n=hn(18,null,null,0);return n.stateNode=t,n}function Gc(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var _m=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var a=_m.get(t);return a!==void 0?a:(n={value:t,source:n,stack:zr(n)},_m.set(t,n),n)}return{value:t,source:n,stack:zr(n)}}var Gs=[],Qs=0,Pu=null,rl=0,bn=[],Rn=0,na=null,hi=1,fi="";function wi(t,n){Gs[Qs++]=rl,Gs[Qs++]=Pu,Pu=t,rl=n}function vm(t,n,a){bn[Rn++]=hi,bn[Rn++]=fi,bn[Rn++]=na,na=t;var l=hi;t=fi;var c=32-he(l)-1;l&=~(1<<c),a+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-he(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Qc(t){t.return!==null&&(wi(t,1),vm(t,1,0))}function Fc(t){for(;t===Pu;)Pu=Gs[--Qs],Gs[Qs]=null,rl=Gs[--Qs],Gs[Qs]=null;for(;t===na;)na=bn[--Rn],bn[Rn]=null,fi=bn[--Rn],bn[Rn]=null,hi=bn[--Rn],bn[Rn]=null}function Em(t,n){bn[Rn++]=hi,bn[Rn++]=fi,bn[Rn++]=na,hi=n.id,fi=n.overflow,na=t}var Be=null,ne=null,Ut=!1,ia=null,Cn=!1,Yc=Error(s(519));function aa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Sn(n,t)),Yc}function Tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Me]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Dl.length;a++)It(Dl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Eu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Xi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Lp(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||aa(t,!0)}function Am(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Be=Be.return}}function Fs(t){if(t!==Be)return!1;if(!Ut)return Am(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ff(t.type,t.memoizedProps)),a=!a),a&&ne&&aa(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=Yp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=Yp(t)}else n===27?(n=ne,_a(t.type)?(t=yf,yf=null,ne=t):ne=n):ne=Be?Nn(t.stateNode.nextSibling):null;return!0}function ns(){ne=Be=null,Ut=!1}function Kc(){var t=ia;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ia=null),t}function ll(t){ia===null?ia=[t]:ia.push(t)}var Xc=O(null),is=null,Ni=null;function sa(t,n,a){it(Xc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Xc.current,K(Xc)}function Zc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Jc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Zc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Zc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ys(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;cn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Jc(n,t,a,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){is=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Sm(is,t)}function Hu(t,n){return is===null&&as(t),Sm(t,n)}function Sm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var K0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},X0=r.unstable_scheduleCallback,Z0=r.unstable_NormalPriority,Ae={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new K0,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&X0(Z0,function(){t.controller.abort()})}var ol=null,Wc=0,Ks=0,Xs=null;function J0(t,n){if(ol===null){var a=ol=[];Wc=0,Ks=nf(),Xs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wc++,n.then(bm,bm),n}function bm(){if(--Wc===0&&ol!==null){Xs!==null&&(Xs.status="fulfilled");var t=ol;ol=null,Ks=0,Xs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Rm=k.S;k.S=function(t,n){up=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&J0(t,n),Rm!==null&&Rm(t,n)};var ss=O(null);function th(){var t=ss.current;return t!==null?t:te.pooledCache}function Gu(t,n){n===null?it(ss,ss.current):it(ss,n.pool)}function Cm(){var t=th();return t===null?null:{parent:Ae._currentValue,pool:t}}var Zs=Error(s(460)),eh=Error(s(474)),Qu=Error(s(542)),Fu={then:function(){}};function wm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zn,zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t}throw ls=n,Zs}}function rs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ls=a,Zs):a}}var ls=null;function Dm(){if(ls===null)throw Error(s(459));var t=ls;return ls=null,t}function Vm(t){if(t===Zs||t===Qu)throw Error(s(483))}var Js=null,cl=0;function Yu(t){var n=cl;return cl+=1,Js===null&&(Js=[]),Nm(Js,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===z?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Im(t){function n(j,M){if(t){var B=j.deletions;B===null?(j.deletions=[M],j.flags|=16):B.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function c(j,M){return j=Ci(j,M),j.index=0,j.sibling=null,j}function f(j,M,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<M?(j.flags|=67108866,M):B):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,M,B,F){return M===null||M.tag!==6?(M=Hc(B,j.mode,F),M.return=j,M):(M=c(M,B),M.return=j,M)}function I(j,M,B,F){var dt=B.type;return dt===tt?Q(j,M,B.props.children,F,B.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===C&&rs(dt)===M.type)?(M=c(M,B.props),hl(M,B),M.return=j,M):(M=qu(B.type,B.key,B.props,null,j.mode,F),hl(M,B),M.return=j,M)}function q(j,M,B,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Gc(B,j.mode,F),M.return=j,M):(M=c(M,B.children||[]),M.return=j,M)}function Q(j,M,B,F,dt){return M===null||M.tag!==7?(M=es(B,j.mode,F,dt),M.return=j,M):(M=c(M,B),M.return=j,M)}function Y(j,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hc(""+M,j.mode,B),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return B=qu(M.type,M.key,M.props,null,j.mode,B),hl(B,M),B.return=j,B;case $:return M=Gc(M,j.mode,B),M.return=j,M;case C:return M=rs(M),Y(j,M,B)}if(wt(M)||x(M))return M=es(M,j.mode,B,null),M.return=j,M;if(typeof M.then=="function")return Y(j,Yu(M),B);if(M.$$typeof===ht)return Y(j,Hu(j,M),B);Ku(j,M)}return null}function P(j,M,B,F){var dt=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return dt!==null?null:E(j,M,""+B,F);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return B.key===dt?I(j,M,B,F):null;case $:return B.key===dt?q(j,M,B,F):null;case C:return B=rs(B),P(j,M,B,F)}if(wt(B)||x(B))return dt!==null?null:Q(j,M,B,F,null);if(typeof B.then=="function")return P(j,M,Yu(B),F);if(B.$$typeof===ht)return P(j,M,Hu(j,B),F);Ku(j,B)}return null}function G(j,M,B,F,dt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(B)||null,E(M,j,""+F,dt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case U:return j=j.get(F.key===null?B:F.key)||null,I(M,j,F,dt);case $:return j=j.get(F.key===null?B:F.key)||null,q(M,j,F,dt);case C:return F=rs(F),G(j,M,B,F,dt)}if(wt(F)||x(F))return j=j.get(B)||null,Q(M,j,F,dt,null);if(typeof F.then=="function")return G(j,M,B,Yu(F),dt);if(F.$$typeof===ht)return G(j,M,B,Hu(M,F),dt);Ku(M,F)}return null}function ut(j,M,B,F){for(var dt=null,Pt=null,ct=M,Dt=M=0,Mt=null;ct!==null&&Dt<B.length;Dt++){ct.index>Dt?(Mt=ct,ct=null):Mt=ct.sibling;var kt=P(j,ct,B[Dt],F);if(kt===null){ct===null&&(ct=Mt);break}t&&ct&&kt.alternate===null&&n(j,ct),M=f(kt,M,Dt),Pt===null?dt=kt:Pt.sibling=kt,Pt=kt,ct=Mt}if(Dt===B.length)return a(j,ct),Ut&&wi(j,Dt),dt;if(ct===null){for(;Dt<B.length;Dt++)ct=Y(j,B[Dt],F),ct!==null&&(M=f(ct,M,Dt),Pt===null?dt=ct:Pt.sibling=ct,Pt=ct);return Ut&&wi(j,Dt),dt}for(ct=l(ct);Dt<B.length;Dt++)Mt=G(ct,j,Dt,B[Dt],F),Mt!==null&&(t&&Mt.alternate!==null&&ct.delete(Mt.key===null?Dt:Mt.key),M=f(Mt,M,Dt),Pt===null?dt=Mt:Pt.sibling=Mt,Pt=Mt);return t&&ct.forEach(function(Sa){return n(j,Sa)}),Ut&&wi(j,Dt),dt}function gt(j,M,B,F){if(B==null)throw Error(s(151));for(var dt=null,Pt=null,ct=M,Dt=M=0,Mt=null,kt=B.next();ct!==null&&!kt.done;Dt++,kt=B.next()){ct.index>Dt?(Mt=ct,ct=null):Mt=ct.sibling;var Sa=P(j,ct,kt.value,F);if(Sa===null){ct===null&&(ct=Mt);break}t&&ct&&Sa.alternate===null&&n(j,ct),M=f(Sa,M,Dt),Pt===null?dt=Sa:Pt.sibling=Sa,Pt=Sa,ct=Mt}if(kt.done)return a(j,ct),Ut&&wi(j,Dt),dt;if(ct===null){for(;!kt.done;Dt++,kt=B.next())kt=Y(j,kt.value,F),kt!==null&&(M=f(kt,M,Dt),Pt===null?dt=kt:Pt.sibling=kt,Pt=kt);return Ut&&wi(j,Dt),dt}for(ct=l(ct);!kt.done;Dt++,kt=B.next())kt=G(ct,j,Dt,kt.value,F),kt!==null&&(t&&kt.alternate!==null&&ct.delete(kt.key===null?Dt:kt.key),M=f(kt,M,Dt),Pt===null?dt=kt:Pt.sibling=kt,Pt=kt);return t&&ct.forEach(function(oT){return n(j,oT)}),Ut&&wi(j,Dt),dt}function Wt(j,M,B,F){if(typeof B=="object"&&B!==null&&B.type===tt&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case U:t:{for(var dt=B.key;M!==null;){if(M.key===dt){if(dt=B.type,dt===tt){if(M.tag===7){a(j,M.sibling),F=c(M,B.props.children),F.return=j,j=F;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===C&&rs(dt)===M.type){a(j,M.sibling),F=c(M,B.props),hl(F,B),F.return=j,j=F;break t}a(j,M);break}else n(j,M);M=M.sibling}B.type===tt?(F=es(B.props.children,j.mode,F,B.key),F.return=j,j=F):(F=qu(B.type,B.key,B.props,null,j.mode,F),hl(F,B),F.return=j,j=F)}return g(j);case $:t:{for(dt=B.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(j,M.sibling),F=c(M,B.children||[]),F.return=j,j=F;break t}else{a(j,M);break}else n(j,M);M=M.sibling}F=Gc(B,j.mode,F),F.return=j,j=F}return g(j);case C:return B=rs(B),Wt(j,M,B,F)}if(wt(B))return ut(j,M,B,F);if(x(B)){if(dt=x(B),typeof dt!="function")throw Error(s(150));return B=dt.call(B),gt(j,M,B,F)}if(typeof B.then=="function")return Wt(j,M,Yu(B),F);if(B.$$typeof===ht)return Wt(j,M,Hu(j,B),F);Ku(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(j,M.sibling),F=c(M,B),F.return=j,j=F):(a(j,M),F=Hc(B,j.mode,F),F.return=j,j=F),g(j)):a(j,M)}return function(j,M,B,F){try{cl=0;var dt=Wt(j,M,B,F);return Js=null,dt}catch(ct){if(ct===Zs||ct===Qu)throw ct;var Pt=hn(29,ct,null,j.mode);return Pt.lanes=F,Pt.return=j,Pt}finally{}}}var us=Im(!0),xm=Im(!1),ra=!1;function nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function la(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bu(t),gm(t,null,a),n}return Lu(t,l,n,a),Bu(t)}function fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Br(t,a)}}function ah(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var sh=!1;function dl(){if(sh){var t=Xs;if(t!==null)throw t}}function ml(t,n,a,l){sh=!1;var c=t.updateQueue;ra=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,q=I.next;I.next=null,g===null?f=q:g.next=q,g=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=q:E.next=q,Q.lastBaseUpdate=I))}if(f!==null){var Y=c.baseState;g=0,Q=q=I=null,E=f;do{var P=E.lane&-536870913,G=P!==E.lane;if(G?(xt&P)===P:(l&P)===P){P!==0&&P===Ks&&(sh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=t,gt=E;P=n;var Wt=a;switch(gt.tag){case 1:if(ut=gt.payload,typeof ut=="function"){Y=ut.call(Wt,Y,P);break t}Y=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=gt.payload,P=typeof ut=="function"?ut.call(Wt,Y,P):ut,P==null)break t;Y=N({},Y,P);break t;case 2:ra=!0}}P=E.callback,P!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[P]:G.push(P))}else G={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(q=Q=G,I=Y):Q=Q.next=G,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;G=E,E=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);Q===null&&(I=Y),c.baseState=I,c.firstBaseUpdate=q,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),da|=g,t.lanes=g,t.memoizedState=Y}}function Mm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Om(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mm(a[t],n)}var $s=O(null),Xu=O(0);function jm(t,n){t=Li,it(Xu,t),it($s,n),Li=t|n.baseLanes}function rh(){it(Xu,Li),it($s,$s.current)}function lh(){Li=Xu.current,K($s),K(Xu)}var fn=O(null),wn=null;function oa(t){var n=t.alternate;it(de,de.current&1),it(fn,t),wn===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(wn=t)}function uh(t){it(de,de.current),it(fn,t),wn===null&&(wn=t)}function zm(t){t.tag===22?(it(de,de.current),it(fn,t),wn===null&&(wn=t)):ca()}function ca(){it(de,de.current),it(fn,fn.current)}function dn(t){K(fn),wn===t&&(wn=null),K(de)}var de=O(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gf(a)||pf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,Ct=null,Jt=null,Se=null,Ju=!1,Ws=!1,os=!1,$u=0,gl=0,tr=null,W0=0;function oe(){throw Error(s(321))}function oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function ch(t,n,a,l,c,f){return Vi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?vg:Rh,os=!1,f=a(l,c),os=!1,Ws&&(f=Lm(n,a,l,c)),Um(t),f}function Um(t){k.H=_l;var n=Jt!==null&&Jt.next!==null;if(Vi=0,Se=Jt=Ct=null,Ju=!1,gl=0,tr=null,n)throw Error(s(300));t===null||be||(t=t.dependencies,t!==null&&ku(t)&&(be=!0))}function Lm(t,n,a,l){Ct=t;var c=0;do{if(Ws&&(tr=null),gl=0,Ws=!1,25<=c)throw Error(s(301));if(c+=1,Se=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=Eg,f=n(a,l)}while(Ws);return f}function tE(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?pl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function hh(){var t=$u!==0;return $u=0,t}function fh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function dh(t){if(Ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ju=!1}Vi=0,Se=Jt=Ct=null,Ws=!1,gl=$u=0,tr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=t:Se=Se.next=t,Se}function me(){if(Jt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Se===null?Ct.memoizedState:Se.next;if(n!==null)Se=n,Jt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?Ct.memoizedState=Se=t:Se=Se.next=t}return Se}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var n=gl;return gl+=1,tr===null&&(tr=[]),t=Nm(tr,t,n),n=Ct,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?vg:Rh),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ht)return qe(t)}throw Error(s(438,String(t)))}function mh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Wu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=D;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function eo(t){var n=me();return gh(n,Jt,t)}function gh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,I=null,q=n,Q=!1;do{var Y=q.lane&-536870913;if(Y!==q.lane?(xt&Y)===Y:(Vi&Y)===Y){var P=q.revertLane;if(P===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Y===Ks&&(Q=!0);else if((Vi&P)===P){q=q.next,P===Ks&&(Q=!0);continue}else Y={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,Ct.lanes|=P,da|=P;Y=q.action,os&&a(f,Y),f=q.hasEagerState?q.eagerState:a(f,Y)}else P={lane:Y,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(E=I=P,g=f):I=I.next=P,Ct.lanes|=Y,da|=Y;q=q.next}while(q!==null&&q!==n);if(I===null?g=f:I.next=E,!cn(f,t.memoizedState)&&(be=!0,Q&&(a=Xs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ph(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);cn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Bm(t,n,a){var l=Ct,c=me(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!cn((Jt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,vh(km.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,er(9,{destroy:void 0},Pm.bind(null,l,c,a,n),null),te===null)throw Error(s(349));f||(Vi&127)!==0||qm(l,n,a)}return a}function qm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Wu(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Pm(t,n,a,l){n.value=a,n.getSnapshot=l,Hm(n)&&Gm(t)}function km(t,n,a){return a(function(){Hm(n)&&Gm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function Gm(t){var n=ts(t,2);n!==null&&rn(n,t,2)}function yh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),os){yn(!0);try{a()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function Qm(t,n,a,l){return t.baseState=a,gh(t,Jt,typeof l=="function"?l:Ii)}function eE(t,n,a,l,c){if(ao(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};k.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Fm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Fm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=k.T,g={};k.T=g;try{var E=a(c,l),I=k.S;I!==null&&I(g,E),Ym(t,n,E)}catch(q){_h(t,n,q)}finally{f!==null&&g.types!==null&&(f.types=g.types),k.T=f}}else try{f=a(c,l),Ym(t,n,f)}catch(q){_h(t,n,q)}}function Ym(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Km(t,n,l)},function(l){return _h(t,n,l)}):Km(t,n,a)}function Km(t,n,a){n.status="fulfilled",n.value=a,Xm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Fm(t,a)))}function _h(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Xm(n),n=n.next;while(n!==l)}t.action=null}function Xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zm(t,n){return n}function Jm(t,n){if(Ut){var a=te.formState;if(a!==null){t:{var l=Ct;if(Ut){if(ne){e:{for(var c=ne,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=Nn(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:n},a.queue=l,a=pg.bind(null,Ct,l),l.dispatch=a,l=yh(!1),f=bh.bind(null,Ct,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=eE.bind(null,Ct,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function $m(t){var n=me();return Wm(n,Jt,t)}function Wm(t,n,a){if(n=gh(t,n,Zm)[0],t=eo(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=pl(n)}catch(g){throw g===Zs?Qu:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,er(9,{destroy:void 0},nE.bind(null,c,a),null)),[l,f,t]}function nE(t,n){t.action=n}function tg(t){var n=me(),a=Jt;if(a!==null)return Wm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function er(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Wu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function eg(){return me().memoizedState}function no(t,n,a,l){var c=$e();Ct.flags|=t,c.memoizedState=er(1|n,{destroy:void 0},a,l===void 0?null:l)}function io(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&oh(l,Jt.memoizedState.deps)?c.memoizedState=er(n,f,a,l):(Ct.flags|=t,c.memoizedState=er(1|n,f,a,l))}function ng(t,n){no(8390656,8,t,n)}function vh(t,n){io(2048,8,t,n)}function iE(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Wu(),Ct.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ig(t){var n=me().memoizedState;return iE({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ag(t,n){return io(4,2,t,n)}function sg(t,n){return io(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,a){a=a!=null?a.concat([t]):null,io(4,4,rg.bind(null,n,t),a)}function Eh(){}function ug(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function og(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),os){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l}function Th(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=cp(),Ct.lanes|=t,da|=t,a)}function cg(t,n,a,l){return cn(a,n)?a:$s.current!==null?(t=Th(t,a,l),cn(t,n)||(be=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(xt&261930)===0?(be=!0,t.memoizedState=a):(t=cp(),Ct.lanes|=t,da|=t,n)}function hg(t,n,a,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=k.T,E={};k.T=E,bh(t,!1,n,a);try{var I=c(),q=k.S;if(q!==null&&q(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=$0(I,l);yl(t,n,Q,pn(t))}else yl(t,n,l,pn(t))}catch(Y){yl(t,n,{then:function(){},status:"rejected",reason:Y},pn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),k.T=g}}function aE(){}function Ah(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=fg(t).queue;hg(t,c,n,at,a===null?aE:function(){return dg(t),a(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:at},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t);n.next===null&&(n=t.alternate.memoizedState),yl(t,n.next.queue,{},pn())}function Sh(){return qe(Ol)}function mg(){return me().memoizedState}function gg(){return me().memoizedState}function sE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();t=la(a);var l=ua(n,t,a);l!==null&&(rn(l,n,a),fl(l,n,a)),n={cache:$c()},t.payload=n;return}n=n.return}}function rE(t,n,a){var l=pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ao(t)?yg(n,a):(a=Pc(t,n,a,l),a!==null&&(rn(a,t,l),_g(a,n,l)))}function pg(t,n,a){var l=pn();yl(t,n,a,l)}function yl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ao(t))yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,g))return Lu(t,n,c,0),te===null&&Uu(),!1}catch{}finally{}if(a=Pc(t,n,c,l),a!==null)return rn(a,t,l),_g(a,n,l),!0}return!1}function bh(t,n,a,l){if(l={lane:2,revertLane:nf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ao(t)){if(n)throw Error(s(479))}else n=Pc(t,a,l,2),n!==null&&rn(n,t,2)}function ao(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function yg(t,n){Ws=Ju=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function _g(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Br(t,a)}}var _l={readContext:qe,use:to,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};_l.useEffectEvent=oe;var vg={readContext:qe,use:to,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:ng,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,no(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return no(4194308,4,t,n)},useInsertionEffect:function(t,n){no(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(os){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(os){yn(!0);try{a(n)}finally{yn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=rE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=yh(t);var n=t.queue,a=pg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Eh,useDeferredValue:function(t,n){var a=$e();return Th(a,t,n)},useTransition:function(){var t=yh(!1);return t=hg.bind(null,Ct,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,c=$e();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(xt&127)!==0||qm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,ng(km.bind(null,l,f,t),[t]),l.flags|=2048,er(9,{destroy:void 0},Pm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=te.identifierPrefix;if(Ut){var a=fi,l=hi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$u++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=W0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Sh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]},useMemoCache:mh,useCacheRefresh:function(){return $e().memoizedState=sE.bind(null,Ct)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Rh={readContext:qe,use:to,useCallback:ug,useContext:qe,useEffect:vh,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:eo,useRef:eg,useState:function(){return eo(Ii)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=me();return cg(a,Jt.memoizedState,t,n)},useTransition:function(){var t=eo(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:Sh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=me();return Qm(a,Jt,t,n)},useMemoCache:mh,useCacheRefresh:gg};Rh.useEffectEvent=ig;var Eg={readContext:qe,use:to,useCallback:ug,useContext:qe,useEffect:vh,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:ph,useRef:eg,useState:function(){return ph(Ii)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=me();return Jt===null?Th(a,t,n):cg(a,Jt.memoizedState,t,n)},useTransition:function(){var t=ph(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:Sh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var a=me();return Jt!==null?Qm(a,Jt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mh,useCacheRefresh:gg};Eg.useEffectEvent=ig;function Ch(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:N({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pn(),c=la(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(rn(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pn(),c=la(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(rn(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pn(),l=la(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(rn(n,t,a),fl(n,t,a))}};function Tg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!al(a,l)||!al(c,f):!0}function Ag(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&wh.enqueueReplaceState(n,n.state,null)}function cs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=N({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Sg(t){zu(t)}function bg(t){console.error(t)}function Rg(t){zu(t)}function so(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Cg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){so(t,n)},a}function wg(t){return t=la(t),t.tag=3,t}function Ng(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Cg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Cg(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function lE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,c,!0),a=fn.current,a!==null){switch(a.tag){case 31:case 13:return wn===null?_o():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Wh(t,l,c)),!1;case 22:return a.flags|=65536,l===Fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Wh(t,l,c)),!1}throw Error(s(435,a.tag))}return Wh(t,l,c),_o(),!1}if(Ut)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(s(422),{cause:l}),ll(Sn(t,a)))):(l!==Yc&&(n=Error(s(423),{cause:l}),ll(Sn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Sn(l,a),c=Nh(t.stateNode,l,c),ah(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,a),Cl===null?Cl=[f]:Cl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Sn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Nh(a.stateNode,l,t),ah(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=wg(c),Ng(c,t,a,l),ah(a,c),!1}a=a.return}while(a!==null);return!1}var Dh=Error(s(461)),be=!1;function Pe(t,n,a,l){n.child=t===null?xm(n,null,a,l):us(n,t.child,a,l)}function Dg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return as(n),l=ch(t,n,a,g,f,c),E=hh(),t!==null&&!be?(fh(t,n,c),xi(t,n,c)):(Ut&&E&&Qc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Vg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ig(t,n,f,l,c)):(t=qu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(g,l)&&t.ref===n.ref)return xi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,Uh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,xi(t,n,c)}return Vh(t,n,a,l,c)}function xg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Mg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?jm(n,f):rh(),zm(n);else return l=n.lanes=536870912,Mg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Gu(n,f.cachePool),jm(n,f),ca(),n.memoizedState=null):(t!==null&&Gu(n,null),rh(),ca());return Pe(t,n,c,a),n.child}function vl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mg(t,n,a,l,c){var f=th();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Gu(n,null),rh(),zm(n),t!==null&&Ys(t,n,l,!0),n.childLanes=c,null}function ro(t,n){return n=uo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Og(t,n,a){return us(n,t.child,null,a),t=ro(n,n.pendingProps),t.flags|=2,dn(n),n.memoizedState=null,t}function uE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=ro(n,l),n.lanes=536870912,vl(null,t);if(uh(n),(t=ne)?(t=Fp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=ym(t),a.return=n,n.child=a,Be=n,ne=null)):t=null,t===null)throw aa(n);return n.lanes=536870912,null}return ro(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(uh(n),c)if(n.flags&256)n.flags&=-257,n=Og(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Ys(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=te,l!==null&&(g=qr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ts(t,g),rn(l,t,g),Dh;_o(),n=Og(t,n,a)}else t=f.treeContext,ne=Nn(g.nextSibling),Be=n,Ut=!0,ia=null,Cn=!1,t!==null&&Em(n,t),n=ro(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vh(t,n,a,l,c){return as(n),a=ch(t,n,a,l,void 0,c),l=hh(),t!==null&&!be?(fh(t,n,c),xi(t,n,c)):(Ut&&l&&Qc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function jg(t,n,a,l,c,f){return as(n),n.updateQueue=null,a=Lm(n,l,a,c),Um(t),l=hh(),t!==null&&!be?(fh(t,n,f),xi(t,n,f)):(Ut&&l&&Qc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function zg(t,n,a,l,c){if(as(n),n.stateNode===null){var f=Hs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Hs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ch(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wh.enqueueReplaceState(f,f.state,null),ml(n,l,f,c),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=cs(a,E);f.props=I;var q=f.context,Q=a.contextType;g=Hs,typeof Q=="object"&&Q!==null&&(g=qe(Q));var Y=a.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==g)&&Ag(n,f,l,g),ra=!1;var P=n.memoizedState;f.state=P,ml(n,l,f,c),dl(),q=n.memoizedState,E||P!==q||ra?(typeof Y=="function"&&(Ch(n,a,Y,l),q=n.memoizedState),(I=ra||Tg(n,a,I,l,P,q,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ih(t,n),g=n.memoizedProps,Q=cs(a,g),f.props=Q,Y=n.pendingProps,P=f.context,q=a.contextType,I=Hs,typeof q=="object"&&q!==null&&(I=qe(q)),E=a.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||P!==I)&&Ag(n,f,l,I),ra=!1,P=n.memoizedState,f.state=P,ml(n,l,f,c),dl();var G=n.memoizedState;g!==Y||P!==G||ra||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Ch(n,a,E,l),G=n.memoizedState),(Q=ra||Tg(n,a,Q,l,P,G,I)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=us(n,t.child,null,c),n.child=us(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=xi(t,n,c),t}function Ug(t,n,a,l){return ns(),n.flags|=256,Pe(t,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(t){return{baseLanes:t,cachePool:Cm()}}function Mh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=gn),t}function Lg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?oa(n):ca(),(t=ne)?(t=Fp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=ym(t),a.return=n,n.child=a,Be=n,ne=null)):t=null,t===null)throw aa(n);return pf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ca(),c=n.mode,E=uo({mode:"hidden",children:E},c),l=es(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=xh(a),l.childLanes=Mh(t,g,a),n.memoizedState=Ih,vl(null,l)):(oa(n),Oh(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=jh(t,n,a)):n.memoizedState!==null?(ca(),n.child=t.child,n.flags|=128,n=null):(ca(),E=l.fallback,c=n.mode,l=uo({mode:"visible",children:l.children},c),E=es(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,us(n,t.child,null,a),l=n.child,l.memoizedState=xh(a),l.childLanes=Mh(t,g,a),n.memoizedState=Ih,n=vl(null,l));else if(oa(n),pf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var q=g.dgst;g=q,l=Error(s(419)),l.stack="",l.digest=g,ll({value:l,source:null,stack:null}),n=jh(t,n,a)}else if(be||Ys(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=te,g!==null&&(l=qr(g,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,ts(t,l),rn(g,t,l),Dh;gf(E)||_o(),n=jh(t,n,a)}else gf(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ne=Nn(E.nextSibling),Be=n,Ut=!0,ia=null,Cn=!1,t!==null&&Em(n,t),n=Oh(n,l.children),n.flags|=4096);return n}return c?(ca(),E=l.fallback,c=n.mode,I=t.child,q=I.sibling,l=Ci(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?E=Ci(q,E):(E=es(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,vl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=xh(a):(c=E.cachePool,c!==null?(I=Ae._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=Cm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Mh(t,g,a),n.memoizedState=Ih,vl(t.child,l)):(oa(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Oh(t,n){return n=uo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uo(t,n){return t=hn(22,t,null,n),t.lanes=0,t}function jh(t,n,a){return us(n,t.child,null,a),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Zc(t.return,n,a)}function zh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function qg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(de,g),Pe(t,n,l,a),l=Ut?rl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,a,n);else if(t.tag===19)Bg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),zh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}zh(n,!0,a,null,f,l);break;case"together":zh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ys(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function oE(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),sa(n,Ae,t.memoizedState.cache),ns();break;case 27:case 5:za(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Lg(t,n,a):(oa(n),t=xi(t,n,a),t!==null?t.sibling:null);oa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return qg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(de,de.current),l)break;return null;case 22:return n.lanes=0,xg(t,n,a,n.pendingProps);case 24:sa(n,Ae,t.memoizedState.cache)}return xi(t,n,a)}function Pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Uh(t,a)&&(n.flags&128)===0)return be=!1,oE(t,n,a);be=(t.flags&131072)!==0}else be=!1,Ut&&(n.flags&1048576)!==0&&vm(n,rl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=rs(n.elementType),n.type=t,typeof t=="function")kc(t)?(l=cs(t,l),n.tag=1,n=zg(null,n,t,l,a)):(n.tag=0,n=Vh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Et){n.tag=11,n=Dg(null,n,t,l,a);break t}else if(c===w){n.tag=14,n=Vg(null,n,t,l,a);break t}}throw n=ft(t)||t,Error(s(306,n,""))}}return n;case 0:return Vh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=cs(l,n.pendingProps),zg(t,n,l,c,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ih(t,n),ml(n,l,null,a);var g=n.memoizedState;if(l=g.cache,sa(n,Ae,l),l!==f.cache&&Jc(n,[Ae],a,!0),dl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ug(t,n,l,a);break t}else if(l!==c){c=Sn(Error(s(424)),n),ll(c),n=Ug(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=Nn(t.firstChild),Be=n,Ut=!0,ia=null,Cn=!0,a=xm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ns(),l===c){n=xi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return lo(t,n),t===null?(a=$p(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=Ro(Nt.current).createElement(a),l[ve]=n,l[Me]=t,ke(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=$p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return za(n),t===null&&Ut&&(l=n.stateNode=Xp(n.type,n.pendingProps,Nt.current),Be=n,Cn=!0,c=ne,_a(n.type)?(yf=c,ne=Nn(l.firstChild)):ne=c),Pe(t,n,n.pendingProps.children,a),lo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ne)&&(l=BE(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Be=n,ne=Nn(l.firstChild),Cn=!1,c=!0):c=!1),c||aa(n)),za(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,ff(c,f)?l=null:g!==null&&ff(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=ch(t,n,tE,null,null,a),Ol._currentValue=c),lo(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ne)&&(a=qE(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,Be=n,ne=null,t=!0):t=!1),t||aa(n)),null;case 13:return Lg(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=us(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Dg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,as(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Vg(t,n,n.type,n.pendingProps,a);case 15:return Ig(t,n,n.type,n.pendingProps,a);case 19:return qg(t,n,a);case 31:return uE(t,n,a);case 22:return xg(t,n,a,n.pendingProps);case 24:return as(n),l=qe(Ae),t===null?(c=th(),c===null&&(c=te,f=$c(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},nh(n),sa(n,Ae,c)):((t.lanes&a)!==0&&(ih(t,n),ml(n,null,null,a),dl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,Ae,l)):(l=f.cache,sa(n,Ae,l),l!==c.cache&&Jc(n,[Ae],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Mi(t){t.flags|=4}function Lh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(mp())t.flags|=8192;else throw ls=Fu,eh}else t.flags&=-16777217}function kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n))if(mp())t.flags|=8192;else throw ls=Fu,eh}function oo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gu():536870912,t.lanes|=n,sr|=n)}function El(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function cE(t,n,a){var l=n.pendingProps;switch(Fc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kc())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Mi(n),f!==null?(ie(n),kg(n,f)):(ie(n),Lh(n,c,null,l,a))):f?f!==t.memoizedState?(Mi(n),ie(n),kg(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mi(n),ie(n),Lh(n,c,t,l,a)),null;case 27:if(bs(n),a=Nt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=lt.current,Fs(n)?Tm(n):(t=Xp(c,l,a),n.stateNode=t,Mi(n))}return ie(n),null;case 5:if(bs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=lt.current,Fs(n))Tm(n);else{var g=Ro(Nt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ve]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Mi(n)}}return ie(n),Lh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Nt.current,Fs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Lp(t.nodeValue,a)),t||aa(n,!0)}else t=Ro(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Fs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),oo(n,n.updateQueue),ie(n),null);case 4:return se(),t===null&&lf(n.stateNode.containerInfo),ie(n),null;case 10:return Di(n.type),ie(n),null;case 19:if(K(de),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)El(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,El(l,!1),t=f.updateQueue,n.updateQueue=t,oo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)pm(a,t),a=a.sibling;return it(de,de.current&1|2),Ut&&wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>go&&(n.flags|=128,c=!0,El(l,!1),n.lanes=4194304)}else{if(!c)if(t=Zu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,oo(n,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*Ze()-l.renderingStartTime>go&&a!==536870912&&(n.flags|=128,c=!0,El(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=de.current,it(de,c?a&1|2:a&1),Ut&&wi(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return dn(n),lh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&oo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(ss),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function hE(t,n){switch(Fc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Ae),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return bs(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(s(340));ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(de),null;case 4:return se(),null;case 10:return Di(n.type),null;case 22:case 23:return dn(n),lh(),t!==null&&K(ss),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Ae),null;case 25:return null;default:return null}}function Hg(t,n){switch(Fc(n),n.tag){case 3:Di(Ae),se();break;case 26:case 27:case 5:bs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:K(de);break;case 10:Di(n.type);break;case 22:case 23:dn(n),lh(),t!==null&&K(ss);break;case 24:Di(Ae)}}function Tl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function ha(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var I=a,q=E;try{q()}catch(Q){Xt(c,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function Gg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Om(n,a)}catch(l){Xt(t,t.return,l)}}}function Qg(t,n,a){a.props=cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Al(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Fg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Bh(t,n,a){try{var l=t.stateNode;ME(l,t.type,a,n),l[Me]=n}catch(c){Xt(t,t.return,c)}}function Yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_a(t.type)||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ph(t,n,a),t=t.sibling;t!==null;)Ph(t,n,a),t=t.sibling}function co(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(co(t,n,a),t=t.sibling;t!==null;)co(t,n,a),t=t.sibling}function Kg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[ve]=t,n[Me]=a}catch(f){Xt(t,t.return,f)}}var Oi=!1,Re=!1,kh=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,je=null;function fE(t,n){if(t=t.containerInfo,cf=xo,t=lm(t),jc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,I=-1,q=0,Q=0,Y=t,P=null;e:for(;;){for(var G;Y!==a||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(I=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(G=Y.firstChild)!==null;)P=Y,Y=G;for(;;){if(Y===t)break e;if(P===a&&++q===c&&(E=g),P===f&&++Q===l&&(I=g),(G=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=G}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(hf={focusedElem:t,selectionRange:a},xo=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ut=cs(a.type,c);t=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Xt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)mf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function Zg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&Tl(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Xt(a,a.return,g)}else{var c=cs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(a,a.return,g)}}l&64&&Gg(a),l&512&&Al(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Om(t,n)}catch(g){Xt(a,a.return,g)}}break;case 27:n===null&&l&4&&Kg(a);case 26:case 5:zi(t,a),n===null&&l&4&&Fg(a),l&512&&Al(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&Wg(t,a);break;case 13:zi(t,a),l&4&&tp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TE.bind(null,a),PE(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Re,c=Oi;var f=Re;Oi=l,(Re=n)&&!f?Ui(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),Oi=c,Re=f}break;case 30:break;default:zi(t,a)}}function Jg(t){var n=t.alternate;n!==null&&(t.alternate=null,Jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ds(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,en=!1;function ji(t,n,a){for(a=a.child;a!==null;)$g(t,n,a),a=a.sibling}function $g(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Re||di(a,n),ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||di(a,n);var l=le,c=en;_a(a.type)&&(le=a.stateNode,en=!1),ji(t,n,a),Il(a.stateNode),le=l,en=c;break;case 5:Re||di(a,n);case 6:if(l=le,c=en,le=null,ji(t,n,a),le=l,en=c,le!==null)if(en)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:le!==null&&(en?(t=le,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),dr(t)):Gp(le,a.stateNode));break;case 4:l=le,c=en,le=a.stateNode.containerInfo,en=!0,ji(t,n,a),le=l,en=c;break;case 0:case 11:case 14:case 15:ha(2,a,n),Re||ha(4,a,n),ji(t,n,a);break;case 1:Re||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qg(a,n,l)),ji(t,n,a);break;case 21:ji(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,ji(t,n,a),Re=l;break;default:ji(t,n,a)}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{dr(t)}catch(a){Xt(n,n.return,a)}}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dr(t)}catch(a){Xt(n,n.return,a)}}function dE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Xg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Xg),n;default:throw Error(s(435,t.tag))}}function ho(t,n){var a=dE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=AE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(_a(E.type)){le=E.stateNode,en=!1;break t}break;case 5:le=E.stateNode,en=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(le===null)throw Error(s(160));$g(f,g,c),le=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,t),n=n.sibling}var kn=null;function ep(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(ha(3,t,t.return),Tl(3,t),ha(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=kn;if(nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var g=ey("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;case"meta":if(g=ey("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),a!==null&&l&4&&Bh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(ut){Xt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Bh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ut){Xt(t,t.return,ut)}}break;case 3:if(No=null,c=kn,kn=Co(n.containerInfo),nn(n,t),kn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(n.containerInfo)}catch(ut){Xt(t,t.return,ut)}kh&&(kh=!1,np(t));break;case 4:l=kn,kn=Co(t.stateNode.containerInfo),nn(n,t),an(t),kn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mo=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 22:c=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Oi,Q=Re;if(Oi=q||c,Re=Q||I,nn(n,t),Re=Q,Oi=q,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||I||Oi||Re||hs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ut){Xt(I,I.return,ut)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(ut){Xt(I,I.return,ut)}}}else if(n.tag===18){if(a===null){I=n;try{var G=I.stateNode;c?Qp(G,!0):Qp(I.stateNode,!1)}catch(ut){Xt(I,I.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ho(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Yg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=qh(t);co(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=qh(t);co(t,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,q=qh(t);Ph(t,q,I);break;default:throw Error(s(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zg(t,n.alternate,n),n=n.sibling}function hs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ha(4,n,n.return),hs(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Qg(n,n.return,a),hs(n);break;case 27:Il(n.stateNode);case 26:case 5:di(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(c,f,a),Tl(4,f);break;case 1:if(Ui(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){Xt(l,l.return,q)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Mm(I[c],E)}catch(q){Xt(l,l.return,q)}}a&&g&64&&Gg(f),Al(f,f.return);break;case 27:Kg(f);case 26:case 5:Ui(c,f,a),a&&l===null&&g&4&&Fg(f),Al(f,f.return);break;case 12:Ui(c,f,a);break;case 31:Ui(c,f,a),a&&g&4&&Wg(c,f);break;case 13:Ui(c,f,a),a&&g&4&&tp(c,f);break;case 22:f.memoizedState===null&&Ui(c,f,a),Al(f,f.return);break;case 30:break;default:Ui(c,f,a)}n=n.sibling}}function Hh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Hn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ip(t,n,a,l),n=n.sibling}function ip(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(t,n,a,l),c&2048&&Tl(9,n);break;case 1:Hn(t,n,a,l);break;case 3:Hn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Hn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Hn(t,n,a,l);break;case 31:Hn(t,n,a,l);break;case 13:Hn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(t,n,a,l):Sl(t,n):f._visibility&2?Hn(t,n,a,l):(f._visibility|=2,nr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Hh(g,n);break;case 24:Hn(t,n,a,l),c&2048&&Gh(n.alternate,n);break;default:Hn(t,n,a,l)}}function nr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,I=l,q=g.flags;switch(g.tag){case 0:case 11:case 15:nr(f,g,E,I,c),Tl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?nr(f,g,E,I,c):Sl(f,g):(Q._visibility|=2,nr(f,g,E,I,c)),c&&q&2048&&Hh(g.alternate,g);break;case 24:nr(f,g,E,I,c),c&&q&2048&&Gh(g.alternate,g);break;default:nr(f,g,E,I,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(a,l),c&2048&&Hh(l.alternate,l);break;case 24:Sl(a,l),c&2048&&Gh(l.alternate,l);break;default:Sl(a,l)}n=n.sibling}}var bl=8192;function ir(t,n,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)ap(t,n,a),t=t.sibling}function ap(t,n,a){switch(t.tag){case 26:ir(t,n,a),t.flags&bl&&t.memoizedState!==null&&WE(a,kn,t.memoizedState,t.memoizedProps);break;case 5:ir(t,n,a);break;case 3:case 4:var l=kn;kn=Co(t.stateNode.containerInfo),ir(t,n,a),kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,ir(t,n,a),bl=l):ir(t,n,a));break;default:ir(t,n,a)}}function sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,lp(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ha(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fo(t)):Rl(t);break;default:Rl(t)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,lp(l,t)}sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ha(8,n,n.return),fo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fo(n));break;default:fo(n)}t=t.sibling}}function lp(t,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:ha(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(Jg(l),l===a){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var mE={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},gE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Vt=null,xt=0,Kt=0,mn=null,fa=!1,ar=!1,Qh=!1,Li=0,ce=0,da=0,fs=0,Fh=0,gn=0,sr=0,Cl=null,sn=null,Yh=!1,mo=0,up=0,go=1/0,po=null,ma=null,Ie=0,ga=null,rr=null,Bi=0,Kh=0,Xh=null,op=null,wl=0,Zh=null;function pn(){return(Qt&2)!==0&&xt!==0?xt&-xt:k.T!==null?nf():pu()}function cp(){if(gn===0)if((xt&536870912)===0||Ut){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function rn(t,n,a){(t===te&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(lr(t,0),pa(t,xt,gn,!1)),qa(t,a),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(fs|=a),ce===4&&pa(t,xt,gn,!1)),mi(t))}function hp(t,n,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?_E(t,n):$h(t,n,!0),f=l;do{if(c===0){ar&&!l&&pa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!pE(a)){c=$h(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Cl;var I=E.current.memoizedState.isDehydrated;if(I&&(lr(E,g).flags|=256),g=$h(E,g,!1),g!==2){if(Qh&&!I){E.errorRecoveryDisabledLanes|=f,fs|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){lr(t,0),pa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,gn,!fa);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=mo+300-Ze(),10<c)){if(pa(l,n,gn,!fa),Zn(l,0,!0)!==0)break t;Bi=n,l.timeoutHandle=kp(fp.bind(null,l,a,sn,po,Yh,n,gn,fs,sr,fa,f,"Throttled",-0,0),c);break t}fp(l,a,sn,po,Yh,n,gn,fs,sr,fa,f,null,-0,0)}}break}while(!0);mi(t)}function fp(t,n,a,l,c,f,g,E,I,q,Q,Y,P,G){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ap(n,f,Y);var ut=(f&62914560)===f?mo-Ze():(f&4194048)===f?up-Ze():0;if(ut=tT(Y,ut),ut!==null){Bi=f,t.cancelPendingCommit=ut(Ep.bind(null,t,n,f,a,l,c,g,E,I,Q,Y,null,P,G)),pa(t,f,g,!q);return}}Ep(t,n,f,a,l,c,g,E,I)}function pE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(t,n,a,l){n&=~Fh,n&=~fs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Pa(t,a,n)}function yo(){return(Qt&6)===0?(Nl(0),!1):!0}function Jh(){if(Vt!==null){if(Kt===0)var t=Vt.return;else t=Vt,Ni=is=null,dh(t),Js=null,cl=0,t=Vt;for(;t!==null;)Hg(t.alternate,t),t=t.return;Vt=null}}function lr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bi=0,Jh(),te=t,Vt=a=Ci(t.current,null),xt=n,Kt=0,mn=null,fa=!1,ar=Mn(t,n),Qh=!1,sr=gn=Fh=fs=da=ce=0,sn=Cl=null,Yh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Li=n,Uu(),a}function dp(t,n){Ct=null,k.H=_l,n===Zs||n===Qu?(n=Dm(),Kt=3):n===eh?(n=Dm(),Kt=4):Kt=n===Dh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Vt===null&&(ce=1,so(t,Sn(n,t.current)))}function mp(){var t=fn.current;return t===null?!0:(xt&4194048)===xt?wn===null:(xt&62914560)===xt||(xt&536870912)!==0?t===wn:!1}function gp(){var t=k.H;return k.H=_l,t===null?_l:t}function pp(){var t=k.A;return k.A=mE,t}function _o(){ce=4,fa||(xt&4194048)!==xt&&fn.current!==null||(ar=!0),(da&134217727)===0&&(fs&134217727)===0||te===null||pa(te,xt,gn,!1)}function $h(t,n,a){var l=Qt;Qt|=2;var c=gp(),f=pp();(te!==t||xt!==n)&&(po=null,lr(t,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Vt!==null){var E=Vt,I=mn;switch(Kt){case 8:Jh(),g=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var q=Kt;if(Kt=0,mn=null,ur(t,E,I,q),a&&ar){g=0;break t}break;default:q=Kt,Kt=0,mn=null,ur(t,E,I,q)}}yE(),g=ce;break}catch(Q){dp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ni=is=null,Qt=l,k.H=c,k.A=f,Vt===null&&(te=null,xt=0,Uu()),g}function yE(){for(;Vt!==null;)yp(Vt)}function _E(t,n){var a=Qt;Qt|=2;var l=gp(),c=pp();te!==t||xt!==n?(po=null,go=Ze()+500,lr(t,n)):ar=Mn(t,n);t:do try{if(Kt!==0&&Vt!==null){n=Vt;var f=mn;e:switch(Kt){case 1:Kt=0,mn=null,ur(t,n,f,1);break;case 2:case 9:if(wm(f)){Kt=0,mn=null,_p(n);break}n=function(){Kt!==2&&Kt!==9||te!==t||(Kt=7),mi(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:wm(f)?(Kt=0,mn=null,_p(n)):(Kt=0,mn=null,ur(t,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?iy(g):E.stateNode.complete){Kt=0,mn=null;var I=E.sibling;if(I!==null)Vt=I;else{var q=E.return;q!==null?(Vt=q,vo(q)):Vt=null}break e}}Kt=0,mn=null,ur(t,n,f,5);break;case 6:Kt=0,mn=null,ur(t,n,f,6);break;case 8:Jh(),ce=6;break t;default:throw Error(s(462))}}vE();break}catch(Q){dp(t,Q)}while(!0);return Ni=is=null,k.H=l,k.A=c,Qt=a,Vt!==null?0:(te=null,xt=0,Uu(),ce)}function vE(){for(;Vt!==null&&!Nc();)yp(Vt)}function yp(t){var n=Pg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?vo(t):Vt=n}function _p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=jg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=jg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:dh(n);default:Hg(a,n),n=Vt=pm(n,Li),n=Pg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?vo(t):Vt=n}function ur(t,n,a,l){Ni=is=null,dh(n),Js=null,cl=0;var c=n.return;try{if(lE(t,c,n,a,xt)){ce=1,so(t,Sn(a,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ce=1,so(t,Sn(a,t.current)),Vt=null;return}n.flags&32768?(Ut||l===1?t=!0:ar||(xt&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):vo(n)}function vo(t){var n=t;do{if((n.flags&32768)!==0){vp(n,fa);return}t=n.return;var a=cE(n.alternate,n,Li);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ce===0&&(ce=5)}function vp(t,n){do{var a=hE(t.alternate,t);if(a!==null){a.flags&=32767,Vt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=a}while(t!==null);ce=6,Vt=null}function Ep(t,n,a,l,c,f,g,E,I){t.cancelPendingCommit=null;do Eo();while(Ie!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=qc,Ic(t,a,f,g,E,I),t===te&&(Vt=te=null,xt=0),rr=n,ga=t,Bi=a,Kh=f,Xh=c,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,SE(Fi,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=W.p,W.p=2,g=Qt,Qt|=4;try{fE(t,n,a)}finally{Qt=g,W.p=c,k.T=l}}Ie=1,Tp(),Ap(),Sp()}}function Tp(){if(Ie===1){Ie=0;var t=ga,n=rr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=W.p;W.p=2;var c=Qt;Qt|=4;try{ep(n,t);var f=hf,g=lm(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&rm(E.ownerDocument.documentElement,E)){if(I!==null&&jc(E)){var q=I.start,Q=I.end;if(Q===void 0&&(Q=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var G=P.getSelection(),ut=E.textContent.length,gt=Math.min(I.start,ut),Wt=I.end===void 0?gt:Math.min(I.end,ut);!G.extend&&gt>Wt&&(g=Wt,Wt=gt,gt=g);var j=sm(E,gt),M=sm(E,Wt);if(j&&M&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var B=Y.createRange();B.setStart(j.node,j.offset),G.removeAllRanges(),gt>Wt?(G.addRange(B),G.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),G.addRange(B))}}}}for(Y=[],G=E;G=G.parentNode;)G.nodeType===1&&Y.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}xo=!!cf,hf=cf=null}finally{Qt=c,W.p=l,k.T=a}}t.current=n,Ie=2}}function Ap(){if(Ie===2){Ie=0;var t=ga,n=rr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=W.p;W.p=2;var c=Qt;Qt|=4;try{Zg(t,n.alternate,n)}finally{Qt=c,W.p=l,k.T=a}}Ie=3}}function Sp(){if(Ie===4||Ie===3){Ie=0,ou();var t=ga,n=rr,a=Bi,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,rr=ga=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ma=null),Ai(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=W.p,W.p=2,k.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{k.T=n,W.p=c}}(Bi&3)!==0&&Eo(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Zh?wl++:(wl=0,Zh=t):wl=0,Nl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Eo(){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(Ie!==5)return!1;var t=ga,n=Kh;Kh=0;var a=Ai(Bi),l=k.T,c=W.p;try{W.p=32>a?32:a,k.T=null,a=Xh,Xh=null;var f=ga,g=Bi;if(Ie=0,rr=ga=null,Bi=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,rp(f.current),ip(f,f.current,g,a),Qt=E,Nl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{W.p=c,k.T=l,bp(t,n)}}function Cp(t,n,a){n=Sn(a,n),n=Nh(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(qa(t,2),mi(t))}function Xt(t,n,a){if(t.tag===3)Cp(t,t,a);else for(;n!==null;){if(n.tag===3){Cp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=Sn(a,t),a=wg(2),l=ua(n,a,2),l!==null&&(Ng(a,l,n,t),qa(l,2),mi(l));break}}n=n.return}}function Wh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Qh=!0,c.add(a),t=EE.bind(null,t,n,a),n.then(t,t))}function EE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(xt&a)===a&&(ce===4||ce===3&&(xt&62914560)===xt&&300>Ze()-mo?(Qt&2)===0&&lr(t,0):Fh|=a,sr===xt&&(sr=0)),mi(t)}function wp(t,n){n===0&&(n=gu()),t=ts(t,n),t!==null&&(qa(t,n),mi(t))}function TE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),wp(t,a)}function AE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),wp(t,a)}function SE(t,n){return Ve(t,n)}var To=null,or=null,tf=!1,Ao=!1,ef=!1,ya=0;function mi(t){t!==or&&t.next===null&&(or===null?To=or=t:or=or.next=t),Ao=!0,tf||(tf=!0,RE())}function Nl(t,n){if(!ef&&Ao){ef=!0;do for(var a=!1,l=To;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ip(l,f))}else f=xt,f=Zn(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mn(l,f)||(a=!0,Ip(l,f));l=l.next}while(a);ef=!1}}function bE(){Np()}function Np(){Ao=tf=!1;var t=0;ya!==0&&jE()&&(t=ya);for(var n=Ze(),a=null,l=To;l!==null;){var c=l.next,f=Dp(l,n);f===0?(l.next=null,a===null?To=c:a.next=c,c===null&&(or=a)):(a=l,(t!==0||(f&3)!==0)&&(Ao=!0)),l=c}Ie!==0&&Ie!==5||Nl(t),ya!==0&&(ya=0)}function Dp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,I=c[g];I===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Vc(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,a=xt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Ai(a)){case 2:case 8:a=Lr;break;case 32:a=Fi;break;case 268435456:a=cu;break;default:a=Fi}return l=Vp.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eo()&&t.callbackNode!==a)return null;var l=xt;return l=Zn(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hp(t,l,n),Dp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Vp.bind(null,t):null)}function Ip(t,n){if(Eo())return null;hp(t,n,!0)}function RE(){UE(function(){(Qt&6)!==0?Ve(Ur,bE):Np()})}function nf(){if(ya===0){var t=Ks;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),ya=t}return ya}function xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function Mp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function CE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=xp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?xp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var I=g?Mp(c,g):new FormData(c);Ah(a,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Mp(c,g):new FormData(c),Ah(a,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var af=0;af<Bc.length;af++){var sf=Bc[af],wE=sf.toLowerCase(),NE=sf[0].toUpperCase()+sf.slice(1);Pn(wE,"on"+NE)}Pn(cm,"onAnimationEnd"),Pn(hm,"onAnimationIteration"),Pn(fm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(G0,"onTransitionRun"),Pn(Q0,"onTransitionStart"),Pn(F0,"onTransitionCancel"),Pn(dm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Op(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,q=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(Q){zu(Q)}c.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,q=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(Q){zu(Q)}c.currentTarget=null,f=I}}}}function It(t,n){var a=n[Ns];a===void 0&&(a=n[Ns]=new Set);var l=t+"__bubble";a.has(l)||(jp(n,t,2,!1),a.add(l))}function rf(t,n,a){var l=0;n&&(l|=4),jp(a,t,l,n)}var So="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[So]){t[So]=!0,Pr.forEach(function(a){a!=="selectionchange"&&(DE.has(a)||rf(a,!1,t),rf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[So]||(n[So]=!0,rf("selectionchange",!1,n))}}function jp(t,n,a,l){switch(cy(n)){case 2:var c=iT;break;case 8:c=aT;break;default:c=Af}a=c.bind(null,n,a,t),c=void 0,!Fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}E=E.parentNode}}l=l.return}$i(function(){var q=f,Q=vn(a),Y=[];t:{var P=mm.get(t);if(P!==void 0){var G=li,ut=t;switch(t){case"keypress":if(Ka(a)===0)break t;case"keydown":case"keyup":G=Mu;break;case"focusin":ut="focus",G=Za;break;case"focusout":ut="blur",G=Za;break;case"beforeblur":case"afterblur":G=Za;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case cm:case hm:case fm:G=Cu;break;case dm:G=A;break;case"scroll":case"scrollend":G=Wr;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ri;break;case"toggle":case"beforetoggle":G=Rt}var gt=(n&4)!==0,Wt=!gt&&(t==="scroll"||t==="scrollend"),j=gt?P!==null?P+"Capture":null:P;gt=[];for(var M=q,B;M!==null;){var F=M;if(B=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||B===null||j===null||(F=Un(M,j),F!=null&&gt.push(Vl(M,F,B))),Wt)break;M=M.return}0<gt.length&&(P=new G(P,ut,null,a,Q),Y.push({event:P,listeners:gt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",P&&a!==Zr&&(ut=a.relatedTarget||a.fromElement)&&(ti(ut)||ut[$n]))break t;if((G||P)&&(P=Q.window===Q?Q:(P=Q.ownerDocument)?P.defaultView||P.parentWindow:window,G?(ut=a.relatedTarget||a.toElement,G=q,ut=ut?ti(ut):null,ut!==null&&(Wt=h(ut),gt=ut.tag,ut!==Wt||gt!==5&&gt!==27&&gt!==6)&&(ut=null)):(G=null,ut=q),G!==ut)){if(gt=tl,F="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Ri,F="onPointerLeave",j="onPointerEnter",M="pointer"),Wt=G==null?P:un(G),B=ut==null?P:un(ut),P=new gt(F,M+"leave",G,a,Q),P.target=Wt,P.relatedTarget=B,F=null,ti(Q)===q&&(gt=new gt(j,M+"enter",ut,a,Q),gt.target=B,gt.relatedTarget=Wt,F=gt),Wt=F,G&&ut)e:{for(gt=VE,j=G,M=ut,B=0,F=j;F;F=gt(F))B++;F=0;for(var dt=M;dt;dt=gt(dt))F++;for(;0<B-F;)j=gt(j),B--;for(;0<F-B;)M=gt(M),F--;for(;B--;){if(j===M||M!==null&&j===M.alternate){gt=j;break e}j=gt(j),M=gt(M)}gt=null}else gt=null;G!==null&&zp(Y,P,G,gt,!1),ut!==null&&Wt!==null&&zp(Y,Wt,ut,gt,!0)}}t:{if(P=q?un(q):window,G=P.nodeName&&P.nodeName.toLowerCase(),G==="select"||G==="input"&&P.type==="file")var Pt=Wd;else if(Jd(P))if(tm)Pt=P0;else{Pt=B0;var ct=L0}else G=P.nodeName,!G||G.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?q&&xs(q.elementType)&&(Pt=Wd):Pt=q0;if(Pt&&(Pt=Pt(t,q))){$d(Y,Pt,a,Q);break t}ct&&ct(t,P,q),t==="focusout"&&q&&P.type==="number"&&q.memoizedProps.value!=null&&Yr(P,"number",P.value)}switch(ct=q?un(q):window,t){case"focusin":(Jd(ct)||ct.contentEditable==="true")&&(qs=ct,zc=q,sl=null);break;case"focusout":sl=zc=qs=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,um(Y,a,Q);break;case"selectionchange":if(H0)break;case"keydown":case"keyup":um(Y,a,Q)}var Dt;if(Gt)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Bs?Ja(t,a)&&(Mt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(ci&&a.locale!=="ko"&&(Bs||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Bs&&(Dt=$r()):(ri=Q,Jr="value"in ri?ri.value:ri.textContent,Bs=!0)),ct=bo(q,Mt),0<ct.length&&(Mt=new oi(Mt,t,null,a,Q),Y.push({event:Mt,listeners:ct}),Dt?Mt.data=Dt:(Dt=Ls(a),Dt!==null&&(Mt.data=Dt)))),(Dt=Tn?O0(t,a):j0(t,a))&&(Mt=bo(q,"onBeforeInput"),0<Mt.length&&(ct=new oi("onBeforeInput","beforeinput",null,a,Q),Y.push({event:ct,listeners:Mt}),ct.data=Dt)),CE(Y,t,q,a,Q)}Op(Y,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Un(t,a),c!=null&&l.unshift(Vl(t,c,f)),c=Un(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function VE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,I=E.alternate,q=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||q===null||(I=q,c?(q=Un(a,f),q!=null&&g.unshift(Vl(a,q,I))):c||(q=Un(a,f),q!=null&&g.push(Vl(a,q,I)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var IE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(IE,`
`).replace(xE,"")}function Lp(t,n){return n=Up(n),Up(t)===n}function $t(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":on(t,"class",l);break;case"tabIndex":on(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(t,a,l);break;case"style":Xr(t,l,f);break;case"data":if(n!=="object"){on(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ms(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Vs(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,Vs(t,a,l))}}function of(t,n,a,l,c,f){switch(a){case"style":Xr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Vs(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,g,a,null)}}c&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var E=f=g=c=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":I=Q;break;case"defaultChecked":q=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:$t(t,n,l,Q,a,null)}}Eu(t,f,E,I,q,g,c,!1);return;case"select":It("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:$t(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ki(t,!!l,n,!1):a!=null&&Ki(t,!!l,a,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(t,n,g,E,a,null)}Xi(t,l,c,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,I,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)It(Dl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,q,l,a,null)}return;default:if(xs(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&of(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$t(t,n,E,l,a,null))}function ME(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,I=null,q=null,Q=null;for(G in a){var Y=a[G];if(a.hasOwnProperty(G)&&Y!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(G)||$t(t,n,G,null,l,Y)}}for(var P in l){var G=l[P];if(Y=a[P],l.hasOwnProperty(P)&&(G!=null||Y!=null))switch(P){case"type":f=G;break;case"name":c=G;break;case"checked":q=G;break;case"defaultChecked":Q=G;break;case"value":g=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==Y&&$t(t,n,P,G,l,Y)}}Is(t,g,E,I,q,Q,f,c);return;case"select":G=g=E=P=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,I)}for(c in l)if(f=l[c],I=a[c],l.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&$t(t,n,c,f,l,I)}n=E,a=g,l=G,P!=null?Ki(t,!!a,P,!1):!!l!=!!a&&(n!=null?Ki(t,!!a,n,!0):Ki(t,!!a,a?[]:"",!1));return;case"textarea":G=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&$t(t,n,g,c,l,f)}Tu(t,P,G);return;case"option":for(var ut in a)if(P=a[ut],a.hasOwnProperty(ut)&&P!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:$t(t,n,ut,null,l,P)}for(I in l)if(P=l[I],G=a[I],l.hasOwnProperty(I)&&P!==G&&(P!=null||G!=null))switch(I){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:$t(t,n,I,P,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)P=a[gt],a.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&$t(t,n,gt,null,l,P);for(q in l)if(P=l[q],G=a[q],l.hasOwnProperty(q)&&P!==G&&(P!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:$t(t,n,q,P,l,G)}return;default:if(xs(n)){for(var Wt in a)P=a[Wt],a.hasOwnProperty(Wt)&&P!==void 0&&!l.hasOwnProperty(Wt)&&of(t,n,Wt,void 0,l,P);for(Q in l)P=l[Q],G=a[Q],!l.hasOwnProperty(Q)||P===G||P===void 0&&G===void 0||of(t,n,Q,P,l,G);return}}for(var j in a)P=a[j],a.hasOwnProperty(j)&&P!=null&&!l.hasOwnProperty(j)&&$t(t,n,j,null,l,P);for(Y in l)P=l[Y],G=a[Y],!l.hasOwnProperty(Y)||P===G||P==null&&G==null||$t(t,n,Y,P,l,G)}function Bp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Bp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var I=a[l],q=I.startTime;if(q>E)break;var Q=I.transferSize,Y=I.initiatorType;Q&&Bp(Y)&&(I=I.responseEnd,g+=Q*(I<E?1:(E-q)/(I-q)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cf=null,hf=null;function Ro(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===df?!1:(df=t,!0):(df=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,zE=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(LE)}:kp;function LE(t){setTimeout(function(){throw t})}function _a(t){return t==="head"}function Gp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),dr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Il(t.ownerDocument.body);a=c}while(a);dr(n)}function Qp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function qE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function Fp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Nn(t.nextSibling),t===null))return null;return t}function gf(t){return t.data==="$?"||t.data==="$~"}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function PE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yf=null;function Yp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Nn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Xp(t,n,a){switch(n=Ro(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ds(t)}var Dn=new Map,Zp=new Set;function Co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=W.d;W.d={f:kE,r:HE,D:GE,C:QE,L:FE,m:YE,X:XE,S:KE,M:ZE};function kE(){var t=qi.f(),n=yo();return t||n}function HE(t){var n=_n(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):qi.r(t)}var cr=typeof document>"u"?null:document;function Jp(t,n,a){var l=cr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function GE(t){qi.D(t),Jp("dns-prefetch",t,null)}function QE(t,n){qi.C(t,n),Jp("preconnect",t,n)}function FE(t,n,a){qi.L(t,n,a);var l=cr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=hr(t);break;case"script":f=fr(t)}Dn.has(f)||(t=N({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function YE(t,n){qi.m(t,n);var a=cr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fr(t)}if(!Dn.has(f)&&(t=N({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),ke(l,"link",t),Ee(l),a.head.appendChild(l)}}}function KE(t,n,a){qi.S(t,n,a);var l=cr;if(l&&t){var c=ei(l).hoistableStyles,f=hr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(xl(f)))E.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&_f(t,a);var I=g=l.createElement("link");Ee(I),ke(I,"link",t),I._p=new Promise(function(q,Q){I.onload=q,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function XE(t,n){qi.X(t,n);var a=cr;if(a&&t){var l=ei(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=N({src:t,async:!0},n),(n=Dn.get(c))&&vf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ZE(t,n){qi.M(t,n);var a=cr;if(a&&t){var l=ei(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=N({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&vf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $p(t,n,a,l){var c=(c=Nt.current)?Co(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hr(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hr(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(xl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||JE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fr(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hr(t){return'href="'+We(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function JE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Ee(n),t.head.appendChild(n))}function fr(t){return'[src="'+We(t)+'"]'}function Ml(t){return"script[async]"+t}function ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),ke(l,"style",c),wo(l,a.precedence,t),n.instance=l;case"stylesheet":c=hr(a.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Wp(a),(c=Dn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),ke(f,"link",l),n.state.loading|=4,wo(f,a.precedence,t),n.instance=f;case"script":return f=fr(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,Ee(c),c):(l=a,(c=Dn.get(f))&&(l=N({},a),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wo(l,a.precedence,t));return n.instance}function wo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var No=null;function ey(t,n,a){if(No===null){var l=new Map,c=No=new Map;c.set(a,l)}else c=No,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ny(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function $E(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function WE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=hr(l.href),f=n.querySelector(xl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Do.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Wp(l),(c=Dn.get(c))&&_f(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),ke(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Do.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ef=0;function tT(t,n){return t.stylesheets&&t.count===0&&Io(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Io(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ef===0&&(Ef=62500*OE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Io(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ef?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Do(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Io(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vo=null;function Io(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vo=new Map,n.forEach(eT,t),Vo=null,Do.call(t))}function eT(t,n){if(!(n.state.loading&4)){var a=Vo.get(t);if(a)var l=a.get(null);else{a=new Map,Vo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Do.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ht,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function nT(t,n,a,l,c,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function ay(t,n,a,l,c,f,g,E,I,q,Q,Y){return t=new nT(t,n,a,g,I,q,Q,Y,E),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),t.current=f,f.stateNode=t,n=$c(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},nh(f),t}function sy(t){return t?(t=Hs,t):Hs}function ry(t,n,a,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=la(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(rn(a,t,n),fl(a,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function uy(t){if(t.tag===13||t.tag===31){var n=ts(t,67108864);n!==null&&rn(n,t,67108864),Tf(t,67108864)}}function oy(t){if(t.tag===13||t.tag===31){var n=pn();n=ka(n);var a=ts(t,n);a!==null&&rn(a,t,n),Tf(t,n)}}var xo=!0;function iT(t,n,a,l){var c=k.T;k.T=null;var f=W.p;try{W.p=2,Af(t,n,a,l)}finally{W.p=f,k.T=c}}function aT(t,n,a,l){var c=k.T;k.T=null;var f=W.p;try{W.p=8,Af(t,n,a,l)}finally{W.p=f,k.T=c}}function Af(t,n,a,l){if(xo){var c=Sf(l);if(c===null)uf(t,n,l,Mo,a),hy(t,l);else if(rT(c,t,n,a,l))l.stopPropagation();else if(hy(t,l),n&4&&-1<sT.indexOf(t)){for(;c!==null;){var f=_n(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-he(g);E.entanglements[1]|=I,g&=~I}mi(f),(Qt&6)===0&&(go=Ze()+500,Nl(0))}}break;case 31:case 13:E=ts(f,2),E!==null&&rn(E,f,2),yo(),Tf(f,2)}if(f=Sf(l),f===null&&uf(t,n,l,Mo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function Sf(t){return t=vn(t),bf(t)}var Mo=null;function bf(t){if(Mo=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=_(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mo=t,null}function cy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(La()){case Ur:return 2;case Lr:return 8;case Fi:case Dc:return 32;case cu:return 268435456;default:return 32}default:return 32}}var Rf=!1,va=null,Ea=null,Ta=null,jl=new Map,zl=new Map,Aa=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hy(t,n){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=_n(n),n!==null&&uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function rT(t,n,a,l,c){switch(n){case"focusin":return va=Ul(va,t,n,a,l,c),!0;case"dragenter":return Ea=Ul(Ea,t,n,a,l,c),!0;case"mouseover":return Ta=Ul(Ta,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,Ul(jl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Ul(zl.get(f)||null,t,n,a,l,c)),!0}return!1}function fy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,On(t.priority,function(){oy(a)});return}}else if(n===31){if(n=_(a),n!==null){t.blockedOn=n,On(t.priority,function(){oy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zr=l,a.target.dispatchEvent(l),Zr=null}else return n=_n(a),n!==null&&uy(n),t.blockedOn=a,!1;n.shift()}return!0}function dy(t,n,a){Oo(t)&&a.delete(n)}function lT(){Rf=!1,va!==null&&Oo(va)&&(va=null),Ea!==null&&Oo(Ea)&&(Ea=null),Ta!==null&&Oo(Ta)&&(Ta=null),jl.forEach(dy),zl.forEach(dy)}function jo(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lT)))}var zo=null;function my(t){zo!==t&&(zo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zo===t&&(zo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||a)===null)continue;break}var f=_n(a);f!==null&&(t.splice(n,3),n-=3,Ah(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function dr(t){function n(I){return jo(I,t)}va!==null&&jo(va,t),Ea!==null&&jo(Ea,t),Ta!==null&&jo(Ta,t),jl.forEach(n),zl.forEach(n);for(var a=0;a<Aa.length;a++){var l=Aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Aa.length&&(a=Aa[0],a.blockedOn===null);)fy(a),a.blockedOn===null&&Aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Me]||null;if(typeof f=="function")g||my(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(bf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),my(a)}}}function gy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Cf(t){this._internalRoot=t}Uo.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pn();ry(a,l,t,n,null,null)},Uo.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),yo(),n[$n]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Aa.length&&n!==0&&n<Aa[a].priority;a++);Aa.splice(a,0,t),a===0&&fy(t)}};var py=e.version;if(py!=="19.2.0")throw Error(s(527,py,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var uT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{xn=Lo.inject(uT),Ue=Lo}catch{}}return Bl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=Sg,f=bg,g=Rg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ay(t,1,!1,null,null,a,l,null,c,f,g,gy),t[$n]=n.current,lf(t),new Cf(n)},Bl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=Sg,g=bg,E=Rg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=ay(t,1,!0,n,a??null,l,c,I,f,g,E,gy),n.context=sy(null),a=n.current,l=pn(),l=ka(l),c=la(l),c.callback=null,ua(a,c,l),a=l,n.current.lanes=a,qa(n,a),mi(n),t[$n]=n.current,lf(t),new Uo(n)},Bl.version="19.2.0",Bl}var Cy;function _T(){if(Cy)return Df.exports;Cy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Df.exports=yT(),Df.exports}var vT=_T();const ET=()=>{};var wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},TT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],_=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,_=d?r[u+1]:0,v=u+2<r.length,y=v?r[u+2]:0,b=h>>2,N=(h&3)<<4|_>>4;let z=(_&15)<<2|y>>6,U=y&63;v||(U=64,d||(z=64)),s.push(i[b],i[N],i[z],i[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(H_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):TT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],_=u<r.length?i[r.charAt(u)]:0;++u;const y=u<r.length?i[r.charAt(u)]:64;++u;const N=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||_==null||y==null||N==null)throw new AT;const z=h<<2|_>>4;if(s.push(z),y!==64){const U=_<<4&240|y>>2;if(s.push(U),N!==64){const $=y<<6&192|N;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ST=function(r){const e=H_(r);return G_.encodeByteArray(e,!0)},Jo=function(r){return ST(r).replace(/\./g,"")},bT=function(r){try{return G_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=()=>RT().__FIREBASE_DEFAULTS__,wT=()=>{if(typeof process>"u"||typeof wy>"u")return;const r=wy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bT(r[1]);return e&&JSON.parse(e)},md=()=>{try{return ET()||CT()||wT()||NT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},DT=r=>md()?.emulatorHosts?.[r],VT=r=>{const e=DT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Q_=()=>md()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jo(JSON.stringify(i)),Jo(JSON.stringify(d)),""].join(".")}const Gl={};function OT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function jT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Ny=!1;function zT(r,e){if(typeof window>"u"||typeof document>"u"||!gd(window.location.host)||Gl[r]===e||Gl[r]||Ny)return;Gl[r]=e;function i(z){return`__firebase__banner__${z}`}const s="__firebase__banner",h=OT().prod.length>0;function d(){const z=document.getElementById(s);z&&z.remove()}function _(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function v(z,U){z.setAttribute("width","24"),z.setAttribute("id",U),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function y(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{Ny=!0,d()},z}function b(z,U){z.setAttribute("id",U),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function N(){const z=jT(s),U=i("text"),$=document.getElementById(U)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),nt=i("preprendIcon"),ot=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const ht=z.element;_(ht),b(J,tt);const Et=y();v(ot,nt),ht.append(ot,$,J,Et),document.body.appendChild(ht)}h?($.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LT(){const r=md()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BT(){return!LT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="FirebaseError";class Nr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=kT,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F_.prototype.create)}}class F_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?HT(h,s):"Error",_=`${this.serviceName}: ${d} (${u}).`;return new Nr(u,_,s)}}function HT(r,e){return r.replace(GT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const GT=/\{\$([^}]+)}/g;function $o(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(Dy(h)&&Dy(d)){if(!$o(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Dy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(r){return r&&r._delegate?r._delegate:r}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new IT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YT(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);s===_&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FT(r){return r===ds?void 0:r}function YT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const XT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},ZT=qt.INFO,JT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},$T=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=JT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y_{constructor(e){this.name=e,this._logLevel=ZT,this._logHandler=$T,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const WT=(r,e)=>e.some(i=>r instanceof i);let Vy,Iy;function t1(){return Vy||(Vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e1(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K_=new WeakMap,Hf=new WeakMap,X_=new WeakMap,Mf=new WeakMap,pd=new WeakMap;function n1(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ra(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&K_.set(i,r)}).catch(()=>{}),pd.set(e,r),e}function i1(r){if(Hf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Hf.set(r,e)}let Gf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Hf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||X_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ra(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function a1(r){Gf=r(Gf)}function s1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Of(this),e,...i);return X_.set(s,e.sort?e.sort():[e]),Ra(s)}:e1().includes(r)?function(...e){return r.apply(Of(this),e),Ra(K_.get(this))}:function(...e){return Ra(r.apply(Of(this),e))}}function r1(r){return typeof r=="function"?s1(r):(r instanceof IDBTransaction&&i1(r),WT(r,t1())?new Proxy(r,Gf):r)}function Ra(r){if(r instanceof IDBRequest)return n1(r);if(Mf.has(r))return Mf.get(r);const e=r1(r);return e!==r&&(Mf.set(r,e),pd.set(e,r)),e}const Of=r=>pd.get(r);function l1(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),_=Ra(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Ra(d.result),v.oldVersion,v.newVersion,Ra(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",y=>u(y.oldVersion,y.newVersion,y))}).catch(()=>{}),_}const u1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],jf=new Map;function xy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=o1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||u1.includes(i)))return;const h=async function(d,..._){const v=this.transaction(d,u?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(_.shift())),(await Promise.all([y[i](..._),u&&v.done]))[0]};return jf.set(e,h),h}a1(r=>({...r,get:(e,i,s)=>xy(e,i)||r.get(e,i,s),has:(e,i)=>!!xy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(h1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function h1(r){return r.getComponent()?.type==="VERSION"}const Qf="@firebase/app",My="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Y_("@firebase/app"),f1="@firebase/app-compat",d1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",p1="@firebase/app-check",y1="@firebase/auth",_1="@firebase/auth-compat",v1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",A1="@firebase/functions",S1="@firebase/functions-compat",b1="@firebase/installations",R1="@firebase/installations-compat",C1="@firebase/messaging",w1="@firebase/messaging-compat",N1="@firebase/performance",D1="@firebase/performance-compat",V1="@firebase/remote-config",I1="@firebase/remote-config-compat",x1="@firebase/storage",M1="@firebase/storage-compat",O1="@firebase/firestore",j1="@firebase/ai",z1="@firebase/firestore-compat",U1="firebase",L1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",B1={[Qf]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[d1]:"fire-analytics-compat",[p1]:"fire-app-check",[g1]:"fire-app-check-compat",[y1]:"fire-auth",[_1]:"fire-auth-compat",[v1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[A1]:"fire-fn",[S1]:"fire-fn-compat",[b1]:"fire-iid",[R1]:"fire-iid-compat",[C1]:"fire-fcm",[w1]:"fire-fcm-compat",[N1]:"fire-perf",[D1]:"fire-perf-compat",[V1]:"fire-rc",[I1]:"fire-rc-compat",[x1]:"fire-gcs",[M1]:"fire-gcs-compat",[O1]:"fire-fst",[z1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[U1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new Map,q1=new Map,Yf=new Map;function Oy(r,e){try{r.container.addComponent(e)}catch(i){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function tc(r){const e=r.name;if(Yf.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,r);for(const i of Wo.values())Oy(i,r);for(const i of q1.values())Oy(i,r);return!0}function P1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function k1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new F_("app","Firebase",H1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=L1;function Z_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Ff,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Ca.create("bad-app-name",{appName:String(u)});if(i||(i=Q_()),!i)throw Ca.create("no-options");const h=Wo.get(u);if(h){if($o(i,h.options)&&$o(s,h.config))return h;throw Ca.create("duplicate-app",{appName:u})}const d=new KT(u);for(const v of Yf.values())d.addComponent(v);const _=new G1(i,s,d);return Wo.set(u,_),_}function F1(r=Ff){const e=Wo.get(r);if(!e&&r===Ff&&Q_())return Z_();if(!e)throw Ca.create("no-app",{appName:r});return e}function _r(r,e,i){let s=B1[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(d.join(" "));return}tc(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebase-heartbeat-database",K1=1,Zl="firebase-heartbeat-store";let zf=null;function J_(){return zf||(zf=l1(Y1,K1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ca.create("idb-open",{originalErrorMessage:r.message})})),zf}async function X1(r){try{const i=(await J_()).transaction(Zl),s=await i.objectStore(Zl).get($_(r));return await i.done,s}catch(e){if(e instanceof Nr)ki.warn(e.message);else{const i=Ca.create("idb-get",{originalErrorMessage:e?.message});ki.warn(i.message)}}}async function jy(r,e){try{const s=(await J_()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,$_(r)),await s.done}catch(i){if(i instanceof Nr)ki.warn(i.message);else{const s=Ca.create("idb-set",{originalErrorMessage:i?.message});ki.warn(s.message)}}}function $_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1024,J1=30;class $1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>J1){const u=eA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zy(),{heartbeatsToSend:i,unsentEntries:s}=W1(this._heartbeatsCache.heartbeats),u=Jo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ki.warn(e),""}}}function zy(){return new Date().toISOString().substring(0,10)}function W1(r,e=Z1){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Uy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class tA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await X1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uy(r){return Jo(JSON.stringify({version:2,heartbeats:r})).length}function eA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(r){tc(new Xl("platform-logger",e=>new c1(e),"PRIVATE")),tc(new Xl("heartbeat",e=>new $1(e),"PRIVATE")),_r(Qf,My,r),_r(Qf,My,"esm2020"),_r("fire-js","")}nA("");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,W_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,C){function S(){}S.prototype=C.prototype,w.F=C.prototype,w.prototype=new S,w.prototype.constructor=w,w.D=function(D,V,x){for(var T=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)T[ft-2]=arguments[ft];return C.prototype[V].apply(D,T)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(w,C,S){S||(S=0);const D=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)D[V]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(V=0;V<16;++V)D[V]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=w.g[0],S=w.g[1],V=w.g[2];let x=w.g[3],T;T=C+(x^S&(V^x))+D[0]+3614090360&4294967295,C=S+(T<<7&4294967295|T>>>25),T=x+(V^C&(S^V))+D[1]+3905402710&4294967295,x=C+(T<<12&4294967295|T>>>20),T=V+(S^x&(C^S))+D[2]+606105819&4294967295,V=x+(T<<17&4294967295|T>>>15),T=S+(C^V&(x^C))+D[3]+3250441966&4294967295,S=V+(T<<22&4294967295|T>>>10),T=C+(x^S&(V^x))+D[4]+4118548399&4294967295,C=S+(T<<7&4294967295|T>>>25),T=x+(V^C&(S^V))+D[5]+1200080426&4294967295,x=C+(T<<12&4294967295|T>>>20),T=V+(S^x&(C^S))+D[6]+2821735955&4294967295,V=x+(T<<17&4294967295|T>>>15),T=S+(C^V&(x^C))+D[7]+4249261313&4294967295,S=V+(T<<22&4294967295|T>>>10),T=C+(x^S&(V^x))+D[8]+1770035416&4294967295,C=S+(T<<7&4294967295|T>>>25),T=x+(V^C&(S^V))+D[9]+2336552879&4294967295,x=C+(T<<12&4294967295|T>>>20),T=V+(S^x&(C^S))+D[10]+4294925233&4294967295,V=x+(T<<17&4294967295|T>>>15),T=S+(C^V&(x^C))+D[11]+2304563134&4294967295,S=V+(T<<22&4294967295|T>>>10),T=C+(x^S&(V^x))+D[12]+1804603682&4294967295,C=S+(T<<7&4294967295|T>>>25),T=x+(V^C&(S^V))+D[13]+4254626195&4294967295,x=C+(T<<12&4294967295|T>>>20),T=V+(S^x&(C^S))+D[14]+2792965006&4294967295,V=x+(T<<17&4294967295|T>>>15),T=S+(C^V&(x^C))+D[15]+1236535329&4294967295,S=V+(T<<22&4294967295|T>>>10),T=C+(V^x&(S^V))+D[1]+4129170786&4294967295,C=S+(T<<5&4294967295|T>>>27),T=x+(S^V&(C^S))+D[6]+3225465664&4294967295,x=C+(T<<9&4294967295|T>>>23),T=V+(C^S&(x^C))+D[11]+643717713&4294967295,V=x+(T<<14&4294967295|T>>>18),T=S+(x^C&(V^x))+D[0]+3921069994&4294967295,S=V+(T<<20&4294967295|T>>>12),T=C+(V^x&(S^V))+D[5]+3593408605&4294967295,C=S+(T<<5&4294967295|T>>>27),T=x+(S^V&(C^S))+D[10]+38016083&4294967295,x=C+(T<<9&4294967295|T>>>23),T=V+(C^S&(x^C))+D[15]+3634488961&4294967295,V=x+(T<<14&4294967295|T>>>18),T=S+(x^C&(V^x))+D[4]+3889429448&4294967295,S=V+(T<<20&4294967295|T>>>12),T=C+(V^x&(S^V))+D[9]+568446438&4294967295,C=S+(T<<5&4294967295|T>>>27),T=x+(S^V&(C^S))+D[14]+3275163606&4294967295,x=C+(T<<9&4294967295|T>>>23),T=V+(C^S&(x^C))+D[3]+4107603335&4294967295,V=x+(T<<14&4294967295|T>>>18),T=S+(x^C&(V^x))+D[8]+1163531501&4294967295,S=V+(T<<20&4294967295|T>>>12),T=C+(V^x&(S^V))+D[13]+2850285829&4294967295,C=S+(T<<5&4294967295|T>>>27),T=x+(S^V&(C^S))+D[2]+4243563512&4294967295,x=C+(T<<9&4294967295|T>>>23),T=V+(C^S&(x^C))+D[7]+1735328473&4294967295,V=x+(T<<14&4294967295|T>>>18),T=S+(x^C&(V^x))+D[12]+2368359562&4294967295,S=V+(T<<20&4294967295|T>>>12),T=C+(S^V^x)+D[5]+4294588738&4294967295,C=S+(T<<4&4294967295|T>>>28),T=x+(C^S^V)+D[8]+2272392833&4294967295,x=C+(T<<11&4294967295|T>>>21),T=V+(x^C^S)+D[11]+1839030562&4294967295,V=x+(T<<16&4294967295|T>>>16),T=S+(V^x^C)+D[14]+4259657740&4294967295,S=V+(T<<23&4294967295|T>>>9),T=C+(S^V^x)+D[1]+2763975236&4294967295,C=S+(T<<4&4294967295|T>>>28),T=x+(C^S^V)+D[4]+1272893353&4294967295,x=C+(T<<11&4294967295|T>>>21),T=V+(x^C^S)+D[7]+4139469664&4294967295,V=x+(T<<16&4294967295|T>>>16),T=S+(V^x^C)+D[10]+3200236656&4294967295,S=V+(T<<23&4294967295|T>>>9),T=C+(S^V^x)+D[13]+681279174&4294967295,C=S+(T<<4&4294967295|T>>>28),T=x+(C^S^V)+D[0]+3936430074&4294967295,x=C+(T<<11&4294967295|T>>>21),T=V+(x^C^S)+D[3]+3572445317&4294967295,V=x+(T<<16&4294967295|T>>>16),T=S+(V^x^C)+D[6]+76029189&4294967295,S=V+(T<<23&4294967295|T>>>9),T=C+(S^V^x)+D[9]+3654602809&4294967295,C=S+(T<<4&4294967295|T>>>28),T=x+(C^S^V)+D[12]+3873151461&4294967295,x=C+(T<<11&4294967295|T>>>21),T=V+(x^C^S)+D[15]+530742520&4294967295,V=x+(T<<16&4294967295|T>>>16),T=S+(V^x^C)+D[2]+3299628645&4294967295,S=V+(T<<23&4294967295|T>>>9),T=C+(V^(S|~x))+D[0]+4096336452&4294967295,C=S+(T<<6&4294967295|T>>>26),T=x+(S^(C|~V))+D[7]+1126891415&4294967295,x=C+(T<<10&4294967295|T>>>22),T=V+(C^(x|~S))+D[14]+2878612391&4294967295,V=x+(T<<15&4294967295|T>>>17),T=S+(x^(V|~C))+D[5]+4237533241&4294967295,S=V+(T<<21&4294967295|T>>>11),T=C+(V^(S|~x))+D[12]+1700485571&4294967295,C=S+(T<<6&4294967295|T>>>26),T=x+(S^(C|~V))+D[3]+2399980690&4294967295,x=C+(T<<10&4294967295|T>>>22),T=V+(C^(x|~S))+D[10]+4293915773&4294967295,V=x+(T<<15&4294967295|T>>>17),T=S+(x^(V|~C))+D[1]+2240044497&4294967295,S=V+(T<<21&4294967295|T>>>11),T=C+(V^(S|~x))+D[8]+1873313359&4294967295,C=S+(T<<6&4294967295|T>>>26),T=x+(S^(C|~V))+D[15]+4264355552&4294967295,x=C+(T<<10&4294967295|T>>>22),T=V+(C^(x|~S))+D[6]+2734768916&4294967295,V=x+(T<<15&4294967295|T>>>17),T=S+(x^(V|~C))+D[13]+1309151649&4294967295,S=V+(T<<21&4294967295|T>>>11),T=C+(V^(S|~x))+D[4]+4149444226&4294967295,C=S+(T<<6&4294967295|T>>>26),T=x+(S^(C|~V))+D[11]+3174756917&4294967295,x=C+(T<<10&4294967295|T>>>22),T=V+(C^(x|~S))+D[2]+718787259&4294967295,V=x+(T<<15&4294967295|T>>>17),T=S+(x^(V|~C))+D[9]+3951481745&4294967295,w.g[0]=w.g[0]+C&4294967295,w.g[1]=w.g[1]+(V+(T<<21&4294967295|T>>>11))&4294967295,w.g[2]=w.g[2]+V&4294967295,w.g[3]=w.g[3]+x&4294967295}s.prototype.v=function(w,C){C===void 0&&(C=w.length);const S=C-this.blockSize,D=this.C;let V=this.h,x=0;for(;x<C;){if(V==0)for(;x<=S;)u(this,w,x),x+=this.blockSize;if(typeof w=="string"){for(;x<C;)if(D[V++]=w.charCodeAt(x++),V==this.blockSize){u(this,D),V=0;break}}else for(;x<C;)if(D[V++]=w[x++],V==this.blockSize){u(this,D),V=0;break}}this.h=V,this.o+=C},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var C=1;C<w.length-8;++C)w[C]=0;C=this.o*8;for(var S=w.length-8;S<w.length;++S)w[S]=C&255,C/=256;for(this.v(w),w=Array(16),C=0,S=0;S<4;++S)for(let D=0;D<32;D+=8)w[C++]=this.g[S]>>>D&255;return w};function h(w,C){var S=_;return Object.prototype.hasOwnProperty.call(S,w)?S[w]:S[w]=C(w)}function d(w,C){this.h=C;const S=[];let D=!0;for(let V=w.length-1;V>=0;V--){const x=w[V]|0;D&&x==C||(S[V]=x,D=!1)}this.g=S}var _={};function v(w){return-128<=w&&w<128?h(w,function(C){return new d([C|0],C<0?-1:0)}):new d([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return N;if(w<0)return J(y(-w));const C=[];let S=1;for(let D=0;w>=S;D++)C[D]=w/S|0,S*=4294967296;return new d(C,0)}function b(w,C){if(w.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(w.charAt(0)=="-")return J(b(w.substring(1),C));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(C,8));let D=N;for(let x=0;x<w.length;x+=8){var V=Math.min(8,w.length-x);const T=parseInt(w.substring(x,x+V),C);V<8?(V=y(Math.pow(C,V)),D=D.j(V).add(y(T))):(D=D.j(S),D=D.add(y(T)))}return D}var N=v(0),z=v(1),U=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();let w=0,C=1;for(let S=0;S<this.g.length;S++){const D=this.i(S);w+=(D>=0?D:4294967296+D)*C,C*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if($(this))return"0";if(tt(this))return"-"+J(this).toString(w);const C=y(Math.pow(w,6));var S=this;let D="";for(;;){const V=Et(S,C).g;S=nt(S,V.j(C));let x=((S.g.length>0?S.g[0]:S.h)>>>0).toString(w);if(S=V,$(S))return x+D;for(;x.length<6;)x="0"+x;D=x+D}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function $(w){if(w.h!=0)return!1;for(let C=0;C<w.g.length;C++)if(w.g[C]!=0)return!1;return!0}function tt(w){return w.h==-1}r.l=function(w){return w=nt(this,w),tt(w)?-1:$(w)?0:1};function J(w){const C=w.g.length,S=[];for(let D=0;D<C;D++)S[D]=~w.g[D];return new d(S,~w.h).add(z)}r.abs=function(){return tt(this)?J(this):this},r.add=function(w){const C=Math.max(this.g.length,w.g.length),S=[];let D=0;for(let V=0;V<=C;V++){let x=D+(this.i(V)&65535)+(w.i(V)&65535),T=(x>>>16)+(this.i(V)>>>16)+(w.i(V)>>>16);D=T>>>16,x&=65535,T&=65535,S[V]=T<<16|x}return new d(S,S[S.length-1]&-2147483648?-1:0)};function nt(w,C){return w.add(J(C))}r.j=function(w){if($(this)||$(w))return N;if(tt(this))return tt(w)?J(this).j(J(w)):J(J(this).j(w));if(tt(w))return J(this.j(J(w)));if(this.l(U)<0&&w.l(U)<0)return y(this.m()*w.m());const C=this.g.length+w.g.length,S=[];for(var D=0;D<2*C;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(let V=0;V<w.g.length;V++){const x=this.i(D)>>>16,T=this.i(D)&65535,ft=w.i(V)>>>16,wt=w.i(V)&65535;S[2*D+2*V]+=T*wt,ot(S,2*D+2*V),S[2*D+2*V+1]+=x*wt,ot(S,2*D+2*V+1),S[2*D+2*V+1]+=T*ft,ot(S,2*D+2*V+1),S[2*D+2*V+2]+=x*ft,ot(S,2*D+2*V+2)}for(w=0;w<C;w++)S[w]=S[2*w+1]<<16|S[2*w];for(w=C;w<2*C;w++)S[w]=0;return new d(S,0)};function ot(w,C){for(;(w[C]&65535)!=w[C];)w[C+1]+=w[C]>>>16,w[C]&=65535,C++}function ht(w,C){this.g=w,this.h=C}function Et(w,C){if($(C))throw Error("division by zero");if($(w))return new ht(N,N);if(tt(w))return C=Et(J(w),C),new ht(J(C.g),J(C.h));if(tt(C))return C=Et(w,J(C)),new ht(J(C.g),C.h);if(w.g.length>30){if(tt(w)||tt(C))throw Error("slowDivide_ only works with positive integers.");for(var S=z,D=C;D.l(w)<=0;)S=zt(S),D=zt(D);var V=_t(S,1),x=_t(D,1);for(D=_t(D,2),S=_t(S,2);!$(D);){var T=x.add(D);T.l(w)<=0&&(V=V.add(S),x=T),D=_t(D,1),S=_t(S,1)}return C=nt(w,V.j(C)),new ht(V,C)}for(V=N;w.l(C)>=0;){for(S=Math.max(1,Math.floor(w.m()/C.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),x=y(S),T=x.j(C);tt(T)||T.l(w)>0;)S-=D,x=y(S),T=x.j(C);$(x)&&(x=z),V=V.add(x),w=nt(w,T)}return new ht(V,w)}r.B=function(w){return Et(this,w).h},r.and=function(w){const C=Math.max(this.g.length,w.g.length),S=[];for(let D=0;D<C;D++)S[D]=this.i(D)&w.i(D);return new d(S,this.h&w.h)},r.or=function(w){const C=Math.max(this.g.length,w.g.length),S=[];for(let D=0;D<C;D++)S[D]=this.i(D)|w.i(D);return new d(S,this.h|w.h)},r.xor=function(w){const C=Math.max(this.g.length,w.g.length),S=[];for(let D=0;D<C;D++)S[D]=this.i(D)^w.i(D);return new d(S,this.h^w.h)};function zt(w){const C=w.g.length+1,S=[];for(let D=0;D<C;D++)S[D]=w.i(D)<<1|w.i(D-1)>>>31;return new d(S,w.h)}function _t(w,C){const S=C>>5;C%=32;const D=w.g.length-S,V=[];for(let x=0;x<D;x++)V[x]=C>0?w.i(x+S)>>>C|w.i(x+S+1)<<32-C:w.i(x+S);return new d(V,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,W_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,wa=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,ql,ev,Go,Kf,nv,iv,av;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bo=="object"&&Bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var A=0;A<o.length-1;A++){var L=o[A];if(!(L in p))break t;p=p[L]}o=o[o.length-1],A=p[o],m=m(A),m!=A&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&p.push([A,m[A]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function y(o,m,p){return y=v,y.apply(null,arguments)}function b(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var A=p.slice();return A.push.apply(A,arguments),o.apply(this,A)}}function N(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(A,L,H){for(var et=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)et[Rt-2]=arguments[Rt];return m.prototype[L].apply(A,et)}}var z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function U(o){const m=o.length;if(m>0){const p=Array(m);for(let A=0;A<m;A++)p[A]=o[A];return p}return[]}function $(o,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=o.length||0;const H=L.length||0;o.length=p+H;for(let et=0;et<H;et++)o[p+et]=L[et]}else o.push(L)}}class tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(o){d.setTimeout(()=>{throw o},0)}function nt(){var o=w;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ot{constructor(){this.h=this.g=null}add(m,p){const A=ht.get();A.set(m,p),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new tt(()=>new Et,o=>o.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,_t=!1,w=new ot,C=()=>{const o=Promise.resolve(void 0);zt=()=>{o.then(S)}};function S(){for(var o;o=nt();){try{o.h.call(o.g)}catch(p){J(p)}var m=ht;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}_t=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function T(o){return/^[\s\xa0]*$/.test(o)}function ft(o,m){V.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}N(ft,V),ft.prototype.init=function(o,m){const p=this.type=o.type,A=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),k=0;function W(o,m,p,A,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!A,this.ha=L,this.key=++k,this.da=this.fa=!1}function at(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function St(o,m,p){for(const A in o)m.call(p,o[A],A,o)}function Ht(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function O(o){const m={};for(const p in o)m[p]=o[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(o,m){let p,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(p in A)o[p]=A[p];for(let H=0;H<K.length;H++)p=K[H],Object.prototype.hasOwnProperty.call(A,p)&&(o[p]=A[p])}}function lt(o){this.src=o,this.g={},this.h=0}lt.prototype.add=function(o,m,p,A,L){const H=o.toString();o=this.g[H],o||(o=this.g[H]=[],this.h++);const et=Nt(o,m,A,L);return et>-1?(m=o[et],p||(m.fa=!1)):(m=new W(m,this.src,H,!!A,L),m.fa=p,o.push(m)),m};function yt(o,m){const p=m.type;if(p in o.g){var A=o.g[p],L=Array.prototype.indexOf.call(A,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(A,L,1),H&&(at(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Nt(o,m,p,A){for(let L=0;L<o.length;++L){const H=o[L];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==A)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function se(o,m,p,A,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)se(o,m[H],p,A,L);return null}return p=zr(p),o&&o[wt]?o.J(m,p,_(A)?!!A.capture:!1,L):za(o,m,p,!1,A,L)}function za(o,m,p,A,L,H){if(!m)throw Error("Invalid event type");const et=_(L)?!!L.capture:!!L;let Rt=Ua(o);if(Rt||(o[Lt]=Rt=new lt(o)),p=Rt.add(m,p,A,et,H),p.proxy)return p;if(A=bs(),p.proxy=A,A.src=o,A.listener=p,o.addEventListener)x||(L=et),L===void 0&&(L=!1),o.addEventListener(m.toString(),A,L);else if(o.attachEvent)o.attachEvent(Yn(m.toString()),A);else if(o.addListener&&o.removeListener)o.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return p}function bs(){function o(p){return m.call(o.src,o.listener,p)}const m=Or;return o}function Rs(o,m,p,A,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Rs(o,m[H],p,A,L);else A=_(A)?!!A.capture:!!A,p=zr(p),o&&o[wt]?(o=o.i,H=String(m).toString(),H in o.g&&(m=o.g[H],p=Nt(m,p,A,L),p>-1&&(at(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[H],o.h--)))):o&&(o=Ua(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Nt(m,p,A,L)),(p=o>-1?m[o]:null)&&Cs(p))}function Cs(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[wt])yt(m.i,o);else{var p=o.type,A=o.proxy;m.removeEventListener?m.removeEventListener(p,A,o.capture):m.detachEvent?m.detachEvent(Yn(p),A):m.addListener&&m.removeListener&&m.removeListener(A),(p=Ua(m))?(yt(p,o),p.h==0&&(p.src=null,m[Lt]=null)):at(o)}}}function Yn(o){return o in De?De[o]:De[o]="on"+o}function Or(o,m){if(o.da)o=!0;else{m=new ft(m,this);const p=o.listener,A=o.ha||o.src;o.fa&&Cs(o),o=p.call(A,m)}return o}function Ua(o){return o=o[Lt],o instanceof lt?o:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zr(o){return typeof o=="function"?o:(o[jr]||(o[jr]=function(m){return o.handleEvent(m)}),o[jr])}function ye(){D.call(this),this.i=new lt(this),this.M=this,this.G=null}N(ye,D),ye.prototype[wt]=!0,ye.prototype.removeEventListener=function(o,m,p,A){Rs(this,o,m,p,A)};function Ve(o,m){var p,A=o.G;if(A)for(p=[];A;A=A.G)p.push(A);if(o=o.M,A=m.type||m,typeof m=="string")m=new V(m,o);else if(m instanceof V)m.target=m.target||o;else{var L=m;m=new V(A,o),it(m,L)}L=!0;let H,et;if(p)for(et=p.length-1;et>=0;et--)H=m.g=p[et],L=Qi(H,A,!0,m)&&L;if(H=m.g=o,L=Qi(H,A,!0,m)&&L,L=Qi(H,A,!1,m)&&L,p)for(et=0;et<p.length;et++)H=m.g=p[et],L=Qi(H,A,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let A=0;A<p.length;A++)at(p[A]);delete o.g[m],o.h--}}this.G=null},ye.prototype.J=function(o,m,p,A){return this.i.add(String(o),m,!1,p,A)},ye.prototype.K=function(o,m,p,A){return this.i.add(String(o),m,!0,p,A)};function Qi(o,m,p,A){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const et=m[H];if(et&&!et.da&&et.capture==p){const Rt=et.listener,fe=et.ha||et.src;et.fa&&yt(o.i,et),L=Rt.call(fe,A)!==!1&&L}}return L&&!A.defaultPrevented}function Nc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=y(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function ou(o){o.g=Nc(()=>{o.g=null,o.i&&(o.i=!1,ou(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ze extends D{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(o){D.call(this),this.h=o,this.g={}}N(La,D);var Ur=[];function Lr(o){St(o.g,function(m,p){this.g.hasOwnProperty(p)&&Cs(m)},o),o.g={}}La.prototype.N=function(){La.Z.N.call(this),Lr(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=d.JSON.stringify,Dc=d.JSON.parse,cu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function hu(){}function fu(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){V.call(this,"d")}N(Ue,V);function yn(){V.call(this,"c")}N(yn,V);var he={},du=null;function ws(){return du=du||new ye}he.Ia="serverreachability";function mu(o){V.call(this,he.Ia,o)}N(mu,V);function Kn(o){const m=ws();Ve(m,new mu(m))}he.STAT_EVENT="statevent";function Ba(o,m){V.call(this,he.STAT_EVENT,o),this.stat=m}N(Ba,V);function _e(o){const m=ws();Ve(m,new Ba(m,o))}he.Ja="timingevent";function Xn(o,m){V.call(this,he.Ja,o),this.size=m}N(Xn,V);function Zn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Vc(o,m,p,A,L,H){o.info(function(){if(o.g)if(H){var et="",Rt=H.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var fe=Rt[Gt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Tn=re.split("_");et=Tn.length>=2&&Tn[1]=="type"?et+(re+"="+fe+"&"):et+(re+"=redacted&")}}}else et=null;else et=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function gu(o,m,p,A,L,H,et){o.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+p+`
`+H+" "+et})}function Jn(o,m,p,A){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ic(o,p)+(A?" "+A:"")})}function qa(o,m){o.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function Ic(o,m){if(!o.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(o=0;o<H.length;o++)if(Array.isArray(H[o])){var p=H[o];if(!(p.length<2)){var A=p[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<A.length;et++)A[et]=""}}}}return Fi(H)}catch{return m}}var Pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Br={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qr;function ka(){}N(ka,hu),ka.prototype.g=function(){return new XMLHttpRequest},qr=new ka;function Ai(o){return encodeURIComponent(String(o))}function pu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function On(o,m,p,A){this.j=o,this.i=m,this.l=p,this.S=A||1,this.V=new La(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function $n(o,m,p){o.M=1,o.A=Ha(Te(m)),o.u=p,o.R=!0,Ns(o,null)}function Ns(o,m){o.F=Date.now(),Wn(o),o.B=Te(o.A);var p=o.B,A=o.S;Array.isArray(A)||(A=[String(A)]),xs(p.i,"t",A),o.C=0,p=o.j.L,o.h=new jn,o.g=Iu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ze(y(o.Y,o,o.g),o.P)),m=o.V,p=o.g,A=o.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ur[0]=L.toString()),L=Ur);for(let H=0;H<L.length;H++){const et=se(p,L[H],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=o.J?O(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Kn(),Vc(o.i,o.v,o.B,o.l,o.S,o.u)}On.prototype.ba=function(o){o=o.target;const m=this.O;m&&Ln(o)==3?m.j():this.Y(o)},On.prototype.Y=function(o){try{if(o==this.g)t:{const Rt=Ln(this.g),fe=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Rt!=4||fe==7||(fe==8||Gt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var p=xc(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(A)){var H=A;break e}}H=null}if(o=H)Jn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,o);else{this.o=!1,this.m=3,_e(12),un(this),_n(this);break t}}if(this.R){o=!0;let re;for(;!this.K&&this.C<p.length;)if(re=_u(this,p),re==Me){Rt==4&&(this.m=4,_e(14),o=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Jn(this.i,this.l,re,null),ei(this,re);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||p.length!=0||this.h.h||(this.m=1,_e(16),o=!1),this.o=this.o&&o,!o)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),_n(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),el(et),et.P=!0,_e(11))}}else Jn(this.i,this.l,p,null),ei(this,p);Rt==4&&un(this),this.o&&!this.K&&(Rt==4?wu(this.j,this):(this.o=!1,Wn(this)))}else bi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),un(this),_n(this)}}}catch{}finally{}};function xc(o){if(!yu(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const A=m.length,L=Ln(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return un(o),_n(o),"";o.h.i=new d.TextDecoder}for(let H=0;H<A;H++)o.h.h=!0,p+=o.h.i.decode(m[H],{stream:!(L&&H==A-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function yu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function _u(o,m){var p=o.C,A=m.indexOf(`
`,p);return A==-1?Me:(p=Number(m.substring(p,A)),isNaN(p)?ve:(A+=1,A+p>m.length?Me:(m=m.slice(A,A+p),o.C=A+p,m)))}On.prototype.cancel=function(){this.K=!0,un(this)};function Wn(o){o.T=Date.now()+o.H,Ds(o,o.H)}function Ds(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Zn(y(o.aa,o),m)}function ti(o){o.D&&(d.clearTimeout(o.D),o.D=null)}On.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(qa(this.i,this.B),this.M!=2&&(Kn(),_e(17)),un(this),this.m=2,_n(this)):Ds(this,this.T-o)};function _n(o){o.j.I==0||o.K||wu(o.j,o)}function un(o){ti(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Lr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ei(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ii(p.h,o))){if(!o.L&&ii(p.h,o)&&p.I==3){try{var A=p.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Us(p),ta(p);else break t;Za(p),_e(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(y(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else oi(p,11)}else if((o.L||p.g==o)&&Us(p),!T(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const re=Gt[0];if(!(re<=p.K))if(p.K=re,Gt=Gt[1],p.I==2)if(Gt[0]=="c"){p.M=Gt[1],p.ba=Gt[2];const Tn=Gt[3];Tn!=null&&(p.ka=Tn,p.j.info("VER="+p.ka));const ci=Gt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const Bn=Gt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(A=1.5*Bn,p.O=A,p.j.info("backChannelRequestTimeoutMs_="+A)),A=p;const qn=o.g;if(qn){const Ja=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var H=A.h;H.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Hr(H,H.h),H.h=null))}if(A.G){const Ls=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ls&&(A.wa=Ls,Yt(A.J,A.G,Ls))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),A=p;var et=o;if(A.na=Vu(A,A.L?A.ba:null,A.W),et.L){Gr(A.h,et);var Rt=et,fe=A.O;fe&&(Rt.H=fe),Rt.D&&(ti(Rt),Wn(Rt)),A.g=et}else Ru(A);p.i.length>0&&ui(p)}else Gt[0]!="stop"&&Gt[0]!="close"||oi(p,7);else p.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?oi(p,7):Wr(p):Gt[0]!="noop"&&p.l&&p.l.qa(Gt),p.A=0)}}Kn(4)}catch{}}var Ee=class{constructor(o,m){this.g=o,this.map=m}};function Pr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ni(o){return o.h?1:o.g?o.g.size:0}function ii(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Hr(o,m){o.g?o.g.add(m):o.h=m}function Gr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Pr.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Qr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return U(o.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const A=o[p].indexOf("=");let L,H=null;A>=0?(L=o[p].substring(0,A),H=o[p].substring(A+1)):L=o[p],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function on(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof on?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Yi(this,o.u),this.h=o.h,Fr(this,Su(o.i)),this.m=o.m):o&&(m=String(o).match(vu))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Yi(this,m[4]),this.h=ai(m[5]||"",!0),Fr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}on.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ga(m,Is,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ga(m,Is,!0),"@"),o.push(Ai(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Ga(p,p.charAt(0)=="/"?Yr:Eu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Ga(p,Tu)),o.join("")},on.prototype.resolve=function(o){const m=Te(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var A=o.h;if(p)Yi(m,o.u);else if(p=!!o.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let et=0;et<L.length;){const Rt=L[et++];Rt=="."?A&&et==L.length&&H.push(""):Rt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&et==L.length&&H.push("")):(H.push(Rt),A=!0)}A=H.join("/")}else A=L}return p?m.h=A:p=o.i.toString()!=="",p?Fr(m,Su(o.i)):p=!!o.m,p&&(m.m=o.m),m};function Te(o){return new on(o)}function Oe(o,m,p){o.j=p?ai(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Yi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Fr(o,m,p){m instanceof Xi?(o.i=m,Ms(o.i,o.l)):(p||(m=Ga(m,Ki)),o.i=new Xi(m,o.l))}function Yt(o,m,p){o.i.set(m,p)}function Ha(o){return Yt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ai(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ga(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,We),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function We(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Is=/[#\/\?@]/g,Eu=/[#\?:]/g,Yr=/[#\?]/g,Ki=/[#\?@]/g,Tu=/#/g;function Xi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function tn(o){o.g||(o.g=new Map,o.h=0,o.i&&Vs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Xi.prototype,r.add=function(o,m){tn(this),this.i=null,o=Zi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Au(o,m){tn(o),m=Zi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Kr(o,m){return tn(o),m=Zi(o,m),o.g.has(m)}r.forEach=function(o,m){tn(this),this.g.forEach(function(p,A){p.forEach(function(L){o.call(m,L,A,this)},this)},this)};function Xr(o,m){tn(o);let p=[];if(typeof m=="string")Kr(o,m)&&(p=p.concat(o.g.get(Zi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return tn(this),this.i=null,o=Zi(this,o),Kr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Xr(this,o),o.length>0?String(o[0]):m):m};function xs(o,m,p){Au(o,m),p.length>0&&(o.i=null,o.g.set(Zi(o,m),U(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var p=m[A];const L=Ai(p);p=Xr(this,p);for(let H=0;H<p.length;H++){let et=L;p[H]!==""&&(et+="="+Ai(p[H])),o.push(et)}}return this.i=o.join("&")};function Su(o){const m=new Xi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Zi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Ms(o,m){m&&!o.j&&(tn(o),o.i=null,o.g.forEach(function(p,A){const L=A.toLowerCase();A!=L&&(Au(this,A),xs(this,L,p))},o)),o.j=m}function zn(o,m){const p=new Mn;if(d.Image){const A=new Image;A.onload=b(vn,p,"TestLoadImage: loaded",!0,m,A),A.onerror=b(vn,p,"TestLoadImage: error",!1,m,A),A.onabort=b(vn,p,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(vn,p,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=o}else m(!1)}function Zr(o,m){const p=new Mn,A=new AbortController,L=setTimeout(()=>{A.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(p,"TestPingServer: error",!1,m)})}function vn(o,m,p,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(p)}catch{}}function Ji(){this.g=new cu}function si(o){this.i=o.Sb||null,this.h=o.ab||!1}N(si,hu),si.prototype.g=function(){return new Qa(this.i,this.h)};function Qa(o,m){ye.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(Qa,ye),r=Qa.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Un(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Os(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Os(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?$i(this):Un(this),this.readyState==3&&Os(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,$i(this))},r.Na=function(o){this.g&&(this.response=o,$i(this))},r.ga=function(){this.g&&$i(this)};function $i(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Un(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Un(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function En(o){let m="";return St(o,function(p,A){m+=A,m+=":",m+=p,m+=`\r
`}),m}function Fa(o,m,p){t:{for(A in p){var A=!1;break t}A=!0}A||(p=En(p),typeof o=="string"?p!=null&&Ai(p):Yt(o,m,p))}function Zt(o){ye.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Zt,ye);var ri=/^https?$/i,Jr=["POST","PUT"];r=Zt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qr.g(),this.g.onreadystatechange=z(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(H){Ya(this,H);return}if(o=p||"",p=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)p.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())p.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Jr,m,void 0)>=0)||A||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of p)this.g.setRequestHeader(H,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(H){Ya(this,H)}};function Ya(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,$r(o),Si(o)}function $r(o){o.A||(o.A=!0,Ve(o,"complete"),Ve(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ve(this,"complete"),Ve(this,"abort"),Si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ka(this):this.Xa())},r.Xa=function(){Ka(this)};function Ka(o){if(o.h&&typeof h<"u"){if(o.v&&Ln(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ve(o,"readystatechange"),Ln(o)==4){o.h=!1;try{const H=o.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var A;if(A=H===0){let et=String(o.D).match(vu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),A=!ri.test(et?et.toLowerCase():"")}p=A}if(p)Ve(o,"complete"),Ve(o,"success");else{o.o=6;try{var L=Ln(o)>2?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.ca()+"]",$r(o)}}finally{Si(o)}}}}function Si(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||Ve(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ln(o){return o.g?o.g.readyState:0}r.ca=function(){try{return Ln(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Dc(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(o){const m={};o=(o.g&&Ln(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<o.length;A++){if(T(o[A]))continue;var p=pu(o[A]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[L]||[];m[L]=H,H.push(p)}Ht(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Wi(o){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,o),this.Za=li("retryDelaySeedMs",1e4,o),this.Ta=li("forwardChannelMaxRetries",2,o),this.va=li("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Pr(o&&o.concurrentRequestLimit),this.Ba=new Ji,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Wi.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,A){_e(0),this.W=o,this.H=m||{},p&&A!==void 0&&(this.H.OSID=p,this.H.OAID=A),this.F=this.X,this.J=Vu(this,null,this.W),ui(this)};function Wr(o){if(js(o),o.I==3){var m=o.V++,p=Te(o.J);if(Yt(p,"SID",o.M),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),Xa(o,p),m=new On(o,o.j,m),m.M=2,m.A=Ha(Te(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Du(o)}function ta(o){o.g&&(el(o),o.g.cancel(),o.g=null)}function js(o){ta(o),o.v&&(d.clearTimeout(o.v),o.v=null),Us(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function ui(o){if(!kr(o.h)&&!o.m){o.m=!0;var m=o.Ea;zt||C(),_t||(zt(),_t=!0),w.add(m,o),o.D=0}}function zs(o,m){return ni(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Zn(y(o.Ea,o,m),Nu(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const L=new On(this,this.j,o);let H=this.o;if(this.U&&(H?(H=O(H),it(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var A=this.i[p];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=bu(this,L,m),p=Te(this.J),Yt(p,"RID",o),Yt(p,"CVER",22),this.G&&Yt(p,"X-HTTP-Session-Id",this.G),Xa(this,p),H&&(this.R?m="headers="+Ai(En(H))+"&"+m:this.u&&Fa(p,this.u,H)),Hr(this.h,L),this.Ra&&Yt(p,"TYPE","init"),this.S?(Yt(p,"$req",m),Yt(p,"SID","null"),L.U=!0,$n(L,p,null)):$n(L,p,m),this.I=2}}else this.I==3&&(o?tl(this,o):this.i.length==0||kr(this.h)||tl(this))};function tl(o,m){var p;m?p=m.l:p=o.V++;const A=Te(o.J);Yt(A,"SID",o.M),Yt(A,"RID",p),Yt(A,"AID",o.K),Xa(o,A),o.u&&o.o&&Fa(A,o.u,o.o),p=new On(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=bu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Hr(o.h,p),$n(p,A,m)}function Xa(o,m){o.H&&St(o.H,function(p,A){Yt(m,A,p)}),o.l&&St({},function(p,A){Yt(m,A,p)})}function bu(o,m,p){p=Math.min(o.i.length,p);const A=o.l?y(o.l.Ka,o.l,o):null;t:{var L=o.i;let Rt=-1;for(;;){const fe=["count="+p];Rt==-1?p>0?(Rt=L[0].g,fe.push("ofs="+Rt)):Rt=0:fe.push("ofs="+Rt);let Gt=!0;for(let re=0;re<p;re++){var H=L[re].g;const Tn=L[re].map;if(H-=Rt,H<0)Rt=Math.max(0,L[re].g-100),Gt=!1;else try{H="req"+H+"_"||"";try{var et=Tn instanceof Map?Tn:Object.entries(Tn);for(const[ci,Bn]of et){let qn=Bn;_(Bn)&&(qn=Fi(Bn)),fe.push(H+ci+"="+encodeURIComponent(qn))}}catch(ci){throw fe.push(H+"type="+encodeURIComponent("_badmap")),ci}}catch{A&&A(Tn)}}if(Gt){et=fe.join("&");break t}}et=void 0}return o=o.i.splice(0,p),m.G=o,et}function Ru(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;zt||C(),_t||(zt(),_t=!0),w.add(m,o),o.A=0}}function Za(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Zn(y(o.Da,o),Nu(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Zn(y(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ta(this),Cu(this))};function el(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Cu(o){o.g=new On(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=Te(o.na);Yt(m,"RID","rpc"),Yt(m,"SID",o.M),Yt(m,"AID",o.K),Yt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Yt(m,"TO",o.ia),Yt(m,"TYPE","xmlhttp"),Xa(o,m),o.u&&o.o&&Fa(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ha(Te(m)),p.u=null,p.R=!0,Ns(p,o)}r.Va=function(){this.C!=null&&(this.C=null,ta(this),Za(this),_e(19))};function Us(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function wu(o,m){var p=null;if(o.g==m){Us(o),el(o),o.g=null;var A=2}else if(ii(o.h,m))p=m.G,Gr(o.h,m),A=1;else return;if(o.I!=0){if(m.o)if(A==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=o.D;A=ws(),Ve(A,new Xn(A,p)),ui(o)}else Ru(o);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&zs(o,m)||A==2&&Za(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),L){case 1:oi(o,5);break;case 4:oi(o,10);break;case 3:oi(o,6);break;default:oi(o,2)}}}function Nu(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function oi(o,m){if(o.j.info("Error code "+m),m==2){var p=y(o.bb,o),A=o.Ua;const L=!A;A=new on(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(A,"https"),Ha(A),L?zn(A.toString(),p):Zr(A.toString(),p)}else _e(2);o.I=0,o.l&&o.l.pa(m),Du(o),js(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Du(o){if(o.I=0,o.ja=[],o.l){const m=Qr(o.h);(m.length!=0||o.i.length!=0)&&($(o.ja,m),$(o.ja,o.i),o.h.i.length=0,U(o.i),o.i.length=0),o.l.oa()}}function Vu(o,m,p){var A=p instanceof on?Te(p):new on(p);if(A.g!="")m&&(A.g=m+"."+A.g),Yi(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new on(null);A&&Oe(H,A),m&&(H.g=m),L&&Yi(H,L),p&&(H.h=p),A=H}return p=o.G,m=o.wa,p&&m&&Yt(A,p,m),Yt(A,"VER",o.ka),Xa(o,A),A}function Iu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Zt(new si({ab:p})):new Zt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ea(){}ea.prototype.g=function(o,m){return new Je(o,m)};function Je(o,m){ye.call(this),this.g=new Wi(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!T(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!T(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Ri(this)}N(Je,ye),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Wr(this.g)},Je.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Fi(o),o=p);m.i.push(new Ee(m.Ya++,o)),m.I==3&&ui(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Wr(this.g),delete this.g,Je.Z.N.call(this)};function Mu(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}N(Mu,Ue);function Ou(){yn.call(this),this.status=1}N(Ou,yn);function Ri(o){this.g=o}N(Ri,xu),Ri.prototype.ra=function(){Ve(this.g,"a")},Ri.prototype.qa=function(o){Ve(this.g,new Mu(o))},Ri.prototype.pa=function(o){Ve(this.g,new Ou)},Ri.prototype.oa=function(){Ve(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,av=function(){return new ea},iv=function(){return ws()},nv=he,Kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Go=Pa,Br.COMPLETE="complete",ev=Br,fu.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,ql=fu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,tv=Zt}).apply(typeof Bo<"u"?Bo:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore",qy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Y_("@firebase/firestore");function mr(){return ys.logLevel}function rt(r,...e){if(ys.logLevel<=qt.DEBUG){const i=e.map(yd);ys.debug(`Firestore (${Dr}): ${r}`,...i)}}function Hi(r,...e){if(ys.logLevel<=qt.ERROR){const i=e.map(yd);ys.error(`Firestore (${Dr}): ${r}`,...i)}}function Ar(r,...e){if(ys.logLevel<=qt.WARN){const i=e.map(yd);ys.warn(`Firestore (${Dr}): ${r}`,...i)}}function yd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,sv(r,s,i)}function sv(r,e,i){let s=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Hi(s),new Error(s)}function Ft(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||sv(e,u,s)}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Nr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Na,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},_=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Na)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new rv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class rA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new rA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,k1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=oA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function Xf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),h=e.charAt(s);if(u!==h)return Uf(u)===Uf(h)?Ot(u,h):Uf(u)?1:-1}return Ot(r.length,e.length)}const cA=55296,hA=57343;function Uf(r){const e=r.charCodeAt(0);return e>=cA&&e<=hA}function Sr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class gi{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=gi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const s=gi.isNumericId(e),u=gi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class ee extends gi{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const fA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends gi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return fA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new Ge([ky])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const _=e[u];if(_==="\\"){if(u+1===e.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else _==="`"?(d=!d,u++):_!=="."||d?(s+=_,u++):(h(),u++)}if(h(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(ee.fromString(e))}static fromName(e){return new mt(ee.fromString(e).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(r,e,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dA(r,e,i,s){if(e===!0&&s===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Hy(r){if(!mt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gy(r){if(mt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dc(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e){const i={typeString:r};return e&&(i.value=e),i}function iu(r,e){if(!uv(r))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-62135596800,Fy=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Fy);return new ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Qy)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new ae(0,0))}static max(){return new vt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function mA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=vt.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new Va(u,mt.empty(),e)}function gA(r){return new Va(r.readTime,r.key,Jl)}class Va{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Va(vt.min(),mt.empty(),Jl)}static max(){return new Va(vt.max(),mt.empty(),Jl)}}function pA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==yA)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let u=0,h=0,d=!1;e.forEach((_=>{++u,_.next((()=>{++h,d&&h===u&&i()}),(v=>s(v)))})),d=!0,h===u&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((u=>u?Z.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,u)=>{const h=e.length,d=new Array(h);let _=0;for(let v=0;v<h;v++){const y=v;i(e[y]).next((b=>{d[y]=b,++_,_===h&&s(d)}),(b=>u(b)))}}))}static doWhile(e,i){return new Z(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function vA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ir(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function gc(r){return r==null}function ec(r){return r===0&&1/r==-1/0}function EA(r){return typeof r=="number"&&Number.isInteger(r)&&!ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="";function TA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Yy(e)),e=AA(r.get(i),e);return Yy(e)}function AA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case ov:i+="";break;default:i+=h}}return i}function Yy(r){return r+ov+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Es(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function cv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qo(this.root,e,this.comparator,!0)}}class qo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=u??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new He(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(e){return new Xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class Xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new xe(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new hv("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const SA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=SA.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xa(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="server_timestamp",dv="__type__",mv="__previous_value__",gv="__local_write_time__";function Ed(r){return(r?.mapValue?.fields||{})[dv]?.stringValue===fv}function pc(r){const e=r.mapValue.fields[mv];return Ed(e)?pc(e):e}function $l(r){const e=Ia(r.mapValue.fields[gv].timestampValue);return new ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i,s,u,h,d,_,v,y,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b}}const nc="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__type__",RA="__max__",Po={mapValue:{}},yv="__vector__",ic="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ed(r)?4:wA(r)?9007199254740991:CA(r)?10:11:pt(28295,{value:r})}function Ti(r,e){if(r===e)return!0;const i=Ma(r);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ia(u.timestampValue),_=Ia(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,h){return xa(u.bytesValue).isEqual(xa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,h){return ge(u.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(u.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(r,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return ge(u.integerValue)===ge(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ge(u.doubleValue),_=ge(h.doubleValue);return d===_?ec(d)===ec(_):isNaN(d)&&isNaN(_)}return!1})(r,e);case 9:return Sr(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},_=h.mapValue.fields||{};if(Ky(d)!==Ky(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(_[v]===void 0||!Ti(d[v],_[v])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((i=>Ti(i,e)))!==void 0}function br(r,e){if(r===e)return 0;const i=Ma(r),s=Ma(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(r,e);case 3:return Zy(r.timestampValue,e.timestampValue);case 4:return Zy($l(r),$l(e));case 5:return Xf(r.stringValue,e.stringValue);case 6:return(function(h,d){const _=xa(h),v=xa(d);return _.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),v=d.split("/");for(let y=0;y<_.length&&y<v.length;y++){const b=Ot(_[y],v[y]);if(b!==0)return b}return Ot(_.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=Ot(ge(h.latitude),ge(d.latitude));return _!==0?_:Ot(ge(h.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Jy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const _=h.fields||{},v=d.fields||{},y=_[ic]?.arrayValue,b=v[ic]?.arrayValue,N=Ot(y?.values?.length||0,b?.values?.length||0);return N!==0?N:Jy(y,b)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Po.mapValue&&d===Po.mapValue)return 0;if(h===Po.mapValue)return 1;if(d===Po.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let N=0;N<v.length&&N<b.length;++N){const z=Xf(v[N],b[N]);if(z!==0)return z;const U=br(_[v[N]],y[b[N]]);if(U!==0)return U}return Ot(v.length,b.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function Zy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=Ia(r),s=Ia(e),u=Ot(i.seconds,s.seconds);return u!==0?u:Ot(i.nanos,s.nanos)}function Jy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=br(i[u],s[u]);if(h)return h}return Ot(i.length,s.length)}function Rr(r){return Zf(r)}function Zf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ia(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return xa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Zf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Zf(i.fields[d])}`;return u+"}"})(r.mapValue):pt(61005,{value:r})}function Qo(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Qo(e):16;case 5:return 2*r.stringValue.length;case 6:return xa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Qo(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return Es(s.fields,((h,d)=>{u+=h.length+Qo(d)})),u})(r.mapValue);default:throw pt(13486,{value:r})}}function $y(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jf(r){return!!r&&"integerValue"in r}function Td(r){return!!r&&"arrayValue"in r}function Wy(r){return!!r&&"nullValue"in r}function t_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fo(r){return!!r&&"mapValue"in r}function CA(r){return(r?.mapValue?.fields||{})[pv]?.stringValue===yv}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ql(r.arrayValue.values[i]);return e}return{...r}}function wA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Fo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(i)}setAll(e){let i=Ge.emptyPath(),s={},u=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=_.popLast()}d?s[_.lastSegment()]=Ql(d):u.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Fo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Fo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Es(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new Vn(Ql(this.value))}}function _v(r){const e=[];return Es(r.fields,((i,s)=>{const u=new Ge([i]);if(Fo(s)){const h=_v(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,u,h,d,_){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Xe(e,0,vt.min(),vt.min(),vt.min(),Vn.empty(),0)}static newFoundDocument(e,i,s,u){return new Xe(e,1,i,vt.min(),s,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,vt.min(),vt.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,vt.min(),vt.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.position=e,this.inclusive=i}}function e_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=br(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function n_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function NA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class we extends vv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new VA(e,i,s):i==="array-contains"?new MA(e,s):i==="in"?new OA(e,s):i==="not-in"?new jA(e,s):i==="array-contains-any"?new zA(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new IA(e,s):new xA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(br(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(br(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends vv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return Ev(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ev(r){return r.op==="and"}function Tv(r){return DA(r)&&Ev(r)}function DA(r){for(const e of r.filters)if(e instanceof Fn)return!1;return!0}function $f(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Rr(r.value);if(Tv(r))return r.filters.map((e=>$f(e))).join(",");{const e=r.filters.map((i=>$f(i))).join(",");return`${r.op}(${e})`}}function Av(r,e){return r instanceof we?(function(s,u){return u instanceof we&&s.op===u.op&&s.field.isEqual(u.field)&&Ti(s.value,u.value)})(r,e):r instanceof Fn?(function(s,u){return u instanceof Fn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,_)=>h&&Av(d,u.filters[_])),!0):!1})(r,e):void pt(19439)}function Sv(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rr(i.value)}`})(r):r instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Sv).join(" ,")+"}"})(r):"Filter"}class VA extends we{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class IA extends we{constructor(e,i){super(e,"in",i),this.keys=bv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class xA extends we{constructor(e,i){super(e,"not-in",i),this.keys=bv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function bv(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class MA extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Td(i)&&tu(i.arrayValue,this.value)}}class OA extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class jA extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class zA extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Td(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i=null,s=[],u=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function i_(r,e=null,i=[],s=[],u=null,h=null,d=null){return new UA(r,e,i,s,u,h,d)}function Ad(r){const e=At(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>$f(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Rr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Rr(s))).join(",")),e.Te=i}return e.Te}function Sd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!NA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Av(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!n_(r.startAt,e.startAt)&&n_(r.endAt,e.endAt)}function Wf(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,i=null,s=[],u=[],h=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LA(r,e,i,s,u,h,d,_){return new au(r,e,i,s,u,h,d,_)}function yc(r){return new au(r)}function a_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Rv(r){return r.collectionGroup!==null}function Fl(r){const e=At(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new xe(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(_=_.add(y.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new sc(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new sc(Ge.keyField(),s))}return e.Ie}function yi(r){const e=At(r);return e.Ee||(e.Ee=BA(e,Fl(r))),e.Ee}function BA(r,e){if(r.limitType==="F")return i_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new sc(u.field,h)}));const i=r.endAt?new ac(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ac(r.startAt.position,r.startAt.inclusive):null;return i_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function td(r,e){const i=r.filters.concat([e]);return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function ed(r,e,i){return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function _c(r,e){return Sd(yi(r),yi(e))&&r.limitType===e.limitType}function Cv(r){return`${Ad(yi(r))}|lt:${r.limitType}`}function gr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>Sv(u))).join(", ")}]`),gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Rr(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Rr(u))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function vc(r,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,u){for(const h of Fl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,_,v){const y=e_(d,_,v);return d.inclusive?y<=0:y<0})(s.startAt,Fl(s),u)||s.endAt&&!(function(d,_,v){const y=e_(d,_,v);return d.inclusive?y>=0:y>0})(s.endAt,Fl(s),u))})(r,e)}function qA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wv(r){return(e,i)=>{let s=!1;for(const u of Fl(r)){const h=PA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function PA(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,_){const v=d.data.field(h),y=_.data.field(h);return v!==null&&y!==null?br(v,y):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new ue(mt.comparator);function Gi(){return kA}const Nv=new ue(mt.comparator);function Pl(...r){let e=Nv;for(const i of r)e=e.insert(i.key,i);return e}function Dv(r){let e=Nv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ms(){return Yl()}function Vv(){return Yl()}function Yl(){return new Ts((r=>r.toString()),((r,e)=>r.isEqual(e)))}const HA=new ue(mt.comparator),GA=new xe(mt.comparator);function jt(...r){let e=GA;for(const i of r)e=e.add(i);return e}const QA=new xe(Ot);function FA(){return QA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Iv(r){return{integerValue:""+r}}function YA(r,e){return EA(e)?Iv(e):bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function KA(r,e,i){return r instanceof rc?(function(u,h){const d={fields:{[dv]:{stringValue:fv},[gv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Ed(h)&&(h=pc(h)),h&&(d.fields[mv]=h),{mapValue:d}})(i,e):r instanceof eu?Mv(r,e):r instanceof nu?Ov(r,e):(function(u,h){const d=xv(u,h),_=s_(d)+s_(u.Ae);return Jf(d)&&Jf(u.Ae)?Iv(_):bd(u.serializer,_)})(r,e)}function XA(r,e,i){return r instanceof eu?Mv(r,e):r instanceof nu?Ov(r,e):i}function xv(r,e){return r instanceof lc?(function(s){return Jf(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class rc extends Ec{}class eu extends Ec{constructor(e){super(),this.elements=e}}function Mv(r,e){const i=jv(e);for(const s of r.elements)i.some((u=>Ti(u,s)))||i.push(s);return{arrayValue:{values:i}}}class nu extends Ec{constructor(e){super(),this.elements=e}}function Ov(r,e){let i=jv(e);for(const s of r.elements)i=i.filter((u=>!Ti(u,s)));return{arrayValue:{values:i}}}class lc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function s_(r){return ge(r.integerValue||r.doubleValue)}function jv(r){return Td(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ZA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof eu&&u instanceof eu||s instanceof nu&&u instanceof nu?Sr(s.elements,u.elements,Ti):s instanceof lc&&u instanceof lc?Ti(s.Ae,u.Ae):s instanceof rc&&u instanceof rc})(r.transform,e.transform)}class JA{constructor(e,i){this.version=e,this.transformResults=i}}class Qn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tc{}function zv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rd(r.key,Qn.none()):new su(r.key,r.data,Qn.none());{const i=r.data,s=Vn.empty();let u=new xe(Ge.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new As(r.key,s,new Gn(u.toArray()),Qn.none())}}function $A(r,e,i){r instanceof su?(function(u,h,d){const _=u.value.clone(),v=l_(u.fieldTransforms,h,d.transformResults);_.setAll(v),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):r instanceof As?(function(u,h,d){if(!Yo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const _=l_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Uv(u)),v.setAll(_),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(r,e,i,s){return r instanceof su?(function(h,d,_,v){if(!Yo(h.precondition,d))return _;const y=h.value.clone(),b=u_(h.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof As?(function(h,d,_,v){if(!Yo(h.precondition,d))return _;const y=u_(h.fieldTransforms,v,d),b=d.data;return b.setAll(Uv(h)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(r,e,i,s):(function(h,d,_){return Yo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(r,e,i)}function WA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=xv(s.transform,u||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,h))}return i||null}function r_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Sr(s,u,((h,d)=>ZA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Tc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class As extends Tc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Uv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function l_(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,_=e.data.field(h.field);s.set(h.field,XA(d,_,i[u]))}return s}function u_(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,KA(h,d,e))}return s}class Rd extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tS extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&$A(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Vv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(u.key)?null:_;const v=zv(d,_);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),jt())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,((i,s)=>r_(i,s)))&&Sr(this.baseMutations,e.baseMutations,((i,s)=>r_(i,s)))}}class Cd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return HA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Cd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Bt;function aS(r){switch(r){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function Lv(r){if(r===void 0)return Hi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ce.OK:return X.OK;case Ce.CANCELLED:return X.CANCELLED;case Ce.UNKNOWN:return X.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return X.INTERNAL;case Ce.UNAVAILABLE:return X.UNAVAILABLE;case Ce.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ce.NOT_FOUND:return X.NOT_FOUND;case Ce.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ce.ABORTED:return X.ABORTED;case Ce.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ce.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:r})}}(Bt=Ce||(Ce={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new wa([4294967295,4294967295],0);function o_(r){const e=sS().encode(r),i=new W_;return i.update(e),new Uint8Array(i.digest())}function c_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new wa([i,s],0),new wa([u,h],0)]}class wd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=wa.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(wa.fromNumber(s)));return u.compare(rS)===1&&(u=new wa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=o_(e),[s,u]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new wd(h,u,i);return s.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=o_(e),[s,u]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ac(vt.min(),u,new ue(Ot),Gi(),jt())}}class ru{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ru(s,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Bv{constructor(e,i){this.targetId=e,this.Ce=i}}class qv{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jt(),i=jt(),s=jt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:pt(38017,{changeType:h})}})),new ru(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=ko(),this.He=ko(),this.Ye=new ue(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Wf(h))if(s===0){const d=new mt(h.path);this.et(i,d,Xe.newNoDocument(d,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const _=this.ut(e),v=_?this.ct(_,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,_;try{d=xa(s).toUint8Array()}catch(v){if(v instanceof hv)return Ar("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new wd(d,u,h)}catch(v){return Ar(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&Wf(_.target)){const v=new mt(_.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=jt();this.He.forEach(((h,d)=>{let _=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Ac(e,i,this.Ye,this.je,s);return this.je=Gi(),this.Je=ko(),this.He=ko(),this.Ye=new ue(Ot),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new h_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new xe(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new xe(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ko(){return new ue(mt.comparator)}function f_(){return new ue(mt.comparator)}const uS={asc:"ASCENDING",desc:"DESCENDING"},oS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cS={and:"AND",or:"OR"};class hS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(r,e){return r.useProto3Json||gc(e)?e:{value:e}}function uc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fS(r,e){return uc(r,e.toTimestamp())}function _i(r){return Ft(!!r,49232),vt.fromTimestamp((function(i){const s=Ia(i);return new ae(s.seconds,s.nanos)})(r))}function Nd(r,e){return id(r,e).canonicalString()}function id(r,e){const i=(function(u){return new ee(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function kv(r){const e=ee.fromString(r);return Ft(Yv(e),10190,{key:e.toString()}),e}function ad(r,e){return Nd(r.databaseId,e.path)}function Lf(r,e){const i=kv(e);if(i.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Gv(i))}function Hv(r,e){return Nd(r.databaseId,e)}function dS(r){const e=kv(r);return e.length===4?ee.emptyPath():Gv(e)}function sd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gv(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function d_(r,e,i){return{name:ad(r,e),fields:i.value.mapValue.fields}}function mS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(y,b){return y.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Qe.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qe.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(y){const b=y.code===void 0?X.UNKNOWN:Lv(y.code);return new st(b,y.message||"")})(d);i=new qv(s,u,h,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Lf(r,s.document.name),h=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):vt.min(),_=new Vn({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(u,h,d,_),y=s.targetIds||[],b=s.removedTargetIds||[];i=new Ko(y,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Lf(r,s.document),h=s.readTime?_i(s.readTime):vt.min(),d=Xe.newNoDocument(u,h),_=s.removedTargetIds||[];i=new Ko([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Lf(r,s.document),h=s.removedTargetIds||[];i=new Ko([],h,u,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new iS(u,h),_=s.targetId;i=new Bv(_,d)}}return i}function gS(r,e){let i;if(e instanceof su)i={update:d_(r,e.key,e.value)};else if(e instanceof Rd)i={delete:ad(r,e.key)};else if(e instanceof As)i={update:d_(r,e.key,e.data),updateMask:bS(e.fieldMask)};else{if(!(e instanceof tS))return pt(16599,{Vt:e.type});i={verify:ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const _=d.transform;if(_ instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof lc)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:fS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)})(r,e.precondition)),i}function pS(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(u,h){let d=u.updateTime?_i(u.updateTime):_i(h);return d.isEqual(vt.min())&&(d=_i(h)),new JA(d,u.transformResults||[])})(i,e)))):[]}function yS(r,e){return{documents:[Hv(r,e.path)]}}function _S(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Hv(r,u);const h=(function(y){if(y.length!==0)return Fv(Fn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((b=>(function(z){return{field:pr(z.field),direction:TS(z.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=nd(r,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:u}}function vS(r){let e=dS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ft(s===1,65062);const b=i.from[0];b.allDescendants?u=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(N){const z=Qv(N);return z instanceof Fn&&Tv(z)?z.getFilters():[z]})(i.where));let d=[];i.orderBy&&(d=(function(N){return N.map((z=>(function($){return new sc(yr($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(z)))})(i.orderBy));let _=null;i.limit&&(_=(function(N){let z;return z=typeof N=="object"?N.value:N,gc(z)?null:z})(i.limit));let v=null;i.startAt&&(v=(function(N){const z=!!N.before,U=N.values||[];return new ac(U,z)})(i.startAt));let y=null;return i.endAt&&(y=(function(N){const z=!N.before,U=N.values||[];return new ac(U,z)})(i.endAt)),LA(e,u,d,h,_,"F",v,y)}function ES(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Qv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=yr(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=yr(i.unaryFilter.field);return we.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=yr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(yr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((s=>Qv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function TS(r){return uS[r]}function AS(r){return oS[r]}function SS(r){return cS[r]}function pr(r){return{fieldPath:r.canonicalString()}}function yr(r){return Ge.fromServerFormat(r.fieldPath)}function Fv(r){return r instanceof we?(function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NAN"}};if(Wy(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NOT_NAN"}};if(Wy(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pr(i.field),op:AS(i.op),value:i.value}}})(r):r instanceof Fn?(function(i){const s=i.getFilters().map((u=>Fv(u)));return s.length===1?s[0]:{compositeFilter:{op:SS(i.op),filters:s}}})(r):pt(54877,{filter:r})}function bS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Yv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i,s,u,h=vt.min(),d=vt.min(),_=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.yt=e}}function CS(r){const e=vS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Cn=new NS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Va.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class NS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new xe(ee.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Kv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cr(0)}static cr(){return new Cr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="LruGarbageCollector",DS=1048576;function p_([r,e],[i,s]){const u=Ot(r,i);return u===0?Ot(e,s):u}class VS{constructor(e){this.Ir=e,this.buffer=new xe(p_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();p_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ir(i)?rt(g_,"Ignoring IndexedDB error during garbage collection: ",i):await Vr(i)}await this.Vr(3e5)}))}}class xS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(mc.ce);const s=new VS(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(m_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,_,v,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),u=this.params.maximumSequenceNumbersToCollect):u=N,d=Date.now(),this.nthSequenceNumber(e,u)))).next((N=>(s=N,_=Date.now(),this.removeTargets(e,s,i)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((N=>(y=Date.now(),mr()<=qt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${u} in `+(_-d)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${N} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:N}))))}}function MS(r,e){return new xS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.changes=new Ts((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Kl(s.mutation,u,Gn.empty(),ae.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,jt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=jt()){const u=ms();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=Pl();return h.forEach(((_,v)=>{d=d.insert(_,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ms();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,jt())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,s,u){let h=Gi();const d=Yl(),_=(function(){return Yl()})();return i.forEach(((v,y)=>{const b=s.get(y.key);u.has(y.key)&&(b===void 0||b.mutation instanceof As)?h=h.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Kl(b.mutation,y,b.mutation.getFieldMask(),ae.now())):d.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>_.set(y,new jS(b,d.get(y)??null)))),_)))}recalculateAndSaveOverlays(e,i){const s=Yl();let u=new ue(((d,_)=>d-_)),h=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=s.get(v)||Gn.empty();b=_.applyToLocalView(y,b),s.set(v,b);const N=(u.get(_.batchId)||jt()).add(v);u=u.insert(_.batchId,N)}))})).next((()=>{const d=[],_=u.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),y=v.key,b=v.value,N=Vv();b.forEach((z=>{if(!h.has(z)){const U=zv(i.get(z),s.get(z));U!==null&&N.set(z,U),h=h.add(z)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,N))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Rv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Z.resolve(ms());let _=Jl,v=h;return d.next((y=>Z.forEach(y,((b,N)=>(_<N.largestBatchId&&(_=N.largestBatchId),h.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((z=>{v=v.insert(b,z)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,jt()))).next((b=>({batchId:_,changes:Dv(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let u=Pl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next((_=>Z.forEach(_,(v=>{const y=(function(N,z){return new au(z,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,u).next((b=>{b.forEach(((N,z)=>{d=d.insert(N,z)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Xe.newInvalidDocument(b)))}));let _=Pl();return d.forEach(((v,y)=>{const b=h.get(v);b!==void 0&&Kl(b.mutation,y,Gn.empty(),ae.now()),vc(i,y)&&(_=_.insert(v,y))})),_}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:_i(u.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:CS(u.bundledQuery),readTime:_i(u.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.overlays=new ue(mt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ms();return Z.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const u=ms(),h=i.length+1,d=new mt(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return Z.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ue(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=h.get(y.largestBatchId);b===null&&(b=ms(),h=h.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const _=ms(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>_.set(y,b))),!(_.size()>=u)););return Z.resolve(_)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nS(i,s));let h=this.qr.get(i);h===void 0&&(h=jt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.Qr=new xe(ze.$r),this.Ur=new xe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new ee([])),s=new ze(i,e),u=new ze(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new ee([])),s=new ze(i,e),u=new ze(i,e+1);let h=jt();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ze.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eS(h,i,s,u);this.mutationQueue.push(d);for(const _ of u)this.Zr=this.Zr.add(new ze(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?vd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const _=this.Xr(d.Yr);h.push(_)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new xe(Ot);return i.forEach((u=>{const h=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(_=>{s=s.add(_.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new ze(new mt(h),0);let _=new xe(Ot);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===u&&(_=_.add(v.Yr)),!0)}),d),Z.resolve(this.ti(_))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(u=>{const h=new ze(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),u=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.ri=e,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Gi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Xe.newInvalidDocument(u))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Gi();const d=i.path,_=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||pA(gA(b),s)<=0||(u.has(b.key)||vc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,u){pt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new kS(this)}getSize(e){return Z.resolve(this.size)}}class kS extends OS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.persistence=e,this.si=new Ts((i=>Ad(i)),Sd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dd,this.targetCount=0,this.ai=Cr.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Cr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,_)=>{_.sequenceNumber<=i&&s.get(_.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),u++)})),Z.waitFor(h).next((()=>u))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new BS,this.referenceDelegate=e(this),this.Pi=new HS(this),this.indexManager=new wS,this.remoteDocumentCache=(function(u){return new PS(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RS(i),this.Ii=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new LS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new qS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const u=new GS(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class GS extends _A{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Ri=new Dd,this.Vi=null}static mi(e){return new Vd(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const u=mt.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,vt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new Ts((s=>TA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=MS(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?Z.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((_=>{_||(s++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qo(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=jt(),u=jt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Id(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BT()?8:vA(UT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new QS;return this.Ss(e,i,d).next((_=>{if(h.result=_,this.Vs)return this.bs(e,i,d,_.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(mr()<=qt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",gr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(mr()<=qt.DEBUG&&rt("QueryEngine","Query:",gr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(mr()<=qt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",gr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):Z.resolve())}ys(e,i){if(a_(i))return Z.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=ed(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=jt(...h);return this.ps.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,s).next((v=>{const y=this.Ds(i,_);return this.Cs(i,y,d,v.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,y,i,v)}))))})))))}ws(e,i,s,u){return a_(i)||u.isEqual(vt.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?Z.resolve(null):(mr()<=qt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),gr(i)),this.vs(e,d,i,mA(u,Jl)).next((_=>_)))}))}Ds(e,i){let s=new xe(wv(e));return i.forEach(((u,h)=>{vc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return mr()<=qt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",gr(i)),this.ps.getDocumentsMatchingQuery(e,i,Va.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",YS=3e8;class KS{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ue(Ot),this.xs=new Ts((h=>Ad(h)),Sd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function XS(r,e,i,s){return new KS(r,e,i,s)}async function Zv(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],_=[];let v=jt();for(const y of u){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of h){_.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:_})))}))}))}function ZS(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(_,v,y,b){const N=y.batch,z=N.keys();let U=Z.resolve();return z.forEach(($=>{U=U.next((()=>b.getEntry(v,$))).next((tt=>{const J=y.docVersions.get($);Ft(J!==null,48541),tt.version.compareTo(J)<0&&(N.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),U.next((()=>_.mutationQueue.removeMutationBatch(v,N)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let v=jt();for(let y=0;y<_.mutationResults.length;++y)_.mutationResults[y].transformResults.length>0&&(v=v.add(_.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function Jv(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function JS(r,e){const i=At(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const _=[];e.targetChanges.forEach(((b,N)=>{const z=u.get(N);if(!z)return;_.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,N).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,N))));let U=z.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?U=U.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(b.resumeToken,s)),u=u.insert(N,U),(function(tt,J,nt){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=YS?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(z,U,b)&&_.push(i.Pi.updateTargetData(h,U))}));let v=Gi(),y=jt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),_.push($S(h,d,e.documentUpdates).next((b=>{v=b.ks,y=b.qs}))),!s.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((N=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));_.push(b)}return Z.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function $S(r,e,i){let s=jt(),u=jt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Gi();return i.forEach(((_,v)=>{const y=h.get(_);v.isFoundDocument()!==y.isFoundDocument()&&(u=u.add(_)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):rt(xd,"Ignoring outdated watch update for ",_,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function WS(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tb(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,Z.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new ba(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function rd(r,e,i){const s=At(r),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Ir(d))throw d;rt(xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function y_(r,e,i){const s=At(r);let u=vt.min(),h=jt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const N=At(v),z=N.xs.get(b);return z!==void 0?Z.resolve(N.Ms.get(z)):N.Pi.getTargetData(y,b)})(s,d,yi(e)).next((_=>{if(_)return u=_.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,_.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:vt.min(),i?h:jt()))).next((_=>(eb(s,qA(e),_),{documents:_,Qs:h})))))}function eb(r,e,i){let s=r.Os.get(e)||vt.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class __{constructor(){this.activeTargetIds=FA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nb{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class E_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho=null;function ld(){return Ho===null?Ho=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ho++,"0x"+Ho.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===nc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=ld(),_=this.zo(e,i.toUriEncodedString());rt(Bf,`Sending RPC '${e}' ${d}:`,_,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:y}=new URL(_),b=gd(y);return this.Jo(e,_,v,s,b).then((N=>(rt(Bf,`Received RPC '${e}' ${d}: `,N),N)),(N=>{throw Ar(Bf,`RPC '${e}' ${d} failed with error: `,N,"url: ",_,"request:",s),N}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=ab[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class lb extends sb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=ld();return new Promise(((_,v)=>{const y=new tv;y.setWithCredentials(!0),y.listenOnce(ev.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Go.NO_ERROR:const N=y.getResponseJson();rt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),_(N);break;case Go.TIMEOUT:rt(Ye,`RPC '${e}' ${d} timed out`),v(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:const z=y.getStatus();if(rt(Ye,`RPC '${e}' ${d} failed with status:`,z,"response text:",y.getResponseText()),z>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const $=U?.error;if($&&$.status&&$.message){const tt=(function(nt){const ot=nt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ot)>=0?ot:X.UNKNOWN})($.status);v(new st(tt,$.message))}else v(new st(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new st(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Ye,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(u);rt(Ye,`RPC '${e}' ${d} sending request:`,u),y.send(i,"POST",b,s,15)}))}T_(e,i,s){const u=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=av(),_=iv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const b=h.join("");rt(Ye,`Creating RPC '${e}' stream ${u}: ${b}`,v);const N=d.createWebChannel(b,v);this.I_(N);let z=!1,U=!1;const $=new rb({Yo:J=>{U?rt(Ye,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(z||(rt(Ye,`Opening RPC '${e}' stream ${u} transport.`),N.open(),z=!0),rt(Ye,`RPC '${e}' stream ${u} sending:`,J),N.send(J))},Zo:()=>N.close()}),tt=(J,nt,ot)=>{J.listen(nt,(ht=>{try{ot(ht)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return tt(N,ql.EventType.OPEN,(()=>{U||(rt(Ye,`RPC '${e}' stream ${u} transport opened.`),$.o_())})),tt(N,ql.EventType.CLOSE,(()=>{U||(U=!0,rt(Ye,`RPC '${e}' stream ${u} transport closed`),$.a_(),this.E_(N))})),tt(N,ql.EventType.ERROR,(J=>{U||(U=!0,Ar(Ye,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),tt(N,ql.EventType.MESSAGE,(J=>{if(!U){const nt=J.data[0];Ft(!!nt,16349);const ot=nt,ht=ot?.error||ot[0]?.error;if(ht){rt(Ye,`RPC '${e}' stream ${u} received error:`,ht);const Et=ht.status;let zt=(function(C){const S=Ce[C];if(S!==void 0)return Lv(S)})(Et),_t=ht.message;zt===void 0&&(zt=X.INTERNAL,_t="Unknown error status: "+Et+" with message "+ht.message),U=!0,$.a_(new st(zt,_t)),N.close()}else rt(Ye,`RPC '${e}' stream ${u} received:`,nt),$.u_(nt)}})),tt(_,nv.STAT_EVENT,(J=>{J.stat===Kf.PROXY?rt(Ye,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Kf.NOPROXY&&rt(Ye,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r){return new hS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="PersistentStream";class Wv{constructor(e,i,s,u,h,d,_,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $v(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new st(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(T_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ub extends Wv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=mS(this.serializer,e),s=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?_i(d.readTime):vt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=sd(this.serializer),i.addTarget=(function(h,d){let _;const v=d.target;if(_=Wf(v)?{documents:yS(h,v)}:{query:_S(h,v).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=Pv(h,d.resumeToken);const y=nd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){_.readTime=uc(h,d.snapshotVersion.toTimestamp());const y=nd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}return _})(this.serializer,e);const s=ES(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.q_(i)}}class ob extends Wv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=pS(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>gS(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{}class hb extends cb{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(X.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.Ho(e,id(i,s),u,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class db{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ss(this)&&(rt(_s,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await bc(y)})(this))}))})),this.Ra=new fb(s,u)}}async function bc(r){if(Ss(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function t0(r,e){const i=At(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zd(i)?jd(i):xr(i).O_()&&Od(i,e))}function Md(r,e){const i=At(r),s=xr(i);i.Ia.delete(e),s.O_()&&e0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ss(i)&&i.Ra.set("Unknown"))}function Od(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xr(r).Y_(e)}function e0(r,e){r.Va.Ue(e),xr(r).Z_(e)}function jd(r){r.Va=new lS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xr(r).start(),r.Ra.ua()}function zd(r){return Ss(r)&&!xr(r).x_()&&r.Ia.size>0}function Ss(r){return At(r).Ea.size===0}function n0(r){r.Va=void 0}async function mb(r){r.Ra.set("Online")}async function gb(r){r.Ia.forEach(((e,i)=>{Od(r,e)}))}async function pb(r,e){n0(r),zd(r)?(r.Ra.ha(e),jd(r)):r.Ra.set("Unknown")}async function yb(r,e,i){if(r.Ra.set("Online"),e instanceof qv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const _ of h.targetIds)u.Ia.has(_)&&(await u.remoteSyncer.rejectListen(_,d),u.Ia.delete(_),u.Va.removeTarget(_))})(r,e)}catch(s){rt(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cc(r,s)}else if(e instanceof Ko?r.Va.Ze(e):e instanceof Bv?r.Va.st(e):r.Va.tt(e),!i.isEqual(vt.min()))try{const s=await Jv(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const _=h.Va.Tt(d);return _.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ia.get(y);b&&h.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),_.targetMismatches.forEach(((v,y)=>{const b=h.Ia.get(v);if(!b)return;h.Ia.set(v,b.withResumeToken(Qe.EMPTY_BYTE_STRING,b.snapshotVersion)),e0(h,v);const N=new ba(b.target,v,y,b.sequenceNumber);Od(h,N)})),h.remoteSyncer.applyRemoteEvent(_)})(r,i)}catch(s){rt(_s,"Failed to raise snapshot:",s),await cc(r,s)}}async function cc(r,e,i){if(!Ir(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),i||(i=()=>Jv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(_s,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bc(r)}))}function i0(r,e){return e().catch((i=>cc(r,i,e)))}async function Rc(r){const e=At(r),i=Oa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vd;for(;_b(e);)try{const u=await WS(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,vb(e,u)}catch(u){await cc(e,u)}a0(e)&&s0(e)}function _b(r){return Ss(r)&&r.Ta.length<10}function vb(r,e){r.Ta.push(e);const i=Oa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function a0(r){return Ss(r)&&!Oa(r).x_()&&r.Ta.length>0}function s0(r){Oa(r).start()}async function Eb(r){Oa(r).ra()}async function Tb(r){const e=Oa(r);for(const i of r.Ta)e.ea(i.mutations)}async function Ab(r,e,i){const s=r.Ta.shift(),u=Cd.from(s,e,i);await i0(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Rc(r)}async function Sb(r,e){e&&Oa(r).X_&&await(async function(s,u){if((function(d){return aS(d)&&d!==X.ABORTED})(u.code)){const h=s.Ta.shift();Oa(s).B_(),await i0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Rc(s)}})(r,e),a0(r)&&s0(r)}async function A_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(_s,"RemoteStore received new credentials");const s=Ss(i);i.Ea.add(3),await lu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await bc(i)}async function bb(r,e){const i=At(r);e?(i.Ea.delete(2),await bc(i)):e||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function xr(r){return r.ma||(r.ma=(function(i,s,u){const h=At(i);return h.sa(),new ub(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:mb.bind(null,r),t_:gb.bind(null,r),r_:pb.bind(null,r),H_:yb.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zd(r)?jd(r):r.Ra.set("Unknown")):(await r.ma.stop(),n0(r))}))),r.ma}function Oa(r){return r.fa||(r.fa=(function(i,s,u){const h=At(i);return h.sa(),new ob(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Eb.bind(null,r),r_:Sb.bind(null,r),ta:Tb.bind(null,r),na:Ab.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rc(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(_s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,_=new Ud(e,i,d,u,h);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(r,e){if(Hi("AsyncQueue",`${e}: ${r}`),Ir(r))return new st(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{static emptySet(e){return new vr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.ga=new ue(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class wr{constructor(e,i,s,u,h,d,_,v,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new wr(e,i,vr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Cb{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=At(i),h=u.queries;u.queries=b_(),h.forEach(((d,_)=>{for(const v of _.Sa)v.onError(s)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function b_(){return new Ts((r=>Cv(r)),_c)}async function r0(r,e){const i=At(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new Rb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const _=Ld(d,`Initialization of query '${gr(e.query)}' failed`);return void e.onError(_)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Bd(i)}async function l0(r,e){const i=At(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function wb(r,e){const i=At(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const _ of d.Sa)_.Fa(u)&&(s=!0);d.wa=u}}s&&Bd(i)}function Nb(r,e,i){const s=At(r),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function Bd(r){r.Ca.forEach((e=>{e.next()}))}var ud,R_;(R_=ud||(ud={})).Ma="default",R_.Cache="cache";class u0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new wr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=wr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class c0{constructor(e){this.key=e}}class Db{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=wv(e),this.tu=new vr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new S_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,_=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,y=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((b,N)=>{const z=u.get(b),U=vc(this.query,N)?N:null,$=!!z&&this.mutatedKeys.has(z.key),tt=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let J=!1;z&&U?z.data.isEqual(U.data)?$!==tt&&(s.track({type:3,doc:U}),J=!0):this.su(z,U)||(s.track({type:2,doc:U}),J=!0,(v&&this.eu(U,v)>0||y&&this.eu(U,y)<0)&&(_=!0)):!z&&U?(s.track({type:0,doc:U}),J=!0):z&&!U&&(s.track({type:1,doc:z}),J=!0,(v||y)&&(_=!0)),J&&(U?(d=d.add(U),h=tt?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,N)=>(function(U,$){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return tt(U)-tt($)})(b.type,N.type)||this.eu(b.doc,N.doc))),this.ou(s),u=u??!1;const _=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new wr(this.query,e.tu,h,d,e.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new c0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new o0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return wr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qd="SyncEngine";class Vb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Ib{constructor(e){this.key=e,this.hu=!1}}class xb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ts((_=>Cv(_)),_c),this.Iu=new Map,this.Eu=new Set,this.du=new ue(mt.comparator),this.Au=new Map,this.Ru=new Dd,this.Vu={},this.mu=new Map,this.fu=Cr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mb(r,e,i=!0){const s=p0(r);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await h0(s,e,i,!0),u}async function Ob(r,e){const i=p0(r);await h0(i,e,!0,!1)}async function h0(r,e,i,s){const u=await tb(r.localStore,yi(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let _;return s&&(_=await jb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&t0(r.remoteStore,u),_}async function jb(r,e,i,s,u){r.pu=(N,z,U)=>(async function(tt,J,nt,ot){let ht=J.view.ru(nt);ht.Cs&&(ht=await y_(tt.localStore,J.query,!1).then((({documents:w})=>J.view.ru(w,ht))));const Et=ot&&ot.targetChanges.get(J.targetId),zt=ot&&ot.targetMismatches.get(J.targetId)!=null,_t=J.view.applyChanges(ht,tt.isPrimaryClient,Et,zt);return w_(tt,J.targetId,_t.au),_t.snapshot})(r,N,z,U);const h=await y_(r.localStore,e,!0),d=new Db(e,h.Qs),_=d.ru(h.documents),v=ru.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),y=d.applyChanges(_,r.isPrimaryClient,v);w_(r,i,y.au);const b=new Vb(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function zb(r,e,i){const s=At(r),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!_c(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await rd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Md(s.remoteStore,u.targetId),od(s,u.targetId)})).catch(Vr)):(od(s,u.targetId),await rd(s.localStore,u.targetId,!0))}async function Ub(r,e){const i=At(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Md(i.remoteStore,s.targetId))}async function Lb(r,e,i){const s=Qb(r);try{const u=await(function(d,_){const v=At(d),y=ae.now(),b=_.reduce(((U,$)=>U.add($.key)),jt());let N,z;return v.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let $=Gi(),tt=jt();return v.Ns.getEntries(U,b).next((J=>{$=J,$.forEach(((nt,ot)=>{ot.isValidDocument()||(tt=tt.add(nt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(U,$))).next((J=>{N=J;const nt=[];for(const ot of _){const ht=WA(ot,N.get(ot.key).overlayedDocument);ht!=null&&nt.push(new As(ot.key,ht,_v(ht.value.mapValue),Qn.exists(!0)))}return v.mutationQueue.addMutationBatch(U,y,nt,_)})).next((J=>{z=J;const nt=J.applyToLocalDocumentSet(N,tt);return v.documentOverlayCache.saveOverlays(U,J.batchId,nt)}))})).then((()=>({batchId:z.batchId,changes:Dv(N)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,_,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Ot)),y=y.insert(_,v),d.Vu[d.currentUser.toKey()]=y})(s,u.batchId,i),await uu(s,u.changes),await Rc(s.remoteStore)}catch(u){const h=Ld(u,"Failed to persist write");i.reject(h)}}async function f0(r,e){const i=At(r);try{const s=await JS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(Ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Ft(d.hu,14607):u.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await uu(i,s,e)}catch(s){await Vr(s)}}function C_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&u.push(_.snapshot)})),(function(d,_){const v=At(d);v.onlineState=_;let y=!1;v.queries.forEach(((b,N)=>{for(const z of N.Sa)z.va(_)&&(y=!0)})),y&&Bd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Bb(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new ue(mt.comparator);d=d.insert(h,Xe.newNoDocument(h,vt.min()));const _=jt().add(h),v=new Ac(vt.min(),new Map,new ue(Ot),d,_);await f0(s,v),s.du=s.du.remove(h),s.Au.delete(e),Pd(s)}else await rd(s.localStore,e,!1).then((()=>od(s,e,i))).catch(Vr)}async function qb(r,e){const i=At(r),s=e.batch.batchId;try{const u=await ZS(i.localStore,e);m0(i,s,null),d0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await uu(i,u)}catch(u){await Vr(u)}}async function Pb(r,e,i){const s=At(r);try{const u=await(function(d,_){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,_).next((N=>(Ft(N!==null,37113),b=N.keys(),v.mutationQueue.removeMutationBatch(y,N)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);m0(s,e,i),d0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await uu(s,u)}catch(u){await Vr(u)}}function d0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function m0(r,e,i){const s=At(r);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||g0(r,s)}))}function g0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Md(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Pd(r))}function w_(r,e,i){for(const s of i)s instanceof o0?(r.Ru.addReference(s.key,e),kb(r,s)):s instanceof c0?(rt(qd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||g0(r,s.key)):pt(19791,{wu:s})}function kb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(qd,"New document in limbo: "+i),r.Eu.add(s),Pd(r))}function Pd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new Ib(i)),r.du=r.du.insert(i,s),t0(r.remoteStore,new ba(yi(yc(i.path)),s,"TargetPurposeLimboResolution",mc.ce))}}async function uu(r,e,i){const s=At(r),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,v)=>{d.push(s.pu(v,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){u.push(y);const b=Id.As(v.targetId,y);h.push(b)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,y){const b=At(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Z.forEach(y,(z=>Z.forEach(z.Es,(U=>b.persistence.referenceDelegate.addReference(N,z.targetId,U))).next((()=>Z.forEach(z.ds,(U=>b.persistence.referenceDelegate.removeReference(N,z.targetId,U)))))))))}catch(N){if(!Ir(N))throw N;rt(xd,"Failed to update sequence numbers: "+N)}for(const N of y){const z=N.targetId;if(!N.fromCache){const U=b.Ms.get(z),$=U.snapshotVersion,tt=U.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(z,tt)}}})(s.localStore,h))}async function Hb(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){rt(qd,"User change. New user:",e.toKey());const s=await Zv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new st(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(i,s.Ls)}}function Gb(r,e){const i=At(r),s=i.Au.get(e);if(s&&s.hu)return jt().add(s.key);{let u=jt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const _=i.Tu.get(d);u=u.unionWith(_.view.nu)}return u}}function p0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=f0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bb.bind(null,e),e.Pu.H_=wb.bind(null,e.eventManager),e.Pu.yu=Nb.bind(null,e.eventManager),e}function Qb(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pb.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return XS(this.persistence,new FS,e.initialUser,this.serializer)}Cu(e){return new Xv(Vd.mi,this.serializer)}Du(e){return new nb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class Fb extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new IS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Xv((s=>oc.mi(s,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hb.bind(null,this.syncEngine),await bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Cb})()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),s=(function(h){return new lb(h)})(e.databaseInfo);return(function(h,d,_,v){return new hb(h,d,_,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,_){return new db(s,u,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>C_(this.syncEngine,i,0)),(function(){return E_.v()?new E_:new ib})())}createSyncEngine(e,i){return(function(u,h,d,_,v,y,b){const N=new xb(u,h,d,_,v,y);return b&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);rt(_s,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="FirestoreClient";class Yb{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ke.UNAUTHENTICATED,this.clientId=_d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{rt(ja,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(ja,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ld(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pf(r,e){r.asyncQueue.verifyOperationInProgress(),rt(ja,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await Zv(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function N_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Kb(r);rt(ja,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>A_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>A_(e.remoteStore,u))),r._onlineComponents=e}async function Kb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(ja,"Using user provided OfflineComponentProvider");try{await Pf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Ar("Error using user provided cache. Falling back to memory cache: "+i),await Pf(r,new hc)}}else rt(ja,"Using default OfflineComponentProvider"),await Pf(r,new Fb(void 0));return r._offlineComponents}async function _0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(ja,"Using user provided OnlineComponentProvider"),await N_(r,r._uninitializedComponentsProvider._online)):(rt(ja,"Using default OnlineComponentProvider"),await N_(r,new cd))),r._onlineComponents}function Xb(r){return _0(r).then((e=>e.syncEngine))}async function hd(r){const e=await _0(r),i=e.eventManager;return i.onListen=Mb.bind(null,e.syncEngine),i.onUnlisten=zb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ub.bind(null,e.syncEngine),i}function Zb(r,e,i={}){const s=new Na;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,_,v,y){const b=new y0({next:z=>{b.Nu(),d.enqueueAndForget((()=>l0(h,N)));const U=z.docs.has(_);!U&&z.fromCache?y.reject(new st(X.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&z.fromCache&&v&&v.source==="server"?y.reject(new st(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(z)},error:z=>y.reject(z)}),N=new u0(yc(_.path),b,{includeMetadataChanges:!0,qa:!0});return r0(h,N)})(await hd(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firestore.googleapis.com",V_=!0;class I_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E0,this.ssl=V_}else this.host=e.host,this.ssl=e.ssl??V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DS)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iA;switch(s.type){case"firstParty":return new lA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=D_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),D_.delete(i),s.terminate())})(this),Promise.resolve()}}function Jb(r,e,i,s={}){r=pi(r,Cc);const u=gd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},_=`${e}:${i}`;u&&(xT(`https://${_}`),zT("Firestore",!0)),h.host!==E0&&h.host!==_&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:u,emulatorOptions:s};if(!$o(v,d)&&(r._setSettings(v),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=Ke.MOCK_USER;else{y=MT(s.mockUserToken,r._app?.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(N)}r._authCredentials=new aA(new rv(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class pe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pe(this.firestore,e,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(iu(i,pe._jsonSchema))return new pe(e,s||null,new mt(ee.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ne("string",pe._jsonSchemaVersion),referencePath:Ne("string")};class Da extends Mr{constructor(e,i,s){super(e,i,yc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pe(this.firestore,null,new mt(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Xo(r,e,...i){if(r=ps(r),lv("collection","path",e),r instanceof Cc){const s=ee.fromString(e,...i);return Gy(s),new Da(r,null,s)}{if(!(r instanceof pe||r instanceof Da))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Gy(s),new Da(r.firestore,null,s)}}function Er(r,e,...i){if(r=ps(r),arguments.length===1&&(e=_d.newId()),lv("doc","path",e),r instanceof Cc){const s=ee.fromString(e,...i);return Hy(s),new pe(r,null,new mt(s))}{if(!(r instanceof pe||r instanceof Da))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Hy(s),new pe(r.firestore,r instanceof Da?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $v(this,"async_queue_retry"),this._c=()=>{const s=qf();s&&rt(x_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ir(e))throw e;rt(x_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",O_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Ud.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&pt(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function O_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1})(r,["next","error","complete"])}class vs extends Cc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new M_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function $b(r,e){const i=typeof r=="object"?r:F1(),s=typeof r=="string"?r:nc,u=P1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=VT("firestore");h&&Jb(u,...h)}return u}function kd(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Wb(r),r._firestoreClient}function Wb(r){const e=r._freezeSettings(),i=(function(u,h,d,_){return new bA(u,h,d,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,v0(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Yb(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Qe.fromBase64String(e))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Ne("string",In._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Ne("string",vi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Ne("string",Ei._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^__.*__$/;class e2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,i,this.fieldTransforms):new su(e,this.data,i,this.fieldTransforms)}}function A0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Gd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(A0(this.Ac)&&t2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Sc(e)}Cc(e,i,s,u=!1){return new Gd({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(r){const e=r._freezeSettings(),i=Sc(r._databaseId);return new n2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function S0(r,e,i,s,u,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,u);C0("Data must be an object, but it was:",d,s);const _=b0(s,d);let v,y;if(h.merge)v=new Gn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const N of h.mergeFields){const z=a2(e,N,i);if(!d.contains(z))throw new st(X.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);r2(b,z)||b.push(z)}v=new Gn(b),y=d.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,y=d.fieldTransforms;return new e2(new Vn(_),v,y)}function i2(r,e,i,s=!1){return Fd(i,r.Cc(s?4:3,e))}function Fd(r,e){if(R0(r=ps(r)))return C0("Unsupported field value:",e,r),b0(r,e);if(r instanceof T0)return(function(s,u){if(!A0(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const _ of s){let v=Fd(_,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,u){if((s=ps(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ae.fromDate(s);return{timestampValue:uc(u.serializer,h)}}if(s instanceof ae){const h=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(u.serializer,h)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:Pv(u.serializer,s._byteString)};if(s instanceof pe){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ei)return(function(d,_){return{mapValue:{fields:{[pv]:{stringValue:yv},[ic]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw _.Sc("VectorValues must only contain numeric values.");return bd(_.serializer,y)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${dc(s)}`)})(r,e)}function b0(r,e){const i={};return cv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,((s,u)=>{const h=Fd(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function R0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof vi||r instanceof In||r instanceof pe||r instanceof T0||r instanceof Ei)}function C0(r,e,i){if(!R0(i)||!uv(i)){const s=dc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function a2(r,e,i){if((e=ps(e))instanceof Hd)return e._internalPath;if(typeof e=="string")return w0(r,e);throw fc("Field path arguments must be of type string or ",r,!1,void 0,i)}const s2=new RegExp("[~\\*/\\[\\]]");function w0(r,e,i){if(e.search(s2)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Hd(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new st(X.INVALID_ARGUMENT,_+r+v)}function r2(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Yd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class l2 extends N0{data(){return super.data()}}function Yd(r,e){return typeof e=="string"?w0(r,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kd{}class o2 extends Kd{}function c2(r,e,...i){let s=[];e instanceof Kd&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof Xd)).length,_=h.filter((v=>v instanceof wc)).length;if(d>1||d>0&&_>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class wc extends o2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new wc(e,i,s)}_apply(e){const i=this._parse(e);return D0(e._query,i),new Mr(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=Qd(e.firestore);return(function(h,d,_,v,y,b,N){let z;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){U_(N,b);const $=[];for(const tt of N)$.push(z_(v,h,tt));z={arrayValue:{values:$}}}else z=z_(v,h,N)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||U_(N,b),z=i2(_,d,N,b==="in"||b==="not-in");return we.create(y,b,z)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function h2(r,e,i){const s=e,u=Yd("where",r);return wc._create(u,s,i)}class Xd extends Kd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Xd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const _=h.getFlattenedFilters();for(const v of _)D0(d,v),d=td(d,v)})(e._query,i),new Mr(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function z_(r,e,i){if(typeof(i=ps(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rv(e)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ee.fromString(i));if(!mt.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $y(r,new mt(s))}if(i instanceof pe)return $y(r,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dc(i)}.`)}function U_(r,e){if(!Array.isArray(r)||r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D0(r,e){const i=(function(u,h){for(const d of u)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class f2{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Es(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[ic].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=Ia(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ft(Yv(s),9688,{name:e});const u=new Wl(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return u.isEqual(i)||Hi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gs extends N0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Yd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:Ne("string",gs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Zo extends gs{data(e={}){return super.data(e)}}class Tr{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zo(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((_=>{const v=new Zo(u._firestore,u._userDataWriter,_.doc.key,_.doc,new Hl(u._snapshot.mutatedKeys.has(_.doc.key),u._snapshot.fromCache),u.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new Zo(u._firestore,u._userDataWriter,_.doc.key,_.doc,new Hl(u._snapshot.mutatedKeys.has(_.doc.key),u._snapshot.fromCache),u.query.converter);let y=-1,b=-1;return _.type!==0&&(y=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),b=d.indexOf(_.doc.key)),{type:d2(_.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r){r=pi(r,pe);const e=pi(r.firestore,vs);return Zb(kd(e),r._key).then((i=>M0(e,r,i)))}Tr._jsonSchemaVersion="firestore/querySnapshot/1.0",Tr._jsonSchema={type:Ne("string",Tr._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class I0 extends f2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pe(this.firestore,null,i)}}function fd(r,e,i){r=pi(r,pe);const s=pi(r.firestore,vs),u=V0(r.converter,e);return Zd(s,[S0(Qd(s),"setDoc",r._key,u,r.converter!==null,i).toMutation(r._key,Qn.none())])}function g2(r){return Zd(pi(r.firestore,vs),[new Rd(r._key,Qn.none())])}function x0(r,e){const i=pi(r.firestore,vs),s=Er(r),u=V0(r.converter,e);return Zd(i,[S0(Qd(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then((()=>s))}function L_(r,...e){r=ps(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||j_(e[s])||(i=e[s++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let h,d,_;if(r instanceof pe)d=pi(r.firestore,vs),_=yc(r._key.path),h={next:v=>{e[s]&&e[s](M0(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=pi(r,Mr);d=pi(v.firestore,vs),_=v._query;const y=new I0(d);h={next:b=>{e[s]&&e[s](new Tr(d,y,v,b))},error:e[s+1],complete:e[s+2]},u2(r._query)}return(function(y,b,N,z){const U=new y0(z),$=new u0(b,U,N);return y.asyncQueue.enqueueAndForget((async()=>r0(await hd(y),$))),()=>{U.Nu(),y.asyncQueue.enqueueAndForget((async()=>l0(await hd(y),$)))}})(kd(d),_,u,h)}function Zd(r,e){return(function(s,u){const h=new Na;return s.asyncQueue.enqueueAndForget((async()=>Lb(await Xb(s),u,h))),h.promise})(kd(r),e)}function M0(r,e,i){const s=i.docs.get(e._key),u=new I0(r);return new gs(r,u,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Dr=u})(Q1),tc(new Xl("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),_=new vs(new sA(s.getProvider("auth-internal")),new uA(d,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,b)})(d,u),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),_r(By,qy,e),_r(By,qy,"esm2020")})();var p2="firebase",y2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(p2,y2,"app");const _2={apiKey:"AIzaSyC2SG2b9DeoVb1uILBVKPej53e9wHURq4E",authDomain:"num-sei-57bbb.firebaseapp.com",projectId:"num-sei-57bbb",storageBucket:"num-sei-57bbb.firebasestorage.app",messagingSenderId:"617984148831",appId:"1:617984148831:web:b7f14392449a4389a022ea",measurementId:"G-1390LQNF0M"},v2=Z_(_2),Pi=$b(v2),E2=r=>{const[e,i]=bt.useState(()=>localStorage.getItem("theme")||"dark");return bt.useEffect(()=>{r?(async()=>{try{const h=Er(Pi,`users/${r}/preferences`,"theme"),d=await m2(h);if(d.exists()){const _=d.data().value;i(_),document.documentElement.setAttribute("data-theme",_)}else document.documentElement.setAttribute("data-theme",e)}catch(h){console.error("Error loading theme:",h),document.documentElement.setAttribute("data-theme",e)}})():document.documentElement.setAttribute("data-theme",e)},[r,e]),[e,async()=>{const u=e==="dark"?"light":"dark";if(i(u),localStorage.setItem("theme",u),document.documentElement.setAttribute("data-theme",u),r)try{const h=Er(Pi,`users/${r}/preferences`,"theme");await fd(h,{value:u})}catch(h){console.error("Error saving theme:",h)}}]};function B_({theme:r,onToggle:e}){return R.jsx("button",{className:"theme-toggle",onClick:e,"aria-label":"Alternar tema",children:R.jsx("span",{className:"theme-icon",children:r==="dark"?"":""})})}const kf=r=>Math.floor(Math.random()*r)+1,q_={d4:4,d6:6,d8:8,d10:10,d12:12,d20:20},P_=async(r,e)=>{try{await x0(Xo(Pi,`users/${r}/rollHistory`),{...e,timestamp:Date.now()})}catch(i){console.error("Error saving roll history:",i)}};function T2({sheet:r,username:e,onRollComplete:i}){const[s,u]=bt.useState("d20"),[h,d]=bt.useState(1),[_,v]=bt.useState([]),[y,b]=bt.useState(null),[N,z]=bt.useState("puro"),[U,$]=bt.useState(0),[tt,J]=bt.useState([]),[nt,ot]=bt.useState(null),[ht,Et]=bt.useState(null),zt=bt.useRef(null),_t=bt.useRef(null),w=D=>{Et({color:D,full:!0}),clearTimeout(zt.current),zt.current=setTimeout(()=>Et(null),1200)},C=(D=s,V=h)=>{const x=q_[D]||20,T=[],ft=[],k=(N==="puro"?0:r.stats[N]||0)+Number(U||0);for(let at=0;at<V;at++){const St=kf(x),Ht=St+k;T.push({raw:St,mod:k,total:Ht}),x===20&&(St===1&&w("red"),St===20&&w("green"),(St===2||St===19)&&ft.push({index:at,color:St===2?"red":"green"}))}const W=T.reduce((at,St)=>at+St.total,0);v(T),b(W),J(ft),ot(null),e&&P_(e,{diceString:`${V}${D}`,results:T.map(at=>at.raw),modifier:k,total:W,attribute:N,manualMod:Number(U||0)}),i&&i({results:T,total:W,diceString:`${V}${D}`}),ft.length>0&&(clearTimeout(_t.current),_t.current=setTimeout(()=>J([]),1200))},S=D=>{const V=[kf(20),kf(20)],x=[];V.forEach((k,W)=>{k===2&&x.push({index:W,color:"red"}),k===19&&x.push({index:W,color:"green"})});const T=V.map(k=>({raw:k,mod:0,total:k})),ft=D?T.findIndex(k=>k.raw===Math.max(...V)):T.findIndex(k=>k.raw===Math.min(...V)),wt=T.reduce((k,W)=>k+W.total,0);v(T),b(wt),ot(ft),V.includes(20)&&w("green"),V.includes(1)&&w("red"),J(x),e&&P_(e,{diceString:D?"Vantagem (d20x2)":"Desvantagem (d20x2)",results:V,modifier:0,total:wt,attribute:"puro",manualMod:0}),x.length>0&&(clearTimeout(_t.current),_t.current=setTimeout(()=>J([]),1200))};return R.jsxs("div",{className:"dice-roller",children:[ht&&R.jsx("div",{className:`flash-overlay ${ht.full?"flash-full active":""}`,style:{background:ht.color==="red"?"rgba(220,38,38,.85)":"rgba(34,197,94,.85)"}}),R.jsx("h3",{children:"Rolo de dados"}),R.jsxs("div",{className:"dice-panel",children:[R.jsxs("div",{className:"dice-controls",children:[R.jsx("select",{className:"select",value:s,onChange:D=>u(D.target.value),children:Object.keys(q_).map(D=>R.jsx("option",{value:D,children:D},D))}),R.jsx("input",{type:"number",value:h||"",onChange:D=>d(D.target.value===""?0:Number(D.target.value)),className:"input-number",min:"1"})]}),R.jsxs("div",{className:"dice-modifiers",children:[R.jsxs("select",{value:N,onChange:D=>z(D.target.value),className:"select",children:[R.jsx("option",{value:"puro",children:"Puro (0)"}),Object.entries(r.stats||{}).map(([D,V])=>R.jsxs("option",{value:D,children:[D.toUpperCase()," (",V,")"]},D))]}),R.jsx("input",{type:"number",value:U||"",onChange:D=>$(D.target.value===""?0:Number(D.target.value)),className:"input-number",placeholder:"Mod + / -"})]}),R.jsx("button",{className:"btn-gradient fullwidth mt",onClick:()=>C(),children:"Rolar"}),y!==null&&R.jsx("div",{className:"roll-summary",children:R.jsxs("div",{className:"roll-total",children:[R.jsx("span",{className:"roll-total-label",children:"Total:"}),R.jsx("span",{className:"roll-total-value",children:y})]})}),R.jsxs("div",{className:"results",children:[R.jsx("div",{className:"muted small",children:"Resultados"}),R.jsx("div",{className:"results-grid",children:_.map((D,V)=>R.jsxs("div",{className:`result-item ${nt===V?"highlighted":""}`,children:[R.jsxs("div",{className:"result-number",children:[D.raw," + ",D.mod," = ",R.jsx("strong",{children:D.total})]}),s==="d20"&&tt.some(x=>x.index===V)&&R.jsx("div",{className:"result-halo",style:{boxShadow:`0 0 12px 6px ${tt.find(x=>x.index===V).color==="red"?"rgba(220,38,38,.6)":"rgba(34,197,94,.6)"}`}})]},V))})]}),R.jsxs("div",{className:"quick-actions",children:[R.jsx("h4",{children:"Aes rpidas"}),R.jsxs("div",{className:"two-buttons",children:[R.jsx("button",{className:"btn-primary",onClick:()=>S(!0),children:"Vantagem (d20x2)"}),R.jsx("button",{className:"btn-danger",onClick:()=>S(!1),children:"Desvantagem (d20x2)"})]}),R.jsx("div",{className:"muted small",children:"Dicas: 1  falha crtica. 20  sucesso crtico."})]}),R.jsxs("div",{className:"quick-view",children:[R.jsx("h4",{children:"Viso rpida"}),R.jsxs("div",{className:"quick-list",children:[R.jsxs("div",{children:["HP: ",R.jsx("span",{className:"bold",children:r.bars?.hp||0})," / ",R.jsx("span",{className:"bold",children:r.bars?.maxHp||r.bars?.hp||0})]}),R.jsxs("div",{children:["Inata: ",R.jsx("span",{className:"bold",children:r.bars?.inata||0})]}),R.jsxs("div",{children:["Ether: ",R.jsx("span",{className:"bold",children:r.bars?.ether||0})]}),R.jsxs("div",{children:["Vigor: ",R.jsx("span",{className:"bold",children:r.bars?.vigor||0})]}),R.jsxs("div",{children:["Nvel: ",R.jsx("span",{className:"bold",children:r.level||1})]})]})]})]})]})}function A2({tabs:r,activeTab:e,onTabChange:i}){return R.jsx("div",{className:"tabs-container",children:R.jsx("div",{className:"tabs-list",children:r.map(s=>R.jsxs("button",{className:`tab-button ${e===s.id?"active":""}`,onClick:()=>i(s.id),children:[s.icon&&R.jsx("span",{className:"tab-icon",children:s.icon}),R.jsx("span",{className:"tab-label",children:s.label})]},s.id))})})}function k_({ability:r,isFavorite:e,onUpdate:i,onRemove:s,onToggleFavorite:u,onSave:h}){const[d,_]=bt.useState(!1),[v,y]=bt.useState(!1),[b,N]=bt.useState(r),z=()=>{i(r.id,b),h(),y(!1)};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:`ability-card ${e?"favorite":""}`,children:[R.jsxs("div",{className:"ability-header",children:[R.jsx("button",{className:"ability-expand-btn",onClick:()=>_(!d),"aria-label":d?"Recolher":"Expandir",children:d?"":""}),R.jsx("input",{className:"ability-title",value:r.title,onChange:U=>i(r.id,{title:U.target.value}),onBlur:h,placeholder:"Nome da habilidade"}),R.jsx("button",{className:`favorite-btn ${e?"active":""}`,onClick:()=>u(r.id),"aria-label":e?"Remover dos favoritos":"Adicionar aos favoritos",children:e?"":""}),R.jsx("button",{className:"ability-info-btn",onClick:()=>y(!0),"aria-label":"Detalhes",children:""})]}),d&&R.jsxs("div",{className:"ability-expanded",children:[R.jsx("textarea",{className:"ability-desc",value:r.description,placeholder:"Descrio",onChange:U=>i(r.id,{description:U.target.value}),onBlur:h}),R.jsxs("div",{className:"ability-bottom",children:[R.jsx("input",{className:"ability-mini",value:r.effect||"",placeholder:"Efeito",onChange:U=>i(r.id,{effect:U.target.value}),onBlur:h}),R.jsx("input",{className:"ability-mini",value:r.damage||"",placeholder:"Dano (ex: 1d8)",onChange:U=>i(r.id,{damage:U.target.value}),onBlur:h})]}),R.jsxs("div",{className:"ability-controls-bottom",children:[R.jsxs("select",{value:r.type,onChange:U=>i(r.id,{type:U.target.value}),className:"ability-select",onBlur:h,children:[R.jsx("option",{value:"inata",children:"Inata"}),R.jsx("option",{value:"magia",children:"Magia"}),R.jsx("option",{value:"arte",children:"Arte Divina"})]}),R.jsx("button",{className:"link-danger",onClick:()=>s(r.id),children:"Remover"})]})]})]}),v&&R.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:R.jsxs("div",{className:"modal-content ability-modal",onClick:U=>U.stopPropagation(),children:[R.jsxs("div",{className:"modal-header",children:[R.jsx("h3",{children:"Detalhes da Habilidade"}),R.jsx("button",{className:"modal-close",onClick:()=>y(!1),children:""})]}),R.jsxs("div",{className:"modal-body",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Nome"}),R.jsx("input",{type:"text",value:b.title,onChange:U=>N({...b,title:U.target.value}),className:"input-login"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Descrio"}),R.jsx("textarea",{value:b.description||"",onChange:U=>N({...b,description:U.target.value}),className:"input-login",rows:"4"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Efeito"}),R.jsx("input",{type:"text",value:b.effect||"",onChange:U=>N({...b,effect:U.target.value}),className:"input-login"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Dano"}),R.jsx("input",{type:"text",value:b.damage||"",onChange:U=>N({...b,damage:U.target.value}),className:"input-login",placeholder:"ex: 1d8+2"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Custo"}),R.jsx("input",{type:"text",value:b.cost||"",onChange:U=>N({...b,cost:U.target.value}),className:"input-login",placeholder:"ex: 5 MP"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Tipo"}),R.jsxs("select",{value:b.type,onChange:U=>N({...b,type:U.target.value}),className:"input-login",children:[R.jsx("option",{value:"inata",children:"Inata"}),R.jsx("option",{value:"magia",children:"Magia"}),R.jsx("option",{value:"arte",children:"Arte Divina"})]})]})]}),R.jsxs("div",{className:"modal-footer",children:[R.jsx("button",{className:"btn-primary",onClick:z,children:"Salvar"}),R.jsx("button",{className:"btn-danger",onClick:()=>y(!1),children:"Cancelar"})]})]})})]})}function S2({inventory:r,coins:e,onUpdateInventory:i,onUpdateCoins:s,onSave:u,characterId:h,username:d}){const[_,v]=bt.useState(null),[y,b]=bt.useState({name:"",quantity:1,description:"",tags:[]}),[N,z]=bt.useState(""),[U,$]=bt.useState(["consumvel","equipamento","material"]),[tt,J]=bt.useState("");bt.useEffect(()=>{const S=new Set;r.forEach(D=>{D.tags&&Array.isArray(D.tags)&&D.tags.forEach(V=>S.add(V))}),$(D=>{const V=new Set([...D,...S]);return Array.from(V).sort()})},[r]);const nt=S=>{S?.stopPropagation?.(),S?.preventDefault?.();const D=tt.trim();D&&!U.includes(D)&&($(V=>[...V,D].sort()),J(""))},ot=S=>{if(S?.preventDefault?.(),!y.name?.trim())return;const D={name:y.name.trim(),quantity:y.quantity||1,description:y.description||"",tags:y.tags||[]},V=[...r,D];i(V),b({name:"",quantity:1,description:"",tags:[]}),setTimeout(()=>{u()},100)},ht=S=>{const D=r[S];b({name:D.name||"",quantity:D.quantity||1,description:D.description||"",tags:D.tags||[]}),v(S)},Et=S=>{if(S?.stopPropagation?.(),S?.preventDefault?.(),_===null)return;const D=[...r];D[_]={name:y.name?.trim()||"Novo Item",quantity:y.quantity||1,description:y.description||"",tags:y.tags||[]},i(D),v(null),b({name:"",quantity:1,description:"",tags:[]}),setTimeout(()=>{u()},100)},zt=S=>{S?.stopPropagation?.(),v(null),b({name:"",quantity:1,description:"",tags:[]})},_t=S=>{const D=r.filter((V,x)=>x!==S);i(D),setTimeout(()=>{u()},0)},w=(S,D)=>{D?.stopPropagation?.();const V=y.tags||[],x=V.includes(S)?V.filter(T=>T!==S):[...V,S];b({...y,tags:x})},C=N?r.filter(S=>S.tags&&Array.isArray(S.tags)&&S.tags.includes(N)):r;return R.jsxs("div",{className:"inventory-panel",children:[R.jsxs("div",{className:"coins-section",children:[R.jsxs("div",{className:"coin-field",children:[R.jsx("span",{className:"coin-icon",children:""}),R.jsx("label",{children:"Ouro"}),R.jsx("input",{type:"number",value:e?.gold||0,onChange:S=>s({...e,gold:Number(S.target.value)||0}),onBlur:u,className:"input-number coin-input",min:"0"})]}),R.jsxs("div",{className:"coin-field",children:[R.jsx("span",{className:"coin-icon",children:""}),R.jsx("label",{children:"Prata"}),R.jsx("input",{type:"number",value:e?.silver||0,onChange:S=>s({...e,silver:Number(S.target.value)||0}),onBlur:u,className:"input-number coin-input",min:"0"})]})]}),R.jsxs("div",{className:"filter-section",children:[R.jsx("label",{children:"Filtrar por tag:"}),R.jsxs("select",{value:N,onChange:S=>z(S.target.value),className:"select",children:[R.jsx("option",{value:"",children:"Todas as tags"}),U.map(S=>R.jsx("option",{value:S,children:S},S))]})]}),R.jsxs("div",{className:"tag-manager",children:[R.jsx("input",{type:"text",value:tt,onChange:S=>J(S.target.value),onKeyPress:S=>{S.key==="Enter"&&nt(S)},placeholder:"Nova tag",className:"input-new"}),R.jsx("button",{className:"btn-primary small",onClick:nt,children:"+ Tag"})]}),_===null?R.jsxs("div",{className:"inventory-add-form",children:[R.jsx("h4",{children:"Adicionar Item"}),R.jsxs("div",{className:"form-row",children:[R.jsx("input",{type:"text",value:y.name,onChange:S=>b({...y,name:S.target.value}),onKeyPress:S=>{S.key==="Enter"&&y.name?.trim()&&ot()},placeholder:"Nome do item",className:"input-new"}),R.jsx("input",{type:"number",value:y.quantity,onChange:S=>b({...y,quantity:Number(S.target.value)||1}),placeholder:"Qtd",className:"input-number",min:"1"}),R.jsx("button",{className:"btn-primary",onClick:ot,disabled:!y.name?.trim(),children:"+ Adicionar Item"})]})]}):R.jsxs("div",{className:"item-edit-form",children:[R.jsx("h4",{children:"Editar Item"}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Nome"}),R.jsx("input",{type:"text",value:y.name,onChange:S=>b({...y,name:S.target.value}),className:"input-login"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Quantidade"}),R.jsx("input",{type:"number",value:y.quantity,onChange:S=>b({...y,quantity:Number(S.target.value)||1}),className:"input-login",min:"1"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Descrio"}),R.jsx("textarea",{value:y.description,onChange:S=>b({...y,description:S.target.value}),className:"input-login",rows:"3"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Tags"}),R.jsx("div",{className:"tags-container",children:U.map(S=>R.jsx("button",{type:"button",className:`tag-button ${y.tags?.includes(S)?"active":""}`,onClick:D=>w(S,D),children:S},S))})]}),R.jsxs("div",{className:"form-actions",children:[R.jsx("button",{className:"btn-primary",onClick:Et,children:"Salvar"}),R.jsx("button",{className:"btn-danger",onClick:zt,children:"Cancelar"})]})]}),R.jsxs("div",{className:"inventory-list-container",children:[R.jsxs("h4",{children:["Itens (",C.length,")"]}),R.jsx("ul",{className:"inventory-list",children:C.map((S,D)=>{const V=r.indexOf(S);return R.jsxs("li",{className:"inventory-item",children:[R.jsxs("div",{className:"item-info",children:[R.jsx("span",{className:"item-name",children:S.name||"Item sem nome"}),S.quantity>1&&R.jsxs("span",{className:"item-quantity",children:["x",S.quantity]}),S.description&&R.jsx("span",{className:"item-description",children:S.description}),S.tags&&S.tags.length>0&&R.jsx("div",{className:"item-tags",children:S.tags.map(x=>R.jsx("span",{className:"tag-badge",children:x},x))})]}),R.jsxs("div",{className:"item-actions",children:[R.jsx("button",{className:"link-primary",onClick:()=>ht(V),children:"Editar"}),R.jsx("button",{className:"link-danger",onClick:()=>_t(V),children:""})]})]},V)})}),C.length===0&&R.jsx("div",{className:"empty-state",children:N?"Nenhum item com essa tag":"Inventrio vazio. Adicione itens acima."})]})]})}const b2=[{id:"attributes",label:"Atributos",icon:""},{id:"abilities",label:"Habilidades",icon:""},{id:"inventory",label:"Inventrio",icon:""},{id:"status",label:"Status",icon:""},{id:"notes",label:"Anotaes",icon:""}];function R2({sheet:r,onUpdateSheet:e,onSave:i,username:s,characterId:u}){const[h,d]=bt.useState(()=>localStorage.getItem(`activeTab-${u}`)||"attributes"),[_,v]=bt.useState([]),[y,b]=bt.useState("inata"),[N,z]=bt.useState(!1),[U,$]=bt.useState({title:"",type:"inata",description:"",effect:"",damage:"",cost:""}),[tt,J]=bt.useState({name:"",effect:""}),[nt,ot]=bt.useState({name:"",description:""});bt.useEffect(()=>{localStorage.setItem(`activeTab-${u}`,h)},[h,u]),bt.useEffect(()=>{if(s&&u){const T=`favorites-${s}-${u}`,ft=localStorage.getItem(T);if(ft)try{v(JSON.parse(ft))}catch(wt){console.error("Error loading favorites:",wt)}}},[s,u]),bt.useEffect(()=>{$(T=>({...T,type:y}))},[y]);const ht=T=>{v(T),s&&u&&localStorage.setItem(`favorites-${s}-${u}`,JSON.stringify(T))},Et=T=>{const ft=_.includes(T)?_.filter(wt=>wt!==T):[..._,T];ht(ft)},zt=(T,ft)=>{const wt=r.abilities.map(k=>k.id===T?{...k,...ft}:k);e({...r,abilities:wt})},_t=T=>{const ft=r.abilities.filter(wt=>wt.id!==T);e({...r,abilities:ft}),i()},w=()=>{if(!U.title.trim()){alert("Por favor, insira um nome para a habilidade.");return}const T={id:Date.now(),title:U.title.trim(),type:U.type||y,description:U.description||"",effect:U.effect||"",damage:U.damage||"",cost:U.cost||""};e({...r,abilities:[...r.abilities,T]}),$({title:"",type:y,description:"",effect:"",damage:"",cost:""}),z(!1),setTimeout(()=>{i()},0)},C=()=>{if(!tt.name.trim())return;const T=JSON.parse(JSON.stringify(r));T.traits=[...T.traits||[],{id:Date.now(),name:tt.name.trim(),effect:tt.effect||""}],e(T),J({name:"",effect:""}),setTimeout(()=>{i()},0)},S=()=>{if(!nt.name.trim())return;const T=JSON.parse(JSON.stringify(r));T.effects=[...T.effects||[],{id:Date.now(),name:nt.name.trim(),description:nt.description||""}],e(T),ot({name:"",description:""}),setTimeout(()=>{i()},0)},D=r.abilities.filter(T=>T.type===y),V=D.filter(T=>_.includes(T.id)),x=D.filter(T=>!_.includes(T.id));return R.jsxs("div",{className:"character-sheet",children:[R.jsx(A2,{tabs:b2,activeTab:h,onTabChange:d}),h==="attributes"&&R.jsx("div",{className:"tab-content",children:R.jsxs("section",{className:"two-columns",children:[R.jsxs("div",{className:"panel bars-panel",children:[R.jsx("h3",{children:"Barras"}),[{key:"bars.inata",label:"Inata",colorClass:"bar-blue",max:r.level*200},{key:"bars.ether",label:"Ether",colorClass:"bar-orange",max:r.level*100},{key:"bars.vigor",label:"Vigor",colorClass:"bar-purple",max:r.level*50},{key:"bars.hp",label:"Vida (HP)",colorClass:"bar-red",max:r.bars?.maxHp||r.bars?.hp||100}].map(T=>{const ft=T.key.split("."),wt=r[ft[0]]?.[ft[1]]||0,k=T.max||100;return R.jsxs("div",{className:"bar-row",children:[R.jsxs("div",{className:"bar-top",children:[R.jsx("div",{className:"bar-label",children:T.label}),R.jsxs("div",{className:"bar-inputs",children:[R.jsx("input",{type:"number",value:wt,max:T.max,onChange:W=>{const at=JSON.parse(JSON.stringify(r));at[ft[0]][ft[1]]=W.target.value===""?0:Number(W.target.value),e(at)},onBlur:i,className:"input-number bar-input"}),T.key==="bars.hp"&&R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"bar-separator",children:"/"}),R.jsx("input",{type:"number",value:r.bars?.maxHp||r.bars?.hp||0,onChange:W=>{const at=JSON.parse(JSON.stringify(r));at.bars||(at.bars={}),at.bars.maxHp=W.target.value===""?0:Number(W.target.value),e(at)},onBlur:i,className:"input-number bar-input",placeholder:"Max"})]})]})]}),R.jsx("div",{className:`bar-fill ${T.colorClass}`,style:{width:`${Math.min(wt/k*100,100)}%`},children:R.jsx("div",{className:"bar-fill-inner"})})]},T.key)})]}),R.jsxs("div",{className:"panel stats-panel",children:[R.jsx("h3",{children:"Atributos"}),R.jsx("div",{className:"stats-grid",children:Object.entries(r.stats||{}).map(([T,ft])=>R.jsxs("div",{className:"stat-cell",children:[R.jsx("div",{className:"stat-key",children:T.toUpperCase()}),R.jsx("input",{className:"stat-input",value:ft||"",onChange:wt=>{const k=JSON.parse(JSON.stringify(r));k.stats||(k.stats={}),k.stats[T]=wt.target.value===""?0:Number(wt.target.value),e(k)},onBlur:i})]},T))})]})]})}),h==="abilities"&&R.jsx("div",{className:"tab-content",children:R.jsxs("div",{className:"abilities-panel",children:[R.jsxs("div",{className:"abilities-header",children:[R.jsx("h3",{children:"Habilidades"}),R.jsx("div",{className:"tabs",children:["inata","magia","arte"].map(T=>R.jsx("button",{className:`tab-button ${y===T?"active":""}`,onClick:()=>b(T),children:T==="inata"?"Inata":T==="magia"?"Magia":"Arte Divina"},T))}),R.jsx("button",{className:"btn-primary",onClick:()=>z(!N),children:N?" Cancelar":"+ Habilidade"})]}),N&&R.jsxs("div",{className:"add-ability-form",children:[R.jsxs("div",{className:"form-row",children:[R.jsx("input",{type:"text",placeholder:"Nome da habilidade *",value:U.title,onChange:T=>$({...U,title:T.target.value}),className:"input-new",autoFocus:!0}),R.jsxs("select",{value:U.type,onChange:T=>$({...U,type:T.target.value}),className:"select",children:[R.jsx("option",{value:"inata",children:"Inata"}),R.jsx("option",{value:"magia",children:"Magia"}),R.jsx("option",{value:"arte",children:"Arte Divina"})]})]}),R.jsx("textarea",{placeholder:"Descrio",value:U.description,onChange:T=>$({...U,description:T.target.value}),className:"input-new",rows:"3"}),R.jsxs("div",{className:"form-row",children:[R.jsx("input",{type:"text",placeholder:"Efeito",value:U.effect,onChange:T=>$({...U,effect:T.target.value}),className:"input-new"}),R.jsx("input",{type:"text",placeholder:"Dano (ex: 1d8)",value:U.damage,onChange:T=>$({...U,damage:T.target.value}),className:"input-new"}),R.jsx("input",{type:"text",placeholder:"Custo (ex: 5 MP)",value:U.cost,onChange:T=>$({...U,cost:T.target.value}),className:"input-new"})]}),R.jsxs("div",{className:"form-actions",children:[R.jsx("button",{className:"btn-primary",onClick:w,children:"Adicionar Habilidade"}),R.jsx("button",{className:"btn-danger",onClick:()=>{z(!1),$({title:"",type:y,description:"",effect:"",damage:"",cost:""})},children:"Cancelar"})]})]}),R.jsxs("div",{className:"abilities-list",children:[V.map(T=>R.jsx(k_,{ability:T,isFavorite:!0,onUpdate:zt,onRemove:_t,onToggleFavorite:Et,onSave:i},T.id)),x.map(T=>R.jsx(k_,{ability:T,isFavorite:!1,onUpdate:zt,onRemove:_t,onToggleFavorite:Et,onSave:i},T.id)),D.length===0&&!N&&R.jsx("div",{className:"empty-state",children:'Nenhuma habilidade deste tipo ainda. Clique em "+ Habilidade" para adicionar.'})]})]})}),h==="inventory"&&R.jsx("div",{className:"tab-content",children:R.jsx(S2,{inventory:r.inventory||[],coins:r.coins||{gold:0,silver:0},onUpdateInventory:T=>e({...r,inventory:T}),onUpdateCoins:T=>e({...r,coins:T}),onSave:i,characterId:u,username:s})}),h==="status"&&R.jsx("div",{className:"tab-content",children:R.jsxs("div",{className:"panel",children:[R.jsx("h3",{children:"Traos"}),R.jsxs("div",{className:"trait-add",children:[R.jsx("input",{type:"text",value:tt.name,onChange:T=>J({...tt,name:T.target.value}),onKeyPress:T=>{T.key==="Enter"&&tt.name.trim()&&C()},placeholder:"Nome do trao",className:"input-new"}),R.jsx("input",{type:"text",value:tt.effect,onChange:T=>J({...tt,effect:T.target.value}),onKeyPress:T=>{T.key==="Enter"&&tt.name.trim()&&C()},placeholder:"Efeito",className:"input-new"}),R.jsx("button",{className:"btn-primary small",onClick:C,disabled:!tt.name.trim(),children:"+"})]}),R.jsx("ul",{className:"trait-list",children:(r.traits||[]).map(T=>R.jsxs("li",{className:"trait-item",children:[R.jsxs("div",{children:[R.jsx("strong",{children:T.name}),": ",T.effect]}),R.jsx("button",{className:"link-danger",onClick:()=>{const ft=JSON.parse(JSON.stringify(r));ft.traits=(ft.traits||[]).filter(wt=>wt.id!==T.id),e(ft),setTimeout(()=>i(),0)},children:""})]},T.id))}),R.jsx("h3",{className:"mt",children:"Efeitos Temporrios"}),R.jsxs("div",{className:"effect-add",children:[R.jsx("input",{type:"text",value:nt.name,onChange:T=>ot({...nt,name:T.target.value}),onKeyPress:T=>{T.key==="Enter"&&nt.name.trim()&&S()},placeholder:"Nome do efeito",className:"input-new"}),R.jsx("input",{type:"text",value:nt.description,onChange:T=>ot({...nt,description:T.target.value}),onKeyPress:T=>{T.key==="Enter"&&nt.name.trim()&&S()},placeholder:"Descrio",className:"input-new"}),R.jsx("button",{className:"btn-primary small",onClick:S,disabled:!nt.name.trim(),children:"+"})]}),R.jsx("ul",{className:"inventory-list",children:(r.effects||[]).map(T=>R.jsxs("li",{className:"inventory-item",children:[R.jsxs("span",{children:[T.name,": ",T.description]}),R.jsx("button",{className:"link-danger",onClick:()=>{const ft=JSON.parse(JSON.stringify(r));ft.effects=(ft.effects||[]).filter(wt=>wt.id!==T.id),e(ft),setTimeout(()=>i(),0)},children:""})]},T.id))})]})}),h==="notes"&&R.jsx("div",{className:"tab-content",children:R.jsxs("div",{className:"panel",children:[R.jsx("h3",{children:"Anotaes"}),R.jsx("textarea",{className:"notes-textarea",value:r.notes||"",onChange:T=>e({...r,notes:T.target.value}),onBlur:i,placeholder:"Anotaes sobre o personagem...",rows:"15"})]})})]})}function C2(){const[r,e]=bt.useState(!1),[i,s]=bt.useState(""),[u,h]=bt.useState(""),[d,_]=bt.useState(""),[v,y]=bt.useState([]),[b,N]=bt.useState(null),[z,U]=bt.useState(!1),[$,tt]=E2(i),J={name:"New Character",isMain:!0,level:1,image:"",bars:{inata:10,ether:10,vigor:10,hp:20,maxHp:20},stats:{for:10,des:10,sab:10,int:10,car:10,con:10,arteDivina:0,inata:0,magica:0},abilities:[],inventory:[],coins:{gold:0,silver:0},traits:[],effects:[],notes:"",createdAt:Date.now(),owner:""},[nt,ot]=bt.useState(J),ht=async w=>{if(w.preventDefault(),!i||!u){_("Por favor, preencha nome de usurio e senha.");return}try{const C=Er(Pi,"users",i),S=c2(Xo(Pi,"users"),h2("username","==",i)),D=await L_(S,async V=>{V.empty?(await fd(C,{username:i,password:u}),e(!0),_("")):V.docs[0].data().password===u?(e(!0),_("")):_("Senha incorreta.")});return()=>D()}catch(C){console.error("Login error",C),_("Erro ao fazer login: "+C.message)}};bt.useEffect(()=>{if(!r)return;const w=Xo(Pi,`users/${i}/characters`),C=L_(w,S=>{const D=S.docs.map(x=>({id:x.id,...x.data()}));D.sort((x,T)=>x.isMain===T.isMain?0:x.isMain?-1:1),y(D),U(!1);const V=D.filter(x=>x.isMain);if(V.length>0){const x=V.reduce((T,ft)=>ft.createdAt>T.createdAt?ft:T);N(x.id),ot(x)}else N(null),ot({...J,owner:i})});return()=>C()},[r,i]),bt.useEffect(()=>{if(b){const w=v.find(C=>C.id===b);if(w){const C={...J,...w,bars:{...J.bars,...w.bars},stats:{...J.stats,...w.stats},coins:w.coins||{gold:0,silver:0},inventory:w.inventory||[],abilities:w.abilities||[],traits:w.traits||[],effects:w.effects||[]};ot(C)}}},[b,v]);const Et=async w=>{try{const C={...w,owner:i};if(C.id)await fd(Er(Pi,`users/${i}/characters`,C.id),C);else{const S=await x0(Xo(Pi,`users/${i}/characters`),C);N(S.id)}}catch(C){console.error("save error",C),alert("Erro ao salvar: "+C.message)}},zt=async w=>{window.confirm("Deletar ficha?")&&(await g2(Er(Pi,`users/${i}/characters`,w)),N(null),ot({...J,owner:i}))},_t=()=>{e(!1),s(""),h(""),N(null),ot({...J,owner:""}),y([])};return r?R.jsxs("div",{className:"container",children:[R.jsx(B_,{theme:$,onToggle:tt}),R.jsxs("div",{className:"app-grid",children:[R.jsxs("aside",{className:"sidebar",children:[R.jsxs("h2",{children:["Fichas de ",i]}),R.jsxs("div",{className:"controls",children:[R.jsx("button",{className:"btn-primary fullwidth",onClick:()=>{const w={...J,name:"Nova Ficha "+(v.length+1),owner:i};ot(w),Et(w)},children:"+ Criar ficha"}),R.jsx("button",{className:"btn-danger fullwidth",onClick:_t,children:"Sair"}),R.jsx("div",{className:"list-scroll",children:z?R.jsx("div",{className:"muted",children:"Carregando..."}):v.map(w=>R.jsxs("div",{className:`char-item ${b===w.id?"selected":""}`,onClick:()=>N(w.id),children:[R.jsxs("div",{className:"char-info",children:[R.jsx("div",{className:"char-name",children:w.name}),R.jsx("div",{className:"char-sub muted",children:w.isMain?"Principal":"Familiar"})]}),R.jsx("div",{className:"char-actions",children:R.jsx("button",{className:"btn-danger small",onClick:C=>{C.stopPropagation(),zt(w.id)},children:"Deletar"})})]},w.id))})]})]}),R.jsxs("main",{className:"editor",children:[R.jsxs("div",{className:"editor-header",children:[R.jsxs("div",{className:"character-header",children:[nt.image&&R.jsx("img",{src:nt.image,alt:"Character",className:"character-image"}),R.jsxs("div",{className:"character-info",children:[R.jsx("input",{className:"title-input",value:nt.name,onChange:w=>ot({...nt,name:w.target.value}),onBlur:()=>Et(nt)}),R.jsxs("div",{className:"level-input",children:[R.jsx("label",{children:"Nvel"}),R.jsx("input",{type:"number",value:nt.level||"",onChange:w=>ot({...nt,level:w.target.value===""?0:Number(w.target.value)}),onBlur:()=>Et(nt),className:"input-number"})]})]})]}),R.jsxs("div",{className:"header-controls",children:[R.jsx("input",{type:"text",placeholder:"URL da imagem",value:nt.image||"",onChange:w=>ot({...nt,image:w.target.value}),onBlur:()=>Et(nt),className:"input-login"}),R.jsx("label",{className:"muted",children:"Principal"}),R.jsx("input",{type:"checkbox",checked:nt.isMain||!1,onChange:w=>{const C={...nt,isMain:w.target.checked};ot(C),Et(C)}}),R.jsx("button",{className:"btn-success",onClick:()=>Et(nt),children:"Salvar"})]})]}),R.jsx(R2,{sheet:nt,onUpdateSheet:ot,onSave:()=>Et(nt),username:i,characterId:b})]}),R.jsx("aside",{className:"right-aside",children:R.jsx(T2,{sheet:nt,username:i,onRollComplete:w=>{console.log("Roll completed:",w)}})})]}),R.jsx("footer",{className:"footer",children:"Conectado ao Firestore. Sistema de fichas de RPG melhorado."})]}):R.jsxs("div",{className:"login-container",children:[R.jsx(B_,{theme:$,onToggle:tt}),R.jsxs("div",{className:"login-panel",children:[R.jsx("h2",{children:"Login"}),R.jsxs("form",{onSubmit:ht,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Nome de Usurio"}),R.jsx("input",{type:"text",value:i,onChange:w=>s(w.target.value),placeholder:"Digite seu nome de usurio",className:"input-login"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Senha"}),R.jsx("input",{type:"password",value:u,onChange:w=>h(w.target.value),placeholder:"Digite sua senha",className:"input-login"})]}),d&&R.jsx("div",{className:"error-message",children:d}),R.jsx("button",{type:"submit",className:"btn-primary fullwidth",children:"Entrar"})]})]})]})}vT.createRoot(document.getElementById("root")).render(R.jsx(bt.StrictMode,{children:R.jsx(C2,{})}));
